{"version":3,"file":"angular-editor-lib.js","sources":["../projects/angular-editor-lib/src/lib/services/utils.service.ts","../../projects/angular-editor-lib/src/lib/store.ts","../projects/angular-editor-lib/src/lib/services/store.service.ts","../esm2015/projects/angular-editor-lib/src/lib/components/bordered-area/bordered-area.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/bordered-area/bordered-area.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/box-item/box-item.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/box-item/box-item.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-background/canvas-background.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-background/canvas-background.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-grid/canvas-grid.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-grid/canvas-grid.component.html","../projects/angular-editor-lib/src/lib/actions/border-and-selected.actions.ts","../projects/angular-editor-lib/src/lib/actions/canvas.actions.ts","../projects/angular-editor-lib/src/lib/actions/nodes.actions.ts","../projects/angular-editor-lib/src/lib/actions/refline.actions.ts","../projects/angular-editor-lib/src/lib/directives/draggable.directive.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas/canvas.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/canvas/canvas.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/layer-tree/layer-tree.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/layer-tree/layer-tree.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/panel/panel.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/panel/panel.component.ts","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/canvas-forms/canvas-forms.component.html","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/canvas-forms/canvas-forms.component.ts","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/widget-form/widget-form.component.html","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/widget-form/widget-form.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/property-form/property-form.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/property-form/property-form.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/resize-handle/resize-handle.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/resize-handle/resize-handle.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/rotate-handle/rotate-handle.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/rotate-handle/rotate-handle.component.html","../projects/angular-editor-lib/src/lib/directives/no-zoom-area.directive.ts","../projects/angular-editor-lib/src/lib/directives/selector.directive.ts","../projects/angular-editor-lib/src/lib/directives/zoom-area.directive.ts","../projects/angular-editor-lib/src/lib/directives/ce-toolbar.directive.ts","../esm2015/projects/angular-editor-lib/src/lib/components/toolbar/toolbar.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/toolbar/toolbar.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/widget-list/widget-list.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/widget-list/widget-list.component.html","../../projects/angular-editor-lib/src/lib/angular-editor-lib.component.html","../../projects/angular-editor-lib/src/lib/angular-editor-lib.component.ts","../../projects/angular-editor-lib/src/lib/angular-editor-lib.module.ts","../../../projects/angular-editor-lib/src/public-api.ts","../../../projects/angular-editor-lib/src/angular-editor-lib.ts"],"sourcesContent":["import { Injectable, TemplateRef } from '@angular/core';\nimport * as _ from 'lodash';\nimport { INode } from '../store';\n\nexport type IPosition = [number, number];\nexport interface IAbsolutePosition {\n  tl: IPosition;\n  tr: IPosition;\n  bl: IPosition;\n  br: IPosition;\n}\n\nexport interface IVerticalAndHorizontalPosition {\n  t: IPosition;\n  r: IPosition;\n  b: IPosition;\n  l: IPosition;\n}\n\nexport interface IDOMRect {\n  width: number;\n  height: number;\n  left: number;\n  top: number;\n  cx?: number;\n  cy?: number;\n  bottom?: number;\n  right?: number;\n}\n\nexport type IRectDirection = 'tl' | 't' | 'tr' | 'r' | 'br' | 'b' | 'bl' | 'l';\n\nconst SPECIAL_ROTATE = new Set([0, 90, 180, 270, 360]);\n\nexport function genNodeId(): string {\n  return `${Date.now()}${Math.round(Math.random() * 1000000000000)}`;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class CeUtilsService {\n  public static shared: CeUtilsService;\n\n  constructor() {\n    CeUtilsService.shared = this;\n  }\n\n  public isTemplateType(content: any) {\n    return content instanceof TemplateRef;\n  }\n\n  public isDeepEqual(v1: any, v2: any) {\n    if (typeof v1 !== typeof v2) {\n      return false;\n    } else {\n      switch (typeof v1) {\n        case 'number':\n        case 'string':\n        case 'bigint':\n        case 'boolean':\n        case 'symbol':\n        case 'undefined':\n        case 'function':\n          return v1 === v2;\n        case 'object':\n          if (v1 === null || v2 === null) {\n            return v1 === v2;\n          } else if (Array.isArray(v1)) {\n            if (v1.length !== v2.length) {\n              return false;\n            }\n            let flag = true;\n            v1.forEach((v, i) => {\n              if (flag) {\n                flag = this.isDeepEqual(v, v2[i]);\n              }\n            });\n            return flag;\n          } else if (v1 instanceof Set && v2 instanceof Set) {\n            return this.isDeepEqual([...v1], [...v2]);\n          } else {\n            let flag = true;\n            Object.keys(v1).forEach((v1k) => {\n              if (flag) {\n                if (v2.hasOwnProperty(v1k)) {\n                  flag = this.isDeepEqual(v1[v1k], v2[v1k]);\n                } else {\n                  flag = false;\n                }\n              }\n            });\n            return flag;\n          }\n      }\n    }\n  }\n\n  /**\n   * 通过节点ID在树中查找节点\n   * @param id 节点ID\n   * @param nodes 节点树\n   */\n  public getNodeById<T = any>(id: string, nodes: INode<T>[]): INode<T> {\n    let flag = false;\n    let node: INode<T>;\n    const stack = [...nodes];\n    while (!flag && stack.length) {\n      const item = stack.pop();\n      if (item.id === id) {\n        flag = true;\n        node = item;\n      } else {\n        if (item.children && item.children.length) {\n          stack.push(...item.children.map((i) => ({ ...i, parentNode: item })));\n        }\n      }\n    }\n    return node;\n  }\n\n  /**\n   * 通过节点ID查找节点及节点所有父级\n   * @param id 节点ID\n   * @param nodes 节点树\n   */\n  public getNodeAndParentListById<T = any>(id: string | undefined, nodes: INode<T>[]): INode[] {\n    if (!id) {\n      return [];\n    }\n    const rootIdSet = new Set(nodes.map((node) => node.id));\n    let flag = false;\n    let path: INode[] = [];\n    const stack = [...nodes];\n    while (!flag && stack.length) {\n      const node = stack.shift();\n      if (rootIdSet.has(node.id)) {\n        path = [];\n      }\n      if (node.id === id) {\n        flag = true;\n        path.unshift(node);\n      } else {\n        if (node.children && node.children.length) {\n          path.unshift(node);\n          stack.unshift(...node.children);\n        }\n      }\n    }\n    return path;\n  }\n\n  /**\n   * 通过子节点id集合和节点树，获取子节点的父节点，若子节点不在同一级则返回undefined\n   * @param childrenIds 子节点ID列表\n   * @param nodes 节点集合\n   */\n  public getSameLayerParentByChildren(childrenIds: string[], nodes: INode[]): INode | false {\n    let flag = true;\n    const parents = childrenIds.map((id) => this.getNodeAndParentListById(id, nodes)[1]);\n    let prevParent = parents.pop();\n    while (flag && parents.length) {\n      const parent = parents.pop();\n      if (prevParent?.id === parent?.id) {\n        prevParent = parent;\n      } else {\n        flag = false;\n      }\n    }\n    return flag && prevParent;\n  }\n\n  /**\n   * 通过直线的两点方程获取直线上人一点点的坐标\n   * y = (x-x1)*(y2-y1)/(x2-x1)+y1\n   * x = (y-y1)*(x2-x1)/(y2-y1)+x1\n   * @param direction 要获取点的坐标轴\n   * @param n 要获取点的已知轴的坐标\n   * @param line 确定一条直线的两点的坐标\n   */\n  public getPointInLine(direction: 'x' | 'y', n: number, line: [[number, number], [number, number]]): number {\n    const [[x1, y1], [x2, y2]] = line;\n    switch (direction) {\n      case 'x':\n        return ((n - y1) * (x2 - x1)) / (y2 - y1) + x1;\n      case 'y':\n        return ((n - x1) * (y2 - y1)) / (x2 - x1) + y1;\n    }\n  }\n\n  /**\n   * 通过元素在所在坐标系的中心点、宽、高以及旋转角度获取元素在所在坐标系的四个顶点的坐标\n   * @param cx 中心点x轴坐标\n   * @param cy 中心点y轴坐标\n   * @param width 宽\n   * @param height 高\n   * @param rotate 旋转角度\n   */\n  public getAbsolutePosition(cx: number, cy: number, width: number, height: number, rotate = 0): IAbsolutePosition {\n    if (SPECIAL_ROTATE.has(rotate)) {\n      return this.getAbsolutePositionSpecial(cx, cy, width, height, rotate);\n    } else {\n      const r = Math.sqrt((width / 2) ** 2 + (height / 2) ** 2);\n      const patchRad1 = Math.atan(height / 2 / (width / 2));\n      const patchRad2 = Math.atan(width / 2 / (height / 2));\n      const currentRad = (rotate * Math.PI) / 180;\n\n      return {\n        tl: [cx - Math.cos(currentRad + patchRad1) * r, cy - Math.sin(currentRad + patchRad1) * r],\n        tr: [cx - Math.cos(currentRad + patchRad1 + patchRad2 * 2) * r, cy - Math.sin(currentRad + patchRad1 + patchRad2 * 2) * r],\n        bl: [cx - Math.cos(currentRad - patchRad1) * r, cy - Math.sin(currentRad - patchRad1) * r],\n        br: [cx - Math.cos(currentRad - patchRad1 - patchRad2 * 2) * r, cy - Math.sin(currentRad - patchRad1 - patchRad2 * 2) * r],\n      };\n    }\n  }\n\n  /**\n   * 获取特殊旋转角度下元素的四个顶点在所在坐标系的坐标\n   * @param cx 元素的中心点x轴坐标\n   * @param cy 元素的中心点y轴坐标\n   * @param width 宽\n   * @param height 高\n   * @param rotate 旋转角度\n   */\n  public getAbsolutePositionSpecial(cx: number, cy: number, width: number, height: number, rotate: number): IAbsolutePosition | undefined {\n    if (SPECIAL_ROTATE.has(rotate)) {\n      switch (rotate) {\n        case 0:\n        case 360:\n          return {\n            tl: [cx - width / 2, cy - height / 2],\n            tr: [cx + width / 2, cy - height / 2],\n            bl: [cx - width / 2, cy + height / 2],\n            br: [cx + width / 2, cy + height / 2],\n          };\n        case 90:\n          return {\n            tl: [cx + height / 2, cy - width / 2],\n            tr: [cx + height / 2, cy + width / 2],\n            bl: [cx - height / 2, cy - width / 2],\n            br: [cx - height / 2, cy + width / 2],\n          };\n        case 180:\n          return {\n            tl: [cx + width / 2, cy + height / 2],\n            tr: [cx - width / 2, cy + height / 2],\n            bl: [cx + width / 2, cy - height / 2],\n            br: [cx - width / 2, cy - height / 2],\n          };\n        case 270:\n          return {\n            tl: [cx - height / 2, cy + width / 2],\n            tr: [cx - height / 2, cy - width / 2],\n            bl: [cx + height / 2, cy + width / 2],\n            br: [cx + height / 2, cy - width / 2],\n          };\n      }\n    }\n  }\n\n  /**\n   * 通过元素顶点坐标获取上、右、下和左方向的坐标\n   * @param position\n   */\n  public getVerticalAndHorizontalPointByAbsolutePosition(position: IAbsolutePosition): IVerticalAndHorizontalPosition {\n    const { tl, bl, br, tr } = position;\n    return {\n      t: [(Math.max(tl[0], tr[0]) - Math.min(tl[0], tr[0])) / 2, (Math.max(tl[1], tr[1]) - Math.min(tl[1], tr[1])) / 2],\n      r: [(Math.max(br[0], tr[0]) - Math.min(br[0], tr[0])) / 2, (Math.max(br[1], tr[1]) - Math.min(br[1], tr[1])) / 2],\n      b: [(Math.max(bl[0], br[0]) - Math.min(bl[0], br[0])) / 2, (Math.max(bl[1], br[1]) - Math.min(bl[1], br[1])) / 2],\n      l: [(Math.max(tl[0], bl[0]) - Math.min(tl[0], bl[0])) / 2, (Math.max(tl[1], bl[1]) - Math.min(tl[1], bl[1])) / 2],\n    };\n  }\n\n  /**\n   * 通过HTML元素的宽、高、旋转角度以及所在坐标系的x、y点获取元素在所在坐标系的包围盒\n   * @param width 宽\n   * @param height 高\n   * @param left 在所在坐标系中x轴的坐标\n   * @param top 在所在坐标系中y轴的坐标\n   * @param rotate 旋转角度\n   */\n  public getBoundingBox(width: number, height: number, left: number, top: number, rotate = 0): IDOMRect {\n    const position = this.getAbsolutePosition(left + width / 2, top + height / 2, width, height, rotate);\n    const l = Math.min(...this.getAxisListByPosition('x', [position]));\n    const r = Math.max(...this.getAxisListByPosition('x', [position]));\n    const t = Math.min(...this.getAxisListByPosition('y', [position]));\n    const b = Math.max(...this.getAxisListByPosition('y', [position]));\n    return { left: l, top: t, width: r - l, height: b - t, bottom: b, right: r, cx: l + (r - l) / 2, cy: t + (b - t) / 2 };\n  }\n\n  /**\n   * 通过盒子的绝对坐标列表获取对应坐标的值的集合\n   * @param axis 要获取的坐标轴\n   * @param positions 绝对坐标列表\n   */\n  public getAxisListByPosition(axis: 'x' | 'y', positions: IAbsolutePosition[]): number[] {\n    switch (axis) {\n      case 'x':\n        return positions.reduce((arr, position) => [...arr, position.bl[0], position.br[0], position.tl[0], position.tr[0]], []);\n      case 'y':\n        return positions.reduce((arr, position) => [...arr, position.bl[1], position.br[1], position.tl[1], position.tr[1]], []);\n    }\n  }\n\n  /**\n   * 获取多个盒子的最小外包围盒的尺寸\n   * @param positions 盒子绝对坐标列表\n   */\n  public getOuterBoundingBox(positions: IAbsolutePosition[]): IDOMRect {\n    const l = Math.min(...this.getAxisListByPosition('x', positions));\n    const r = Math.max(...this.getAxisListByPosition('x', positions));\n    const t = Math.min(...this.getAxisListByPosition('y', positions));\n    const b = Math.max(...this.getAxisListByPosition('y', positions));\n    return { left: l, top: t, width: r - l, height: b - t, bottom: b, right: r, cx: l + (r - l) / 2, cy: t + (b - t) / 2 };\n  }\n\n  /**\n   * 依据zIndex对节点递归排序\n   * @param list 节点列表\n   */\n  public sortNodeListByIndex(list?: INode[]): INode[] {\n    return (\n      list &&\n      _.chain(list)\n        .sortBy((item) => item.zIndex)\n        .map((item) => ({ ...item, children: this.sortNodeListByIndex(item.children) }))\n        .value()\n    );\n  }\n\n  /**\n   * 通过直线的斜率方程和直线上两点A，B以及直线外一点D，求出D点上直线AB的垂线DC和直线AB的交点C的坐标\n   * @param PA 点A\n   * @param PB 点B\n   * @param PD 点D\n   */\n  public getVerticalLineCrossPoint(PA: [number, number], PB: [number, number], PD: [number, number]): [number, number] {\n    const [PAx, PAy] = PA;\n    const [PBx, PBy] = PB;\n    const [PDx, PDy] = PD;\n    if (PAx === PBx) {\n      return [PAx, PDy];\n    } else if (PAy === PBy) {\n      return [PDx, PAy];\n    } else {\n      const L1k = (PAy - PBy) / (PAx - PBx);\n      const L2k = -1 / L1k;\n      const a = PAy - L1k * PAx;\n      const b = PDy - L2k * PDx;\n      const x = (b - a) / (L1k - L2k);\n      const y = L1k * x + a;\n      return [x, y];\n    }\n  }\n\n  /**\n   * 通过元素在所在坐标系内四个顶点的坐标，使用直线的两点方程求出两两对点所在直线的交点（矩形的中心点），\n   * 使用勾股定理求出元素宽高，转换后得到元素在所在坐标系的宽、高、x轴坐标和y轴坐标\n   * width = sqrt((trx - tlx)^2 + (try - tly)^2)\n   * height = sqrt((blx - tlx)^2 + (bly - tly)^2)\n   * a1*x + b1*y + c1 = 0\n   * a2*x + b2*y + c2 = 0\n   * a1*x + b1*y + c1 = a2*x + b2*y + c2\n   * 由直线的两点式方程可得a=y0-y1, b=x1-x0, c=x0*y1 - x1*y0\n   * 解方程组可得两条直线的交点x,y\n   * @param position 元素在所在坐标系内四个顶点的坐标\n   */\n  public getRelativePosition(position: IAbsolutePosition): IDOMRect {\n    const { tl, bl, br, tr } = position;\n    const width: number = Math.sqrt((tr[0] - tl[0]) ** 2 + (tr[1] - tl[1]) ** 2);\n\n    const height: number = Math.sqrt((bl[0] - tl[0]) ** 2 + (bl[1] - tl[1]) ** 2);\n\n    const a1 = br[1] - tl[1];\n    const b1 = tl[0] - br[0];\n    const c1 = br[0] * tl[1] - tl[0] * br[1];\n    const a2 = bl[1] - tr[1];\n    const b2 = tr[0] - bl[0];\n    const c2 = bl[0] * tr[1] - tr[0] * bl[1];\n    const cx = (b1 * c2 - b2 * c1) / (a1 * b2 - a2 * b1);\n    const cy = (a2 * c1 - a1 * c2) / (a1 * b2 - a2 * b1);\n\n    return {\n      cx,\n      cy,\n      width,\n      height,\n      left: cx - width / 2,\n      top: cy - height / 2,\n      bottom: cx + width / 2,\n      right: cy + height / 2,\n    };\n  }\n\n  /**\n   * 获取元素的四个顶点在外包围盒的矩形内的坐标的百分比\n   * @param group 元素外包围盒\n   * @param item 元素的四个顶点坐标\n   */\n  public getItemPercentPositionInGroup(group: IDOMRect, item: IAbsolutePosition): IAbsolutePosition {\n    return {\n      tl: [(item.tl[0] - group.left) / group.width, (item.tl[1] - group.top) / group.height],\n      tr: [(item.tr[0] - group.left) / group.width, (item.tr[1] - group.top) / group.height],\n      bl: [(item.bl[0] - group.left) / group.width, (item.bl[1] - group.top) / group.height],\n      br: [(item.br[0] - group.left) / group.width, (item.br[1] - group.top) / group.height],\n    };\n  }\n\n  /**\n   * 通过矩形中心点坐标C(cx,cy)中心点和Y轴平行线在中心点上方的一点S(sx,sy),旋转落点E(ex,ey),利用三角形余弦定理，\n   * 求出∠SCE的角度，再通过ex和sx的大小判断旋转的角度为内角还是外角\n   * @param cx 中心点x坐标\n   * @param cy 中心点y坐标\n   * @param sx 与中心点相同的x坐标\n   * @param sy 与中心点同x坐标的上方一点的y坐标\n   * @param ex 旋转终点x坐标\n   * @param ey x旋转终点y坐标\n   */\n  public getRotate(cx: number, cy: number, sx: number, sy: number, ex: number, ey: number): number {\n    const rotate =\n      (Math.acos(\n        ((cy - sy) ** 2 + (cx - sx) ** 2 + (cx - ex) ** 2 + (cy - ey) ** 2 - ((ex - sx) ** 2 + (ey - sy) ** 2)) /\n          (2 * Math.sqrt((cy - sy) ** 2 + (cx - sx) ** 2) * Math.sqrt((cx - ex) ** 2 + (cy - ey) ** 2))\n      ) *\n        180) /\n      Math.PI;\n    if (ex === sx) {\n      return 180;\n    }\n    if (ex > sx) {\n      return rotate;\n    }\n    if (ex < sx) {\n      return 360 - rotate;\n    }\n  }\n\n  /**\n   * 通过向量四边形法则求出向量ab、向量ac的对角线ad的d点坐标, ab + ac = ad\n   * @param ab 向量ab\n   * @param ac 向量ac\n   * @param a a点坐标\n   */\n  public getPointByVectorSum(ab: [number, number], ac: [number, number], a: [number, number]): [number, number] {\n    return [ab[0] + ac[0] + a[0], ab[1] + ac[1] + a[1]];\n  }\n\n  /**\n   * 获取两点之间的线段长度\n   * @param point1 点1\n   * @param point2 点2\n   */\n  public getDistanceBeforeToPoint(point1: [number, number], point2: [number, number]): number {\n    return Math.sqrt((point1[0] - point2[0]) ** 2 + (point1[1] - point2[1]) ** 2);\n  }\n\n  /**\n   * 通过获取父节点中心点坐标和原始子节点中心点坐标，将向量（父节点中心点-子节点原始中心点）\n   * 旋转父节点旋转的角度(rotate)后得到向量（父节点中心点-子节点中心点）然后利用向量旋转的\n   * 公式直接求出子节点中心点坐标\n   * x1 = x0*cos(rotate) - y0*sin(rotate)\n   * y1 = x0*sin(rotate) - y0*cos(rotate)\n   * @param parentRect 父元素尺寸\n   * @param parentRotate 父元素旋转角度\n   * @param childRect 子元素尺寸\n   */\n  public getChildPositionBaseOnParentCoordinateSystem(parentRect: IDOMRect, parentRotate: number, childRect: IDOMRect): IDOMRect {\n    const parentCenter = [parentRect.left + parentRect.width / 2, parentRect.top + parentRect.height / 2];\n    const originalCenter = [childRect.left + childRect.width / 2 + parentRect.left, childRect.top + childRect.height / 2 + parentRect.top];\n    const [newCenterX, newCenterY] = [\n      (originalCenter[0] - parentCenter[0]) * Math.cos((parentRotate * Math.PI) / 180) -\n        (originalCenter[1] - parentCenter[1]) * Math.sin((parentRotate * Math.PI) / 180) +\n        parentCenter[0],\n      (originalCenter[1] - parentCenter[1]) * Math.cos((parentRotate * Math.PI) / 180) +\n        (originalCenter[0] - parentCenter[0]) * Math.sin((parentRotate * Math.PI) / 180) +\n        parentCenter[1],\n    ];\n    return {\n      left: newCenterX - childRect.width / 2,\n      top: newCenterY - childRect.height / 2,\n      bottom: newCenterX + childRect.width / 2,\n      right: newCenterY + childRect.height / 2,\n      width: childRect.width,\n      height: childRect.height,\n      cx: newCenterX,\n      cy: newCenterY,\n    };\n  }\n\n  /**\n   * 获取单个子节点相对于多层父节点的坐标\n   * @param child 子节点size\n   * @param parents 父节点集合（排序为从左往右依次外扩）\n   */\n  public getChildPositionBaseOnMultipleParentCoordinataSystem(child: IDOMRect, parents: INode[]): IDOMRect {\n    let rect: IDOMRect = { ...child };\n    while (parents.length) {\n      const parent = parents.shift();\n      rect = this.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, child);\n    }\n    return rect;\n  }\n\n  /**\n   * 获取多个子节点相对与多层父节点的坐标\n   * @param children 子节点列表\n   * @param parents 父节点列表\n   */\n  public getChildrenBoundingBoxBaseOnParentCoordinateSystem(children: INode[], parents: INode[]): IDOMRect {\n    const outerBox = this.getOuterBoundingBox(\n      children.map((child) =>\n        this.getAbsolutePosition(child.left + child.width / 2, child.top + child.height / 2, child.width, child.height, child.rotate)\n      )\n    );\n    let domRect = { ...outerBox };\n    while (parents.length) {\n      const parent = parents.shift();\n      domRect = this.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, domRect);\n    }\n    return domRect;\n  }\n\n  /**\n   * 获取已选中节点的缩放框的尺寸\n   * @param selected 已选中节点\n   * @param nodes 节点树\n   */\n  public getResizeBoundingBox(selected: string[], nodes: INode[]): IDOMRect & { rotate: number } {\n    let rect: IDOMRect;\n    let rotate: number;\n    if (selected.length === 1) {\n      const [node, ...parents] = this.getNodeAndParentListById(selected[0], nodes);\n      rect = { ...this.getChildPositionBaseOnMultipleParentCoordinataSystem(node, [...parents]) };\n      rotate = parents.reduce((sum, p) => sum + (p.rotate ?? 0), node.rotate ?? 0);\n    } else {\n      const parent = this.getSameLayerParentByChildren(selected, nodes);\n      if (parent !== false) {\n        const parents = this.getNodeAndParentListById(parent?.id, nodes);\n        rect = this.getChildrenBoundingBoxBaseOnParentCoordinateSystem(\n          selected.map((id) => this.getNodeById(id, nodes)),\n          [...parents]\n        );\n        rotate = parents.reduce((sum, p) => sum + (p.rotate ?? 0), 0);\n      }\n    }\n    return { ...rect, rotate };\n  }\n}\n","import { TemplateRef, Type } from '@angular/core';\n\nexport interface INode<T = any> {\n  id: string;\n  name: string;\n  locked?: boolean;\n  data?: T;\n  children?: INode[];\n  width: number;\n  height: number;\n  left: number;\n  top: number;\n  rotate: number;\n  zIndex: number;\n  borderStyle?: string;\n  borderWidth?: number;\n  borderColor?: string;\n  borderRadius?: number;\n  backgroundColor?: string;\n  backgroundImage?: string;\n  backgroundRepeat?: string;\n  backgroundPosition?: string;\n  backgroundSize?: string;\n  [key: string]: any;\n}\n\nexport interface ICanvasBackground {\n  backgroundColor?: string;\n  backgroundImage?: string;\n}\n\nexport interface ICanvasSize {\n  width: number;\n  height: number;\n}\nexport interface ICanvasPosition {\n  scale: number;\n  left: number;\n  top: number;\n}\n\nexport type IRefLineDirection = 'tx' | 'bx' | 'ly' | 'ry' | 'cx' | 'cy';\nexport interface IRefLineState {\n  state: boolean;\n  position?: number;\n}\n\nexport interface IStore<T = any> {\n  nodes: INode<T>[];\n  selected: Set<string>;\n  bordered: Set<string>;\n  canvasBackground: ICanvasBackground;\n  canvasSize: ICanvasSize;\n  canvasPosition: ICanvasPosition;\n  refLineState: {\n    [P in IRefLineDirection]: IRefLineState;\n  };\n}\n\nexport type IActionType<T = any> = (state: IStore<T>) => IStore<T>;\n\nexport const DEFAULT_STORE: IStore<any> = {\n  nodes: new Array(500).fill(1).map<INode<any>>((_v, i) => ({\n    id: `${Math.round(Math.random() * Math.pow(10, 8))}`,\n    height: 100,\n    width: 200,\n    left: Math.round(Math.random() * 900),\n    top: Math.round(Math.random() * 500),\n    name: 'test',\n    rotate: 0,\n    locked: false,\n    zIndex: i + 1,\n    borderWidth: 1,\n    borderColor: '#333',\n    borderStyle: 'dashed',\n  })),\n  selected: new Set(),\n  bordered: new Set(),\n  canvasBackground: { backgroundColor: '#ffffff' },\n  canvasPosition: {\n    left: 100,\n    top: 100,\n    scale: 1,\n  },\n  canvasSize: {\n    width: 1366,\n    height: 768,\n  },\n  refLineState: {\n    tx: { state: false },\n    bx: { state: false },\n    ly: { state: false },\n    ry: { state: false },\n    cx: { state: false },\n    cy: { state: false },\n  },\n};\n\nexport interface IWidget<T = any> {\n  type: string;\n  name: string;\n  thumbnail: string;\n  propsComponent: T;\n}\n\nexport interface ITabConfig<T = any> {\n  key: string;\n  title: string;\n  icon: string;\n  content: T;\n}\n\nexport interface IPanel<T = any> {\n  title: string;\n  key: string;\n  content: Type<T> | TemplateRef<T>;\n  show: boolean;\n  x: number;\n  y: number;\n  collapsed?: boolean;\n}\n","import { Injectable } from '@angular/core';\nimport { ComponentStore } from '@ngrx/component-store';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter, map, pairwise, startWith } from 'rxjs/operators';\nimport { LayerTreeComponent, PropertyFormComponent, WidgetListComponent } from '../components';\nimport { DEFAULT_STORE, IPanel, IStore } from '../store';\nimport { CeUtilsService } from './utils.service';\n\n@Injectable()\nexport class EditorStore<T = any> extends ComponentStore<IStore<T>> {\n  private _defaultPanels: IPanel<any>[] = [\n    { key: 'LAYERS', title: '图层', content: LayerTreeComponent, show: true, x: 10, y: 60 },\n    { key: 'WIDGET_LIST', title: '组件', content: WidgetListComponent, show: false, x: 50, y: 60 },\n    { key: 'PROPERTIES', title: '属性', content: PropertyFormComponent, show: true, x: window.innerWidth - 350, y: 60 },\n  ];\n  private panels: IPanel[] = [];\n  panels$ = new BehaviorSubject<IPanel[]>([...this._defaultPanels, ...this.panels]);\n\n  constructor(private utils: CeUtilsService) {\n    super(DEFAULT_STORE);\n  }\n\n  initialize(state: IStore<T>) {\n    this.setState(state);\n  }\n\n  _get() {\n    return this.get();\n  }\n\n  dispatch(action: (state: IStore<T>) => IStore<T>) {\n    this.setState(action);\n  }\n\n  selectDifferent<R>(cb: (state: IStore<T>) => R) {\n    return this.select(cb).pipe(\n      startWith(null, cb(this.get())),\n      pairwise<R>(),\n      filter(([prev, present]) => !this.utils.isDeepEqual(prev, present)),\n      map(([, present]) => present)\n    );\n  }\n\n  toJSON() {\n    const state = this.get();\n    return JSON.stringify({\n      canvasPosition: state.canvasPosition,\n      canvasSize: state.canvasSize,\n      canvasBackground: state.canvasBackground,\n      nodes: state.nodes,\n      selected: state.selected,\n      bordered: state.bordered,\n    });\n  }\n\n  addPanels(panels: IPanel[]) {\n    this.panels = [...this.panels, ...panels];\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  getPanel(key: string) {\n    return [...this._defaultPanels, ...this.panels].find((panel) => panel.key === key);\n  }\n\n  updatePanelPosition(key: string, [x, y]: [number, number]) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.x = x;\n        panel.y = y;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  togglePanelVisible(key: string) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.show = !panel.show;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  togglePanelCollapsed(key: string) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.collapsed = !panel.collapsed;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n}\n","<div\n  class=\"box-border\"\n  *ngFor=\"let node of borderedNodeList$ | async; trackBy: trackByFn\"\n  [style.left.%]=\"node.left\"\n  [style.top.%]=\"node.top\"\n  [style.width.%]=\"node.width\"\n  [style.height.%]=\"node.height\"\n  [style.transform]=\"getRotate(node.rotate)\"\n></div>\n","import { ChangeDetectionStrategy, Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { ICanvasSize, INode } from '../../store';\n\n@Component({\n  selector: 'ce-bordered-area,[ceBorderedArea]',\n  templateUrl: './bordered-area.component.html',\n  styleUrls: ['./bordered-area.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BorderedAreaComponent implements OnInit {\n  public borderedNodeMap = new Map<string, Partial<DOMRect & { rotate: number }>>();\n  public borderedNodeList$: Observable<({ id: string } & Partial<DOMRect & { rotate: number }>)[]>;\n\n  constructor(private store: EditorStore, private utils: CeUtilsService) {}\n\n  ngOnInit(): void {\n    this.borderedNodeList$ = this.store\n      .selectDifferent((state) => ({ bordered: state.bordered, nodes: state.nodes, canvasSize: state.canvasSize }))\n      .pipe(\n        map(({ bordered, nodes, canvasSize }) => {\n          if (!bordered.size) {\n            return [];\n          } else {\n            return this.refreshBorderedList(nodes, bordered, canvasSize);\n          }\n        })\n      );\n  }\n\n  getRotate(rotate: number): string {\n    return `rotate(${rotate}deg)`;\n  }\n\n  trackByFn(...args: [number, { id: string } & Partial<DOMRect & { rotate: number }>]): string {\n    return `${args[1].id}-${args[1].width}-${args[1].height}-${args[1].left}-${args[1].top}-${args[1].rotate}`;\n  }\n\n  refreshBorderedList(nodes: INode[], bordered: Set<string>, canvasSize: ICanvasSize) {\n    return [...bordered]\n      .map((id) => this.utils.getNodeById(id, nodes))\n      .filter((node) => !!node)\n      .map((node) => {\n        {\n          const [, ...parents] = this.utils.getNodeAndParentListById(node.id, nodes);\n          let child = { ...node };\n          while (parents.length) {\n            const parent = parents.shift();\n            child = {\n              ...child,\n              ...this.utils.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate ?? 0, child),\n              rotate: child.rotate + parent.rotate,\n            };\n          }\n          return {\n            id: node.id,\n            width: (child.width / canvasSize.width) * 100,\n            height: (child.height / canvasSize.height) * 100,\n            left: (child.left / canvasSize.width) * 100,\n            top: (child.top / canvasSize.height) * 100,\n            rotate: child.rotate,\n          };\n        }\n      });\n  }\n}\n","<ng-container *ngIf=\"node?.children && node?.children.length\">\n  <ce-box-item *ngFor=\"let item of node.children\" [node]=\"item\"></ce-box-item>\n</ng-container>\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Input, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { INode } from '../../store';\n\n@Component({\n  selector: 'ce-box-item',\n  templateUrl: 'box-item.component.html',\n  styleUrls: ['box-item.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BoxItemComponent<T = any> implements AfterViewInit {\n  private _node: INode<T>;\n  @Input()\n  get node(): INode<T> {\n    return this._node;\n  }\n  set node(val: INode<T>) {\n    this._node = val;\n    this.generatorStyles();\n  }\n\n  constructor(private renderer: Renderer2, private eleRef: ElementRef<HTMLElement>) {}\n\n  ngAfterViewInit() {\n    this.generatorStyles();\n  }\n\n  private generatorStyles() {\n    if (this.eleRef.nativeElement) {\n      this.renderer.setAttribute(this.eleRef.nativeElement, 'id', `box-item-${this.node.id}`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'width', `${this.node.width}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'height', `${this.node.height}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'left', `${this.node.left}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'top', `${this.node.top}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'transform', `translate3d(0,0,0) rotate(${this.node.rotate ?? 0}deg)`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-style', this.node.borderStyle);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-color', this.node.borderColor);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-width', `${this.node.borderWidth}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'z-index', this.node.zIndex);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-image', this.node.backgroundImage);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-position', this.node.backgroundPosition);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-repeat', this.node.backgroundRepeat);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-size', this.node.backgroundSize);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-color', this.node.backgroundColor);\n    }\n  }\n}\n","<div [style.background-color]=\"backgroundColor$ | async\">\n  <ng-template [ngIf]=\"backgroundImage$ | async\">\n    <img [src]=\"backgroundImage$ | async | nzSanitizer: 'url'\" alt=\"\" />\n  </ng-template>\n</div>\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { EditorStore } from '../../services';\nimport { IStore } from '../../store';\n\n@Component({\n  selector: 'ce-canvas-background,[ceCanvasBackground]',\n  templateUrl: 'canvas-background.component.html',\n  styleUrls: ['canvas-background.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasBackgroundComponent {\n  public backgroundColor$: Observable<string>;\n  public backgroundImage$: Observable<string>;\n  constructor(private store: EditorStore<IStore>) {\n    this.backgroundColor$ = this.store.selectDifferent((state) => state.canvasBackground.backgroundColor);\n    this.backgroundImage$ = this.store.selectDifferent((state) => state.canvasBackground.backgroundImage);\n  }\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { IStore } from '../../store';\n\n@Component({\n  selector: 'ce-canvas-grid',\n  templateUrl: 'canvas-grid.component.html',\n  styleUrls: ['canvas-grid.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasGridComponent {\n  public childDPath$: Observable<string>;\n  public parentDPath$: Observable<string>;\n  public childWidth$: Observable<number>;\n  public parentWidth$: Observable<number>;\n  constructor(private store: EditorStore<IStore>) {\n    const scale$ = this.store.selectDifferent((state) => state.canvasPosition.scale);\n    this.childDPath$ = scale$.pipe(map((scale) => this.getPath(10, scale)));\n    this.parentDPath$ = scale$.pipe(map((scale) => this.getPath(50, scale)));\n    this.childWidth$ = scale$.pipe(map((scale) => 10 * scale));\n    this.parentWidth$ = scale$.pipe(map((scale) => 50 * scale));\n  }\n  getPath(size: number, scale: number): string {\n    return `M ${size * scale || 0} 0 L 0 0 0 ${size * scale || 0}`;\n  }\n}\n","<svg data-html2canvas-ignore class=\"grid\" width=\"100%\" height=\"100%\">\n  <defs>\n    <pattern id=\"smallGrid\" [attr.width]=\"childWidth$ | async\" [attr.height]=\"childWidth$ | async\" patternUnits=\"userSpaceOnUse\">\n      <path [attr.d]=\"childDPath$ | async\" fill=\"none\" stroke=\"rgba(207, 207, 207, 0.8)\" stroke-width=\"1\"></path>\n    </pattern>\n    <pattern id=\"grid\" [attr.width]=\"parentWidth$ | async\" [attr.height]=\"parentWidth$ | async\" patternUnits=\"userSpaceOnUse\">\n      <rect [attr.width]=\"parentWidth$ | async\" [attr.height]=\"parentWidth$ | async\" fill=\"url(#smallGrid)\"></rect>\n      <path [attr.d]=\"parentDPath$ | async\" fill=\"none\" stroke=\"rgba(186, 186, 186, 1)\" stroke-width=\"1\"></path>\n    </pattern>\n  </defs>\n  <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"></rect>\n</svg>\n","import { IActionType } from '../store';\n\nexport function clearSelected<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([]) });\n}\n\nexport function addSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...state.selected, ...ids]) });\n}\n\nexport function removeSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...state.selected].filter((id) => !ids.includes(id))) });\n}\n\nexport function setSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...ids]) });\n}\n\nexport function clearBordered<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([]) });\n}\n\nexport function addBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...state.bordered, ...ids]) });\n}\n\nexport function removeBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...state.bordered].filter((id) => !ids.includes(id))) });\n}\n\nexport function setBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...ids]) });\n}\n","import { IActionType, ICanvasBackground, ICanvasPosition, ICanvasSize } from '../store';\n\nexport function updateCanvasSize<T = any>(canvasSize: Partial<ICanvasSize>): IActionType<T> {\n  return (state) => ({ ...state, canvasSize: { ...state.canvasSize, ...canvasSize } });\n}\n\nexport function updateCanvasPosition<T = any>(canvasPosition: Partial<ICanvasPosition>): IActionType<T> {\n  return (state) => ({ ...state, canvasPosition: { ...state.canvasPosition, ...canvasPosition } });\n}\n\nexport function updateCanvasBackground<T = any>(canvasBackground: Partial<ICanvasBackground>): IActionType<T> {\n  return (state) => ({ ...state, canvasBackground: { ...state.canvasBackground, ...canvasBackground } });\n}\n","import * as _ from 'lodash';\nimport { CeUtilsService, genNodeId, IDOMRect } from '../services';\nimport { IActionType, INode } from '../store';\n\nexport function lockNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((node) => (ids.includes(node.id) ? { ...node, locked: true } : node)) });\n}\n\nexport function unlockNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((node) => (ids.includes(node.id) ? { ...node, locked: false } : node)) });\n}\n\nexport function addNodes<T = any>(nodes: INode<T>[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: [...state.nodes, ...nodes] });\n}\n\nexport function removeNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => {\n    let parent = CeUtilsService.shared.getSameLayerParentByChildren(ids, state.nodes);\n    if (parent === false) {\n      return { ...state };\n    } else if (parent === undefined) {\n      return { ...state, nodes: state.nodes.filter((node) => !ids.includes(node.id)) };\n    } else {\n      const originalParentId = parent.id;\n      let prevParent: INode;\n      let prevParentId: string;\n      const parents = CeUtilsService.shared.getNodeAndParentListById(parent.id, _.cloneDeep(state.nodes));\n      while (parents.length) {\n        parent = parents.shift();\n        let children: INode<T>[];\n        if (parent.id === originalParentId) {\n          children = parent.children.filter((child: INode<T>) => !ids.includes(child.id));\n        } else {\n          children = parent.children\n            .filter((child: INode<T>) => (child.id === prevParentId ? prevParent : child))\n            .filter((child: INode<T>) => !!child);\n        }\n        prevParentId = parent.id;\n        if (children.length > 1) {\n          const rect = CeUtilsService.shared.getOuterBoundingBox(\n            children\n              .map((child) => ({\n                rotate: child.rotate,\n                ...CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(parent as INode, (parent as INode).rotate, child),\n              }))\n              .map((item) => CeUtilsService.shared.getAbsolutePosition(item.cx, item.cy, item.width, item.height, item.rotate))\n          );\n          parent.width = rect.width;\n          parent.height = rect.height;\n          parent.left = rect.left;\n          parent.top = rect.top;\n          parent.children = children;\n        } else if (children.length === 1) {\n          const rect = CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, children[0]);\n          parent = { ...children[0], ...rect };\n        } else if (children.length === 0) {\n          parent = null;\n        }\n        prevParent = parent as INode;\n      }\n      return { ...state, nodes: state.nodes.map((node) => (node.id === prevParentId ? parent : node)).filter((node) => !!node) as INode<T>[] };\n    }\n  };\n}\n\nexport function updateNodes<T = any>(nodes: INode<T>[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((item) => ({ ...item, ...nodes.find((i) => i.id === item.id) })) });\n}\n\nexport function updateNodesSize<T = any>(nodesSizeMap: Map<string, IDOMRect>): IActionType<T> {\n  return (state) => {\n    let inSameLayer = true;\n    const ids = [...nodesSizeMap.keys()];\n    let parent: INode;\n    while (inSameLayer && ids.length) {\n      const id = ids.pop();\n      const node = CeUtilsService.shared.getNodeById(id, state.nodes);\n      inSameLayer = parent?.id === node.parentNode?.id;\n      parent = node.parentNode;\n    }\n\n    if (!inSameLayer) {\n      return state;\n    } else {\n      if (!parent) {\n        return {\n          ...state,\n          nodes: state.nodes.map((node) => {\n            const newNode = { ...node, ...nodesSizeMap.get(node.id) };\n            if (node.children && node.children.length) {\n              return { ...newNode, children: recursiveUpdateNodeChildrenSize(newNode.children, { ...node }, { ...newNode }) };\n            } else {\n              return newNode;\n            }\n          }),\n        };\n      } else {\n        return state;\n      }\n    }\n  };\n}\n\nexport function groupNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => {\n    const parent = CeUtilsService.shared.getSameLayerParentByChildren(ids, state.nodes);\n    if (parent === false) {\n      return state;\n    }\n    const nodeMap = new Map<string, INode>();\n    ids.forEach((id) => {\n      const node = state.nodes.find((i) => i.id === id);\n      if (node) {\n        nodeMap.set(id, node);\n      }\n    });\n    const groupRect = CeUtilsService.shared.getOuterBoundingBox(\n      ids\n        .filter((id) => nodeMap.has(id))\n        .map((id) => {\n          const node = nodeMap.get(id);\n          return CeUtilsService.shared.getAbsolutePosition(\n            node.left + node.width / 2,\n            node.top + node.height / 2,\n            node.width,\n            node.height,\n            node.rotate\n          );\n        })\n    );\n    const groupNode: INode = {\n      id: genNodeId(),\n      name: 'Group',\n      ...groupRect,\n      rotate: 0,\n      zIndex: Math.max(...state.nodes.filter((node) => !nodeMap.has(node.id)).map((node) => node.zIndex)) + 1,\n      children: ids\n        .filter((id) => nodeMap.has(id))\n        .map((id) => {\n          const node = nodeMap.get(id);\n          const { bl, br, tl, tr } = CeUtilsService.shared.getAbsolutePosition(\n            node.left + node.width / 2,\n            node.top + node.height / 2,\n            node.width,\n            node.height,\n            node.rotate\n          );\n          return {\n            ...node,\n            ...CeUtilsService.shared.getRelativePosition({\n              bl: [bl[0] - groupRect.left, bl[1] - groupRect.top],\n              br: [br[0] - groupRect.left, br[1] - groupRect.top],\n              tl: [tl[0] - groupRect.left, tl[1] - groupRect.top],\n              tr: [tr[0] - groupRect.left, tr[1] - groupRect.top],\n            }),\n          };\n        }),\n    };\n    return { ...state, nodes: [...state.nodes.filter((node) => !nodeMap.has(node.id)), groupNode] };\n  };\n}\n\nexport function breakNode<T = any>(id: string): IActionType<T> {\n  return (state) => {\n    const [node, ...parents] = CeUtilsService.shared.getNodeAndParentListById(id, _.cloneDeep(state.nodes));\n    const newNodes = node.children.map((child: INode<T>) => {\n      return {\n        ...child,\n        ...CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(node, node.rotate, child),\n        rotate: (child.rotate ?? 0) + (node.rotate ?? 0),\n      };\n    });\n    if (!parents.length) {\n      return { ...state, nodes: [...state.nodes.filter((i) => i.id !== node.id), ...newNodes] };\n    } else {\n      let parent = parents.shift();\n      parent.children = [...parent.children.filter((child: INode<T>) => child.id !== node.id), ...newNodes];\n      while (parents.length) {\n        const nextParent = parents.shift();\n        nextParent.children = nextParent.children.map((child: INode<T>) => (child.id === parent.id ? parent : child));\n        parent = nextParent;\n      }\n      return { ...state, nodes: [...state.nodes.filter((i) => i.id !== parent.id), parent] };\n    }\n  };\n}\n\n// /**\n//  * 递归更新节点的位置和大小\n//  * @param nodes 节点列表\n//  * @param oldParentRect 父节点的旧尺寸和位置\n//  * @param newParentRect 父节点的新尺寸和位置\n//  */\n// function recursiveUpdateNodeChildrenSize(nodes: INode[], oldParentRect: IDOMRect, newParentRect: IDOMRect): INode[] {\n//   const { width, height } = newParentRect;\n//   return nodes.map((node) => {\n//     const cxPercent = (node.left + node.width / 2) / oldParentRect.width;\n//     const cyPercent = (node.top + node.height / 2) / oldParentRect.height;\n//     const widthPercent = node.width / oldParentRect.width;\n//     const heightPercent = node.height / oldParentRect.height;\n//     const newNodeRect: IDOMRect = {\n//       width: widthPercent * width,\n//       height: heightPercent * height,\n//       left: cxPercent * width - (widthPercent * width) / 2,\n//       top: cyPercent * height - (heightPercent * height) / 2,\n//     };\n//     if (node.children && node.children.length) {\n//       return { ...node, ...newNodeRect, children: recursiveUpdateNodeChildrenSize(node.children, { ...node }, { ...newNodeRect }) };\n//     } else {\n//       return { ...node, ...newNodeRect };\n//     }\n//   });\n// }\n\n/**\n * 递归更新节点的位置和大小\n * @param nodes 节点列表\n * @param oldParentRect 父节点的旧尺寸和位置\n * @param newParentRect 父节点的新尺寸和位置\n */\nfunction recursiveUpdateNodeChildrenSize(nodes: INode[], oldParentRect: IDOMRect, newParentRect: IDOMRect): INode[] {\n  const { width, height } = newParentRect;\n  return nodes.map((node) => {\n    const nodeAbsolutePosition = CeUtilsService.shared.getAbsolutePosition(\n      node.left + node.width / 2,\n      node.top + node.height / 2,\n      node.width,\n      node.height,\n      node.rotate\n    );\n    const { tl, tr, bl, br } = CeUtilsService.shared.getItemPercentPositionInGroup(\n      {\n        ...oldParentRect,\n        left: 0,\n        top: 0,\n      },\n      nodeAbsolutePosition\n    );\n    const newNodeRect = CeUtilsService.shared.getRelativePosition({\n      tl: [tl[0] * width, tl[1] * height],\n      tr: [tr[0] * width, tr[1] * height],\n      bl: [bl[0] * width, bl[1] * height],\n      br: [br[0] * width, br[1] * height],\n    });\n    if (node.children && node.children.length) {\n      return { ...node, ...newNodeRect, children: recursiveUpdateNodeChildrenSize(node.children, { ...node }, { ...newNodeRect }) };\n    } else {\n      return { ...node, ...newNodeRect };\n    }\n  });\n}\n","import { DEFAULT_STORE, IActionType, IRefLineDirection, IRefLineState } from '../store';\n\nexport function updateRefLineState<T = any>(direction: IRefLineDirection, state: IRefLineState): IActionType<T> {\n  return (state) => ({ ...state, refLineState: { ...state.refLineState, [direction]: state } });\n}\n\nexport function resetRefLineState<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, refLineState: DEFAULT_STORE.refLineState });\n}\n\nexport function updateRefLinesState<T = any>(refLineState: { [K in IRefLineDirection]: IRefLineState }): IActionType<T> {\n  return (state) => ({ ...state, refLineState: { ...state.refLineState, ...refLineState } });\n}\n","import { ChangeDetectorRef, Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter, finalize, map, switchMap, takeUntil } from 'rxjs/operators';\n\n@Directive({\n  selector: '[ceDraggable]',\n  exportAs: 'ceDraggable',\n})\nexport class DraggableDirective implements OnInit, OnDestroy {\n  @Input()\n  @InputBoolean()\n  public ceDragDisabled = false;\n  @Input()\n  @InputBoolean()\n  public ceUseSpace = false;\n  @Output()\n  public ceOnStart = new EventEmitter<PointerEvent>();\n  @Output()\n  public ceOnMove = new EventEmitter<MouseEvent>();\n  @Output()\n  public ceOnStop = new EventEmitter<PointerEvent>();\n  @Output()\n  public ceOnSpaceKeyDown = new EventEmitter<void>();\n  public spaceKeyDown = false;\n  private subscription = new Subscription();\n  private mouseMove$ = fromEvent<PointerEvent>(window, 'pointermove');\n  private mouseUp$ = fromEvent<PointerEvent>(window, 'pointerup');\n  private mouseDown$: Observable<PointerEvent>;\n  private mouseEnter$: Observable<PointerEvent>;\n  private mouseLeave$: Observable<PointerEvent>;\n  private keyDown$ = fromEvent<KeyboardEvent>(document, 'keydown');\n  private keyUp$ = fromEvent<KeyboardEvent>(document, 'keyup');\n  constructor(private eleRef: ElementRef<HTMLElement>, private cdr: ChangeDetectorRef) {\n    this.mouseDown$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerdown').pipe(filter((e) => e.button === 0));\n    this.mouseEnter$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerenter');\n    this.mouseLeave$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerleave');\n  }\n\n  ngOnInit(): void {\n    this.listenSpaceKeyEvent();\n    this.mouseDown$\n      .pipe(\n        filter(() => !this.ceDragDisabled),\n        filter(() => (this.ceUseSpace ? this.spaceKeyDown : true)),\n        switchMap((startEv) => {\n          this.ceOnStart.emit(startEv);\n          return this.mouseMove$.pipe(takeUntil(this.mouseUp$.pipe(map((stopEv) => this.ceOnStop.emit(stopEv)))));\n        })\n      )\n      .subscribe((moveEv) => this.ceOnMove.emit(moveEv));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  listenSpaceKeyEvent(): void {\n    this.subscription.add(\n      this.mouseEnter$\n        .pipe(\n          filter(() => !this.ceDragDisabled),\n          filter(() => this.ceUseSpace),\n          switchMap(() =>\n            this.keyDown$.pipe(\n              switchMap((e) => {\n                this.spaceKeyDown = e.key === ' ';\n                this.cdr.detectChanges();\n                if (this.spaceKeyDown) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n                return this.keyUp$;\n              }),\n              map(() => {\n                this.spaceKeyDown = false;\n                this.ceOnStop.emit();\n              }),\n              takeUntil(this.mouseLeave$),\n              finalize(() => {\n                this.spaceKeyDown = false;\n                this.ceOnStop.emit();\n              })\n            )\n          )\n        )\n        .subscribe()\n    );\n  }\n}\n","<ce-box-item\n  *ngFor=\"let node of nodes$ | async; trackBy: nodeListTrackByFn\"\n  ceDraggable\n  [ceDragDisabled]=\"node?.locked\"\n  (ceOnStart)=\"moveStart($event, node)\"\n  (ceOnMove)=\"moving($event)\"\n  (ceOnStop)=\"moveEnd()\"\n  [node]=\"node\"\n  (pointerenter)=\"showBorder(node.id)\"\n  (pointerleave)=\"removeBorder(node.id)\"\n></ce-box-item>\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {\n  addBorderedNodes,\n  addSelectedNodes,\n  clearBordered,\n  clearSelected,\n  removeBorderedNodes,\n  resetRefLineState,\n  updateNodes,\n  updateRefLinesState,\n} from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService, IDOMRect } from '../../services/utils.service';\nimport { ICanvasPosition, INode, IRefLineDirection, IRefLineState, IStore } from '../../store';\n\nconst REF_LINE_DIRECTION_COMPARE_MAP: {\n  [P in IRefLineDirection]: {\n    baseKey: keyof IDOMRect;\n    referKey: keyof IDOMRect;\n    baseValue: (baseRect: IDOMRect, referRect: IDOMRect) => { key: keyof IDOMRect; value: number };\n  }[];\n} = {\n  tx: [\n    {\n      baseKey: 'top',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top }),\n    },\n    {\n      baseKey: 'top',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy }),\n    },\n    {\n      baseKey: 'top',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom }),\n    },\n  ],\n  bx: [\n    {\n      baseKey: 'bottom',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top - baseRect.height }),\n    },\n    {\n      baseKey: 'bottom',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy - baseRect.height }),\n    },\n    {\n      baseKey: 'bottom',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom - baseRect.height }),\n    },\n  ],\n  ly: [\n    {\n      baseKey: 'left',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left }),\n    },\n    {\n      baseKey: 'left',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx }),\n    },\n    {\n      baseKey: 'left',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right }),\n    },\n  ],\n  ry: [\n    {\n      baseKey: 'right',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left - baseRect.width }),\n    },\n    {\n      baseKey: 'right',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx - baseRect.width }),\n    },\n    {\n      baseKey: 'right',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right - baseRect.width }),\n    },\n  ],\n  cx: [\n    {\n      baseKey: 'cy',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top - baseRect.height / 2 }),\n    },\n    {\n      baseKey: 'cy',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy - baseRect.height / 2 }),\n    },\n    {\n      baseKey: 'cy',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom - baseRect.height / 2 }),\n    },\n  ],\n  cy: [\n    {\n      baseKey: 'cx',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left - baseRect.width / 2 }),\n    },\n    {\n      baseKey: 'cx',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx - baseRect.width / 2 }),\n    },\n    {\n      baseKey: 'cx',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right - baseRect.width / 2 }),\n    },\n  ],\n};\n@Component({\n  selector: 'ce-canvas',\n  templateUrl: 'canvas.component.html',\n  styleUrls: ['canvas.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasComponent {\n  public nodes$: Observable<INode[]>;\n  public nodes: INode[];\n  private selected: Set<string>;\n  private canvasPosition: ICanvasPosition;\n  private pointerSnapshot: [number, number] = null;\n  private nodesSnapshot: Map<string, INode> = new Map();\n  private outerBoxSnapshot: IDOMRect;\n  private unselectedNodes: INode[];\n  private gap = 5;\n\n  constructor(private store: EditorStore<IStore>, private utils: CeUtilsService) {\n    this.nodes$ = this.store.selectDifferent((state) => state.nodes);\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n    this.store.select((state) => state.selected).subscribe((state) => (this.selected = state));\n    this.store.select((state) => state.canvasPosition).subscribe((state) => (this.canvasPosition = state));\n  }\n\n  nodeListTrackByFn(i: number, node: INode): string {\n    return node.id;\n  }\n\n  moveStart(ev: PointerEvent, node: INode): void {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.nodesSnapshot.clear();\n    this.pointerSnapshot = [ev.clientX, ev.clientY];\n    let selected: string[] = [...this.selected];\n    if (!this.selected.has(node.id)) {\n      this.store.dispatch(clearBordered());\n      this.store.dispatch(clearSelected());\n      this.store.dispatch(addSelectedNodes([node.id]));\n      selected = [node.id];\n    }\n\n    this.outerBoxSnapshot = this.utils.getOuterBoundingBox(\n      selected\n        .map((id) => this.utils.getNodeById(id, this.nodes))\n        .map((item) => this.utils.getAbsolutePosition(item.left + item.width / 2, item.top + item.height / 2, item.width, item.height, item.rotate))\n    );\n    this.unselectedNodes = this.nodes.filter((item) => !selected.includes(item.id));\n\n    selected.forEach((id) => {\n      const item = this.nodes.find((n) => n.id === id);\n      this.nodesSnapshot.set(item.id, {\n        ...item,\n        cxPercent: (item.left + item.width / 2 - this.outerBoxSnapshot.left) / this.outerBoxSnapshot.width,\n        cyPercent: (item.top + item.height / 2 - this.outerBoxSnapshot.top) / this.outerBoxSnapshot.height,\n      });\n    });\n  }\n\n  moving(ev: PointerEvent): void {\n    if (this.pointerSnapshot) {\n      this.store.dispatch(resetRefLineState());\n      const { scale } = this.canvasPosition;\n      const [x, y] = this.pointerSnapshot;\n      const [mx, my] = [(ev.clientX - x) / scale, (ev.clientY - y) / scale];\n      const baseRect: IDOMRect = {\n        ...this.outerBoxSnapshot,\n        left: this.outerBoxSnapshot.left + mx,\n        top: this.outerBoxSnapshot.top + my,\n        right: this.outerBoxSnapshot.right + mx,\n        bottom: this.outerBoxSnapshot.bottom + my,\n        cx: this.outerBoxSnapshot.cx + mx,\n        cy: this.outerBoxSnapshot.cy + my,\n      };\n      const refLinesState: { [P in IRefLineDirection]: IRefLineState } = {\n        bx: null,\n        tx: null,\n        ly: null,\n        ry: null,\n        cx: null,\n        cy: null,\n      };\n      this.unselectedNodes.forEach((node) => {\n        const nodeRect = this.utils.getBoundingBox(node.width, node.height, node.left, node.top, node.rotate);\n        ['tx', 'bx', 'ly', 'ry', 'cx', 'cy'].forEach((direction: IRefLineDirection) => {\n          const result = getRefLineStateByDirection(direction, baseRect, nodeRect, this.gap / scale);\n          if (result) {\n            const { state, position, base } = result;\n            if (state) {\n              refLinesState[direction] = { state, position };\n              baseRect[base.key] = base.value;\n            }\n          }\n        });\n      });\n      const newNodes: INode[] = [];\n      this.nodesSnapshot.forEach((node) => {\n        const { cxPercent, cyPercent, width, height, nodeRect, ...properties } = node;\n        newNodes.push({\n          ...properties,\n          width,\n          height,\n          left: cxPercent * baseRect.width + baseRect.left - width / 2,\n          top: cyPercent * baseRect.height + baseRect.top - height / 2,\n        });\n      });\n\n      this.store.dispatch(updateRefLinesState(refLinesState));\n      this.store.dispatch(updateNodes(newNodes));\n    }\n  }\n\n  moveEnd(): void {\n    this.pointerSnapshot = null;\n    this.store.dispatch(resetRefLineState());\n    this.nodesSnapshot.clear();\n  }\n\n  showBorder(id: string): void {\n    this.store.dispatch(addBorderedNodes([id]));\n  }\n\n  removeBorder(id: string): void {\n    if (!this.selected.has(id)) {\n      this.store.dispatch(removeBorderedNodes([id]));\n    }\n  }\n}\n\nfunction getRefLineStateByDirection(\n  direction: IRefLineDirection,\n  baseRect: IDOMRect,\n  referRect: IDOMRect,\n  gap: number\n): IRefLineState & { base: { key: keyof IDOMRect; value: number } } {\n  return REF_LINE_DIRECTION_COMPARE_MAP[direction]\n    .map(({ baseKey, referKey, baseValue }) => ({\n      state: Math.abs(baseRect[baseKey] - referRect[referKey]) < gap,\n      position: referRect[referKey],\n      base: baseValue(baseRect, referRect),\n    }))\n    .find((item) => item.state);\n}\n","<nz-tree\n  #layerTree\n  nzBlockNode\n  nzMultiple\n  [nzData]=\"treeNodes$ | async\"\n  [nzSelectedKeys]=\"selectedKeys$ | async\"\n  [nzTreeTemplate]=\"nzTreeTemplate\"\n  [nzExpandedIcon]=\"multiExpandedIconTpl\"\n  (nzClick)=\"clickNode($event)\"\n>\n  <ng-template #multiExpandedIconTpl let-node let-origin=\"origin\">\n    <i *ngIf=\"!node.isLeaf\" nz-icon [nzType]=\"node.isExpanded ? 'folder-open' : 'folder'\" class=\"ant-tree-switcher-line-icon\"></i>\n  </ng-template>\n  <ng-template #nzTreeTemplate let-node=\"origin\">\n    <div\n      class=\"layer\"\n      [class.locked]=\"node.locked\"\n      (contextmenu)=\"contextMenu($event, menu, node)\"\n      (pointerenter)=\"showBordered(node.id)\"\n      (pointerleave)=\"clearBordered(node.id)\"\n    >\n      <span>{{ node.title }}</span>\n    </div>\n    <nz-dropdown-menu #menu=\"nzDropdownMenu\">\n      <ul nz-menu>\n        <li *ngIf=\"!node.locked\" nz-menu-item class=\"action-item\" (click)=\"toggleNodesLockState(layerTree.nzSelectedKeys, true)\">\n          <i nz-icon nzType=\"lock\"></i>\n          <span>锁定</span>\n        </li>\n        <li *ngIf=\"node.locked\" nz-menu-item class=\"action-item\" (click)=\"toggleNodesLockState(layerTree.nzSelectedKeys, false)\">\n          <i nz-icon nzType=\"unlock\"></i>\n          <span>解锁</span>\n        </li>\n        <li nz-menu-item class=\"action-item\" (click)=\"deleteNodes(layerTree.nzSelectedKeys)\">\n          <i nz-icon nzType=\"delete\"></i>\n          <span>删除</span>\n        </li>\n        <li *ngIf=\"groupStatus$ | async\" nz-menu-item class=\"action-item\" (click)=\"group(layerTree.nzSelectedKeys)\">\n          <i nz-icon nzIconfont=\"icon-group\"></i>\n          <span>组合</span>\n          <span class=\"shortcuts\"> ctrl+shift+G </span>\n        </li>\n        <li *ngIf=\"selected.size === 1 && node.children && node.children.length\" nz-menu-item (click)=\"breakNode(node.id)\" class=\"action-item\">\n          <i nz-icon nzIconfont=\"icon-break\"></i>\n          <span>打散</span>\n          <span class=\"shortcuts\"> ctrl+shift+B </span>\n        </li>\n      </ul>\n    </nz-dropdown-menu>\n  </ng-template>\n</nz-tree>\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { NzContextMenuService, NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\nimport { NzFormatEmitEvent, NzTreeComponent, NzTreeNode, NzTreeNodeOptions } from 'ng-zorro-antd/tree';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport {\n  addBorderedNodes,\n  breakNode,\n  clearBordered,\n  clearSelected,\n  groupNodes,\n  lockNodes,\n  removeBorderedNodes,\n  removeNodes,\n  setBorderedNodes,\n  setSelectedNodes,\n  unlockNodes,\n} from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-layer-tree',\n  exportAs: 'ceLayerTree',\n  templateUrl: 'layer-tree.component.html',\n  styleUrls: ['layer-tree.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LayerTreeComponent {\n  public treeNodes$: Observable<NzTreeNodeOptions[]>;\n  public selected: Set<string>;\n  public selectedKeys$: Observable<string[]>;\n  @ViewChild('layerTree', { read: NzTreeComponent })\n  public layerTree: NzTreeComponent;\n  private parentKey: string;\n  public groupStatus$: Observable<boolean>;\n\n  constructor(\n    public eleRef: ElementRef<HTMLElement>,\n    private store: EditorStore<IStore>,\n    private utils: CeUtilsService,\n    private contextMenuSrv: NzContextMenuService\n  ) {\n    this.treeNodes$ = this.store\n      .selectDifferent((state) => state.nodes)\n      .pipe(map((nodes) => this.transferNodesToNzNodes(this.utils.sortNodeListByIndex(nodes))));\n    this.selectedKeys$ = this.store.selectDifferent((state) => state.selected).pipe(map((selected) => [...selected]));\n    this.groupStatus$ = this.store\n      .selectDifferent((state) => state.selected)\n      .pipe(\n        filter(() => !!this.layerTree),\n        map((selected) =>\n          selected.size > 1\n            ? !![...selected].find((id) => {\n                const node = this.layerTree?.getSelectedNodeList().find((item) => item.key === id);\n                return node && node.parentNode;\n              })\n            : false\n        )\n      );\n    this.store\n      .selectDifferent((state) => state.selected)\n      .subscribe((selected) => {\n        this.selected = selected;\n      });\n  }\n\n  clearBordered(id: string): void {\n    if (!this.selected.has(id)) {\n      this.store.dispatch(removeBorderedNodes([id]));\n    }\n  }\n\n  showBordered(id: string): void {\n    this.store.dispatch(addBorderedNodes([id]));\n  }\n\n  layerTrackByFn(index: number, node: INode): string {\n    return `box-item-${node.id}-${node.zIndex}`;\n  }\n\n  transferNodesToNzNodes(nodes: INode[]): NzTreeNodeOptions[] {\n    return nodes.map((node) => {\n      return {\n        ...node,\n        children: node.children && this.transferNodesToNzNodes(node.children),\n        title: node.name,\n        key: node.id,\n        isLeaf: !node.children?.length,\n      };\n    });\n  }\n\n  contextMenu(event: MouseEvent, menu: NzDropdownMenuComponent, node: NzTreeNode): void {\n    if (!this.selected.has(node.key)) {\n      this.store.dispatch(setSelectedNodes([node.key]));\n    }\n    this.contextMenuSrv.create(event, menu);\n  }\n\n  getParentKey(parentNode?: NzTreeNode): string {\n    return parentNode?.key ?? 'root';\n  }\n\n  multipleSelected(event: NzFormatEmitEvent): void {\n    if (!this.parentKey) {\n      this.parentKey = this.getParentKey(event.node.parentNode);\n    }\n    const ids = event.selectedKeys.filter((node) => this.getParentKey(node.parentNode) === this.parentKey).map((node) => node.key);\n    this.store.dispatch(setSelectedNodes(ids));\n    this.store.dispatch(setBorderedNodes(ids));\n  }\n\n  clickNode(event: NzFormatEmitEvent): void {\n    if (event.node) {\n      if (/Win|Linux/.test(navigator.platform)) {\n        if (event.event.ctrlKey) {\n          this.multipleSelected(event);\n        } else {\n          this.parentKey = this.getParentKey(event.node.parentNode);\n          this.store.dispatch(setSelectedNodes([event.node.key]));\n          this.store.dispatch(setBorderedNodes([event.node.key]));\n        }\n      }\n      if (/Mac/.test(navigator.platform)) {\n        if (event.event.metaKey) {\n          this.multipleSelected(event);\n        } else {\n          this.parentKey = this.getParentKey(event.node.parentNode);\n          this.store.dispatch(setSelectedNodes([event.node.key]));\n          this.store.dispatch(setBorderedNodes([event.node.key]));\n        }\n      }\n    }\n  }\n\n  group(ids: string[]): void {\n    this.store.dispatch(groupNodes(ids));\n  }\n\n  breakNode(id: string): void {\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(breakNode(id));\n  }\n\n  deleteNodes(ids: string[]): void {\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(removeNodes(ids));\n  }\n\n  toggleNodesLockState(ids: string[], state: boolean) {\n    if (state) {\n      this.store.dispatch(lockNodes(ids));\n    } else {\n      this.store.dispatch(unlockNodes(ids));\n    }\n  }\n}\n","<nz-card\n  nzSize=\"small\"\n  [nzTitle]=\"cardTitle\"\n  [nzExtra]=\"cardExtra\"\n  cdkDrag\n  [cdkDragFreeDragPosition]=\"panel\"\n  (cdkDragEnded)=\"updatePosition($event)\"\n  [class.collapsed]=\"panel?.collapsed\"\n>\n  <ng-template #cardTitle>\n    <div cdkDragHandle class=\"d-flex align-items-center\">{{ panel?.title }}</div>\n  </ng-template>\n  <ng-container *ngIf=\"utils.isTemplateType(panel.content)\">\n    <ng-container *ngTemplateOutlet=\"panel.content\"></ng-container>\n  </ng-container>\n  <ng-container *ngIf=\"!utils.isTemplateType(panel.content)\">\n    <ng-container *ngComponentOutlet=\"panel.content\"></ng-container>\n  </ng-container>\n</nz-card>\n\n<ng-template #cardExtra>\n  <button nz-button nzSize=\"small\" nzType=\"link\" (click)=\"toggleCollapsed()\" class=\"collapse-icon\">\n    <i nz-icon nzType=\"caret-down\"></i>\n  </button>\n  <button nz-button nzSize=\"small\" nzType=\"link\" (click)=\"close()\">\n    <i nz-icon nzType=\"close\"></i>\n  </button>\n</ng-template>\n","import { CdkDragEnd } from '@angular/cdk/drag-drop';\nimport { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { CeUtilsService, EditorStore } from '../../services';\nimport { IPanel } from '../../store';\n\n@Component({\n  selector: 'ce-panel,[cePanel]',\n  templateUrl: './panel.component.html',\n  styleUrls: ['./panel.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PanelComponent<T> {\n  private _panel: IPanel<T>;\n\n  @Input()\n  set panel(val: IPanel<T>) {\n    this._panel = val;\n  }\n  get panel(): IPanel<T> {\n    return this._panel;\n  }\n  constructor(public utils: CeUtilsService, public store: EditorStore) {}\n\n  updatePosition(event: CdkDragEnd) {\n    this.store.updatePanelPosition(this.panel.key, [this.panel.x + event.distance.x, this.panel.y + event.distance.y]);\n  }\n\n  toggleCollapsed() {\n    this.store.togglePanelCollapsed(this.panel.key);\n  }\n\n  close() {\n    this.store.togglePanelVisible(this.panel.key);\n  }\n}\n","<div>\n  <h4>画布尺寸</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasSizeFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-kuandu\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"width\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-gaodu\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"height\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<div class=\"mt-2\">\n  <h4>画布位置</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasPositionFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-left\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"left\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-top\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"top\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-scale\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"scale\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<div class=\"mt-2\">\n  <h4>画布背景</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasBackgroundFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-color\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <input type=\"color\" nz-input nzSize=\"small\" formControlName=\"backgroundColor\" />\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-image\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <input type=\"text\" nz-input nzSize=\"small\" formControlName=\"backgroundImage\" />\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<h5 class=\"mt-1\">背景预览</h5>\n<div>\n  <img\n    [style.max-width.%]=\"100\"\n    *ngIf=\"canvasBackgroundFormGroup.controls['backgroundImage'].value\"\n    [src]=\"canvasBackgroundFormGroup.controls['backgroundImage'].value | nzSanitizer: 'url'\"\n  />\n</div>\n","import { ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { updateCanvasBackground, updateCanvasPosition, updateCanvasSize } from '../../../../actions';\nimport { EditorStore } from '../../../../services/store.service';\n\n@Component({\n  selector: 'ce-canvas-forms,[ceCanvasForms]',\n  templateUrl: './canvas-forms.component.html',\n  styleUrls: ['./canvas-forms.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasFormsComponent implements OnInit, OnDestroy {\n  public canvasSizeFormGroup: FormGroup;\n  public canvasPositionFormGroup: FormGroup;\n  public canvasBackgroundFormGroup: FormGroup;\n  private subscription = new Subscription();\n  constructor(public fb: FormBuilder, public store: EditorStore) {\n    this.canvasSizeFormGroup = this.fb.group({\n      width: [0, [Validators.required, Validators.min(0)]],\n      height: [0, [Validators.required, Validators.min(0)]],\n    });\n    this.canvasPositionFormGroup = this.fb.group({\n      left: [0, [Validators.required]],\n      top: [0, [Validators.required]],\n      scale: [1, [Validators.min(0.01), Validators.required]],\n    });\n    this.canvasBackgroundFormGroup = this.fb.group({\n      backgroundColor: ['#ffffff'],\n      backgroundImage: [null],\n    });\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasSize)\n        .subscribe((state) => {\n          this.canvasSizeFormGroup.patchValue(state, { emitEvent: false });\n        })\n    );\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasPosition)\n        .subscribe((state) => {\n          this.canvasPositionFormGroup.patchValue(\n            { left: Math.round(state.left), top: Math.round(state.top), scale: state.scale?.toFixed(2) },\n            { emitEvent: false }\n          );\n        })\n    );\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasBackground)\n        .subscribe((state) => {\n          this.canvasBackgroundFormGroup.patchValue(state, { emitEvent: false });\n        })\n    );\n  }\n\n  ngOnInit(): void {\n    this.canvasSizeFormGroup.valueChanges.subscribe((value) => {\n      this.store.dispatch(updateCanvasSize(value));\n    });\n    this.canvasPositionFormGroup.valueChanges.subscribe((value) => {\n      this.store.dispatch(updateCanvasPosition(value));\n    });\n    this.canvasBackgroundFormGroup.valueChanges.subscribe((value) => {\n      console.log(value);\n      this.store.dispatch(updateCanvasBackground(value));\n    });\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","<nz-collapse [nzBordered]=\"false\" nzGhost nzAccordion nzSize=\"small\">\n  <nz-collapse-panel nzHeader=\"外包围盒属性\" nzActive>\n    <div>\n      <h5>尺寸</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-kuandu\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"width\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-gaodu\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"height\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n      <h5>位置</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-left\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"left\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-top\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"top\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"rotate-right\"> </i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"rotate\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"lock\"> </i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-switch formControlName=\"locked\"></nz-switch>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n      <h5>边框</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"24\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"border-outer\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <ng-template #borderStyleTpl let-selected>\n                  <div class=\"d-flex align-items-center h-100\" [style.width.px]=\"40\">\n                    <ng-container [ngSwitch]=\"selected.nzValue\">\n                      <ng-container *ngSwitchCase=\"'none'\">\n                        <span>none</span>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'dashed'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path\n                            d=\"M0 1h5V0H0v1zm9 0h5V0H9v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1zm9 0h5V0h-5v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1z\"\n                          ></path>\n                        </svg>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'solid'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path d=\"M0 0h80v1H0z\"></path>\n                        </svg>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'dotted'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path\n                            d=\"M0 1h1V0H0v1zm4 0h1V0H4v1zm4 0h1V0H8v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1z\"\n                          ></path>\n                        </svg>\n                      </ng-container>\n                    </ng-container>\n                  </div>\n                </ng-template>\n                <nz-select nzSize=\"small\" formControlName=\"borderStyle\" [nzCustomTemplate]=\"borderStyleTpl\">\n                  <nz-option nzValue=\"none\" nzLabel=\"none\">\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'none' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"dashed\" nzLabel=\"dashed\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'dashed' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"solid\" nzLabel=\"solid\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'solid' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"dotted\" nzLabel=\"dotted\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'dotted' } }\"></ng-container>\n                  </nz-option>\n                </nz-select>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n    </div>\n  </nz-collapse-panel>\n  <nz-collapse-panel nzHeader=\"组件属性\">\n    <ng-template #container></ng-template>\n  </nz-collapse-panel>\n</nz-collapse>\n","import { Component, ComponentFactoryResolver, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { updateNodes } from '../../../../actions/nodes.actions';\nimport { filter, map, switchMap } from 'rxjs/operators';\nimport { EditorStore } from '../../../../services/store.service';\n\n@Component({\n  selector: 'ce-widget-form,[ceWidgetForm]',\n  templateUrl: './widget-form.component.html',\n  styleUrls: ['./widget-form.component.less'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class WidgetFormComponent implements OnInit {\n  @ViewChild('container')\n  propsFormContainer: TemplateRef<any>;\n  boundingFormGroup: FormGroup;\n  constructor(private fb: FormBuilder, private cfr: ComponentFactoryResolver, private store: EditorStore) {\n    this.boundingFormGroup = this.fb.group({\n      id: [, [Validators.required]],\n      name: [],\n      width: [, [Validators.required]],\n      height: [, [Validators.required]],\n      left: [, [Validators.required]],\n      top: [, [Validators.required]],\n      locked: [],\n      rotate: [, [Validators.required]],\n      zIndex: [, [Validators.required]],\n      borderStyle: [],\n      borderWidth: [],\n      borderColor: [],\n      borderRadius: [],\n      backgroundColor: [],\n      backgroundImage: [],\n      backgroundRepeat: [],\n      backgroundPosition: [],\n      backgroundSize: [],\n    });\n  }\n\n  ngOnInit(): void {\n    this.store\n      .select((state) => state.selected)\n      .pipe(\n        filter((selected) => selected.size === 1),\n        map((selected) => [...selected][0]),\n        switchMap((id) => this.store.select((state) => state.nodes.find((item) => item.id === id))),\n        filter((node) => !!node)\n      )\n      .subscribe((node) => {\n        this.boundingFormGroup.patchValue(\n          {\n            ...node,\n            width: Math.round(node.width),\n            height: Math.round(node.height),\n            left: Math.round(node.left),\n            top: Math.round(node.top),\n          },\n          { emitEvent: false }\n        );\n      });\n    this.boundingFormGroup.valueChanges.subscribe((values) => {\n      this.store.dispatch(updateNodes([values]));\n    });\n  }\n}\n","<ng-container *ngComponentOutlet=\"formComponent$ | async\"></ng-container>\n","import { ChangeDetectionStrategy, Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { CanvasFormsComponent } from './forms/canvas-forms/canvas-forms.component';\nimport { WidgetFormComponent } from './forms/widget-form/widget-form.component';\n\n@Component({\n  selector: 'ce-property-form,[cePropertyForm]',\n  templateUrl: './property-form.component.html',\n  styleUrls: ['./property-form.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PropertyFormComponent implements OnInit {\n  formComponent$: Observable<any>;\n  @ViewChild('instance')\n  instance: any;\n  constructor(public store: EditorStore) {}\n\n  ngOnInit(): void {\n    this.formComponent$ = this.store\n      .select((state) => state.selected.size)\n      .pipe(map((size) => (size === 1 ? WidgetFormComponent : CanvasFormsComponent)));\n  }\n}\n","<ce-rotate-handle *ngIf=\"(selectedSize$ | async) === 1\"></ce-rotate-handle>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle t\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 't')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle r\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'r')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle b\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'b')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle l\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'l')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div class=\"resizable-handle tr\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'tr')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle br\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'br')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle tl\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'tl')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle bl\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'bl')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"t circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"r circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"b circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"l circle\"></div>\n<div class=\"tr circle\"></div>\n<div class=\"br circle\"></div>\n<div class=\"tl circle\"></div>\n<div class=\"bl circle\"></div>\n","import { ChangeDetectionStrategy, Component, ElementRef, HostBinding, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { updateNodesSize } from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService, IAbsolutePosition, IDOMRect, IRectDirection } from '../../services/utils.service';\nimport { ICanvasPosition, INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-resize-handle,[ceResizeHandle]',\n  templateUrl: 'resize-handle.component.html',\n  styleUrls: ['resize-handle.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ResizeHandleComponent {\n  @HostBinding('style.display')\n  public display = 'none';\n  @HostBinding('style.width.px')\n  public width: number;\n  @HostBinding('style.height.px')\n  public height: number;\n  @HostBinding('style.left.px')\n  public left: number;\n  @HostBinding('style.top.px')\n  public top: number;\n  @HostBinding('style.transform')\n  public get transform(): string {\n    return `rotate(${this.rotate ?? 0}deg)`;\n  }\n  public selected: Set<string>;\n  public selectedSize$: Observable<number>;\n  private canvasPosition: ICanvasPosition;\n  private rotate: number;\n  private nodes: INode[];\n  private resizeMode: 'GROUP' | 'SINGLE';\n  private groupRectSnapshot: IDOMRect;\n  private groupAbsolutePositionSnapshot: IAbsolutePosition;\n  private resizePointSnapshot: { absolute: [number, number]; relative: [number, number] };\n  private nodePositionSnapshotList = new Map<string, IAbsolutePosition>();\n\n  constructor(private store: EditorStore<IStore>, private utils: CeUtilsService, public eleRef: ElementRef<HTMLElement>) {\n    this.selectedSize$ = this.store.selectDifferent((state) => state.selected.size);\n    this.store\n      .selectDifferent((state) => ({ selected: state.selected, canvasPosition: state.canvasPosition, nodes: state.nodes }))\n      .subscribe(({ selected, canvasPosition, nodes }) => {\n        this.display = selected.size ? 'block' : 'none';\n        this.selected = selected;\n        this.canvasPosition = canvasPosition;\n        this.nodes = nodes;\n        if (this.selected.size) {\n          this.refreshResizeHandle();\n        }\n      });\n  }\n\n  refreshResizeHandle(): any {\n    if (!this.selected || !this.nodes) {\n      return;\n    }\n\n    const { left, top, width, height, rotate } = this.utils.getResizeBoundingBox([...this.selected], this.nodes);\n    this.left = left * this.canvasPosition.scale;\n    this.top = top * this.canvasPosition.scale;\n    this.width = width * this.canvasPosition.scale;\n    this.height = height * this.canvasPosition.scale;\n    this.rotate = rotate;\n  }\n\n  resizeStart(event: PointerEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    const { scale } = this.canvasPosition;\n    const canvasRect = document.querySelector('ce-canvas').getBoundingClientRect();\n    this.groupRectSnapshot = { width: this.width / scale, height: this.height / scale, left: this.left / scale, top: this.top / scale };\n    this.groupAbsolutePositionSnapshot = this.utils.getAbsolutePosition(\n      (this.left + this.width / 2) / scale,\n      (this.top + this.height / 2) / scale,\n      this.width / scale,\n      this.height / scale\n    );\n    this.resizePointSnapshot = {\n      absolute: [event.clientX, event.clientY],\n      relative: [(event.clientX - canvasRect.left) / scale, (event.clientY - canvasRect.top) / scale],\n    };\n    this.selected.forEach((id) => {\n      const node = this.utils.getNodeById(id, this.nodes);\n      const nodeAbsolutePosition = this.utils.getAbsolutePosition(\n        node.left + node.width / 2,\n        node.top + node.height / 2,\n        node.width,\n        node.height,\n        node.rotate\n      );\n      if (this.selected.size > 1) {\n        this.resizeMode = 'GROUP';\n        const percentPosition = this.utils.getItemPercentPositionInGroup({ ...this.groupRectSnapshot }, nodeAbsolutePosition);\n        this.nodePositionSnapshotList.set(id, percentPosition);\n      } else {\n        this.resizeMode = 'SINGLE';\n        this.nodePositionSnapshotList.set(id, nodeAbsolutePosition);\n      }\n    });\n  }\n\n  resizing(event: PointerEvent, direction: IRectDirection): void {\n    if (this.resizePointSnapshot && this.groupRectSnapshot && this.resizeMode) {\n      const [mx, my] = [event.clientX - this.resizePointSnapshot.absolute[0], event.clientY - this.resizePointSnapshot.absolute[1]];\n      switch (this.resizeMode) {\n        case 'GROUP':\n          this.resizingNodeList(direction, mx, my);\n          break;\n        case 'SINGLE':\n          this.resizingNode(direction, mx, my);\n          break;\n      }\n    }\n  }\n\n  resizeEnd(): void {\n    this.groupRectSnapshot = null;\n    this.resizePointSnapshot = null;\n    this.nodePositionSnapshotList.clear();\n  }\n\n  resizingNodeList(direction: IRectDirection, mx: number, my: number): void {\n    const { scale } = this.canvasPosition;\n    const { relative } = this.resizePointSnapshot;\n    const endPointer: [number, number] = [relative[0] + mx / scale, relative[1] + my / scale];\n    const line = getGroupDiagonalByDirection(direction, this.groupAbsolutePositionSnapshot);\n    const newPoint = getPointByEndPointer(direction, endPointer, line);\n    const newGroupRect: IDOMRect = getGroupRectByDirectionPoint(direction, this.groupAbsolutePositionSnapshot, newPoint);\n    const nodesSizeMap = new Map<string, IDOMRect>();\n    this.nodePositionSnapshotList.forEach(({ tl, bl, br, tr }, id) => {\n      nodesSizeMap.set(\n        id,\n        this.utils.getRelativePosition({\n          bl: [bl[0] * newGroupRect.width + newGroupRect.left, bl[1] * newGroupRect.height + newGroupRect.top],\n          br: [br[0] * newGroupRect.width + newGroupRect.left, br[1] * newGroupRect.height + newGroupRect.top],\n          tl: [tl[0] * newGroupRect.width + newGroupRect.left, tl[1] * newGroupRect.height + newGroupRect.top],\n          tr: [tr[0] * newGroupRect.width + newGroupRect.left, tr[1] * newGroupRect.height + newGroupRect.top],\n        })\n      );\n    });\n    this.store.dispatch(updateNodesSize(nodesSizeMap));\n  }\n\n  resizingNode(direction: IRectDirection, mx: number, my: number): void {\n    const { scale } = this.canvasPosition;\n    const { relative } = this.resizePointSnapshot;\n    const endPointer: [number, number] = [relative[0] + mx / scale, relative[1] + my / scale];\n    this.nodePositionSnapshotList.forEach((position, id) => {\n      this.store.dispatch(\n        updateNodesSize(\n          new Map<string, IDOMRect>([[id, getDOMRectByDirectionAndPosition(direction, position, endPointer)]])\n        )\n      );\n    });\n  }\n}\n\nfunction getGroupDiagonalByDirection(direction: IRectDirection, absolutePosition: IAbsolutePosition): [[number, number], [number, number]] {\n  const verticalAndHorizontalPosition = CeUtilsService.shared.getVerticalAndHorizontalPointByAbsolutePosition(absolutePosition);\n  switch (direction) {\n    case 'tl':\n    case 'br':\n      return [absolutePosition.tl, absolutePosition.br];\n    case 'tr':\n    case 'bl':\n      return [absolutePosition.tr, absolutePosition.bl];\n    case 't':\n    case 'b':\n      return [verticalAndHorizontalPosition.t, verticalAndHorizontalPosition.b];\n    case 'l':\n    case 'r':\n      return [verticalAndHorizontalPosition.l, verticalAndHorizontalPosition.r];\n  }\n}\n\nfunction getPointByEndPointer(direction: IRectDirection, endPointer: [number, number], line: [[number, number], [number, number]]): [number, number] {\n  switch (direction) {\n    case 'tl':\n    case 'tr':\n      if (endPointer[1] >= CeUtilsService.shared.getPointInLine('y', endPointer[0], line)) {\n        return [endPointer[0], CeUtilsService.shared.getPointInLine('y', endPointer[0], line)];\n      } else {\n        return [CeUtilsService.shared.getPointInLine('x', endPointer[1], line), endPointer[1]];\n      }\n    case 'bl':\n    case 'br':\n      if (endPointer[1] >= CeUtilsService.shared.getPointInLine('y', endPointer[0], line)) {\n        return [CeUtilsService.shared.getPointInLine('x', endPointer[1], line), endPointer[1]];\n      } else {\n        return [endPointer[0], CeUtilsService.shared.getPointInLine('y', endPointer[0], line)];\n      }\n  }\n}\n\nfunction getGroupRectByDirectionPoint(direction: IRectDirection, absolutePoint: IAbsolutePosition, point: [number, number]): IDOMRect {\n  switch (direction) {\n    case 'tl':\n      return { left: point[0], top: point[1], width: absolutePoint.tr[0] - point[0], height: absolutePoint.bl[1] - point[1] };\n    case 'tr':\n      return { left: absolutePoint.tl[0], top: point[1], width: point[0] - absolutePoint.tl[0], height: absolutePoint.br[1] - point[1] };\n    case 'br':\n      return { left: absolutePoint.tl[0], top: absolutePoint.tl[1], width: point[0] - absolutePoint.bl[0], height: point[1] - absolutePoint.tr[1] };\n    case 'bl':\n      return { left: point[0], top: absolutePoint.tl[1], width: absolutePoint.br[0] - point[0], height: point[1] - absolutePoint.tl[1] };\n  }\n}\n\nfunction getDOMRectByDirectionAndPosition(direction: IRectDirection, position: IAbsolutePosition, endPointer: [number, number]): IDOMRect {\n  const { bl, br, tl, tr } = position;\n  let newTLPoint: [number, number];\n  let newTRPoint: [number, number];\n  let newBLPoint: [number, number];\n  let newBRPoint: [number, number];\n  switch (direction) {\n    case 'tl':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, tr, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: endPointer, tr: newTRPoint, bl: newBLPoint, br });\n    case 'tr':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, tl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr: endPointer, bl, br: newBRPoint });\n    case 'bl':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, tl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr, bl: endPointer, br: newBRPoint });\n    case 'br':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, tr, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr: newTRPoint, bl: newBLPoint, br: endPointer });\n    case 't':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, tl, endPointer);\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, tr, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr: newTRPoint, bl, br });\n    case 'r':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, tr, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr: newTRPoint, bl, br: newBRPoint });\n    case 'b':\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, bl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr, bl: newBLPoint, br: newBRPoint });\n    case 'l':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, tl, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr, bl: newBLPoint, br });\n  }\n}\n","import { ChangeDetectionStrategy, Component, OnInit, Optional, SkipSelf, ViewEncapsulation } from '@angular/core';\nimport { updateNodes } from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\nimport { ResizeHandleComponent } from '../resize-handle/resize-handle.component';\n\n@Component({\n  selector: 'ce-rotate-handle',\n  templateUrl: 'rotate-handle.component.html',\n  styleUrls: ['rotate-handle.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RotateHandleComponent implements OnInit {\n  private selected: Set<string>;\n  private nodes: INode[];\n  public rotateSnapshot: [number, number, number, number, INode] = null;\n\n  constructor(@Optional() @SkipSelf() private parent: ResizeHandleComponent, private store: EditorStore<IStore>, private utils: CeUtilsService) {}\n\n  ngOnInit(): void {\n    this.store.select((state) => state.selected).subscribe((selected) => (this.selected = selected));\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n  }\n\n  rotateStart(event: PointerEvent): void {\n    event.stopPropagation();\n    event.preventDefault();\n    const rect = this.parent.eleRef.nativeElement.getBoundingClientRect().toJSON();\n    this.rotateSnapshot = [\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2 - 100,\n      this.utils.getNodeById([...this.selected][0], this.nodes),\n    ];\n  }\n\n  rotating(event: PointerEvent): void {\n    if (this.rotateSnapshot) {\n      const [cx, cy, sx, sy, node] = this.rotateSnapshot;\n      const ex = event.clientX;\n      const ey = event.clientY;\n      const rotate = Math.round(this.utils.getRotate(cx, cy, sx, sy, ex, ey));\n      this.store.dispatch(updateNodes([{ ...node, rotate: rotate === 360 ? 0 : rotate }]));\n    }\n  }\n\n  rotateStop(): void {\n    this.rotateSnapshot = null;\n  }\n}\n","<div\n  class=\"rotate\"\n  ceDraggable\n  (ceOnStart)=\"rotateStart($event)\"\n  (ceOnMove)=\"rotating($event)\"\n  (ceOnStop)=\"rotateStop()\"\n  [style.cursor]=\"rotateSnapshot && 'grabbing'\"\n>\n  <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M10.536 3.464A5 5 0 1 0 11 10l1.424 1.425a7 7 0 1 1-.475-9.374L13.659.34A.2.2 0 0 1 14 .483V5.5a.5.5 0 0 1-.5.5H8.483a.2.2 0 0 1-.142-.341l2.195-2.195z\"\n      fill-rule=\"nonzero\"\n    ></path>\n  </svg>\n</div>\n","import { Directive, HostBinding } from '@angular/core';\nimport { EditorStore } from '../services';\nimport { IStore } from '../store';\n\n@Directive({\n  selector: '[ceNoZoomArea]',\n  exportAs: 'ceNoZoomArea',\n})\nexport class NoZoomAreaDirective {\n  @HostBinding('style.width.px')\n  public width: number;\n  @HostBinding('style.height.px')\n  public height: number;\n  constructor(private store: EditorStore<IStore>) {\n    this.store\n      .select((state) => ({ ...state.canvasSize, scale: state.canvasPosition.scale }))\n      .subscribe((state) => {\n        this.width = state.width * state.scale;\n        this.height = state.height * state.scale;\n      });\n  }\n}\n","import { Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, finalize, switchMap, takeUntil } from 'rxjs/operators';\n\nexport interface ISelectorRect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n@Directive({\n  selector: '[ceSelector]',\n  exportAs: 'ceSelector',\n})\nexport class SelectorDirective implements OnInit, OnDestroy {\n  private subscription = new Subscription();\n  private move$ = fromEvent<PointerEvent>(window, 'pointermove');\n  private up$ = fromEvent<PointerEvent>(window, 'pointerup');\n  private startPointSnapshot: number[] = null;\n  private boxRect: DOMRect;\n\n  @Input()\n  @InputBoolean()\n  public ceSelectorDisabled = false;\n  @Output()\n  public ceOnSelectorStart = new EventEmitter();\n  @Output()\n  public ceOnSelectorMoving = new EventEmitter<ISelectorRect>();\n  @Output()\n  public ceOnSelectorStop = new EventEmitter();\n  constructor(private eleRef: ElementRef<HTMLDivElement>) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerdown')\n        .pipe(\n          filter((e) => e.button === 0),\n          filter(() => !this.ceSelectorDisabled),\n          switchMap((ev) => {\n            this.boxRect = this.eleRef.nativeElement.getBoundingClientRect();\n            this.startPointSnapshot = [ev.clientX, ev.clientY];\n            this.ceOnSelectorStart.emit();\n            return this.move$.pipe(\n              finalize(() => {\n                this.startPointSnapshot = null;\n                this.ceOnSelectorStop.emit();\n              }),\n              takeUntil(this.up$)\n            );\n          })\n        )\n        .subscribe((e) => {\n          if (this.startPointSnapshot) {\n            let x: number;\n            let y: number;\n            const [mx, my] = [e.clientX - this.startPointSnapshot[0], e.clientY - this.startPointSnapshot[1]];\n            if (mx >= 0) {\n              x = this.startPointSnapshot[0] - this.boxRect.left;\n            } else {\n              x = e.clientX - this.boxRect.left;\n            }\n            if (my >= 0) {\n              y = this.startPointSnapshot[1] - this.boxRect.top;\n            } else {\n              y = e.clientY - this.boxRect.top;\n            }\n            this.ceOnSelectorMoving.emit({ x, y, width: Math.abs(mx), height: Math.abs(my) });\n          }\n        })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","import { Directive, HostBinding } from '@angular/core';\nimport { EditorStore } from '../services';\nimport { IStore } from '../store';\n\n@Directive({\n  selector: '[ceZoomArea]',\n  exportAs: 'ceZoomArea',\n})\nexport class ZoomAreaDirective {\n  @HostBinding('style.transform-origin')\n  transformOrigin = '0 0';\n  @HostBinding('style.transform')\n  public scale: string;\n  @HostBinding('style.width.px')\n  width: number;\n  @HostBinding('style.height.px')\n  height: number;\n  constructor(private store: EditorStore<IStore>) {\n    this.store\n      .select((state) => ({ ...state.canvasSize, scale: state.canvasPosition.scale }))\n      .subscribe((state) => {\n        this.scale = `perspective(1px) scale(${state.scale})`;\n        this.width = state.width;\n        this.height = state.height;\n      });\n  }\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ceToolbar]',\n  exportAs: 'ceToolbar',\n})\nexport class CeToolbarDirective {\n  constructor() {}\n}\n","<ng-container *ngIf=\"ceToolbar; else elseBlock\">\n  <ng-content select=\"[ceToolbar]\"></ng-content>\n</ng-container>\n\n<ng-template #elseBlock>\n  <nz-card nzSize=\"small\" class=\"tool-bar\">\n    <div class=\"d-flex align-items-center col p-0\">\n      <span class=\"ml-2\">Canvas Title</span>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"copyStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-copy\"></i></button>\n        <button nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-paste\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"groupStatus$ | async\" (click)=\"groupNodes()\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-group\"></i></button>\n        <button [disabled]=\"!(breakStatus$ | async)\" (click)=\"breakNode()\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-break\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-horizontal-between\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-horizontal-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-vertical-between\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-vertical-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-left-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-right-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-top-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-bottom-align\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('LAYERS')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('LAYERS')\">\n          <i nz-icon nzIconfont=\"icon-tuceng\"></i>\n          <span>图层</span>\n        </nz-tag>\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('WIDGET_LIST')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('WIDGET_LIST')\">\n          <i nz-icon nzIconfont=\"icon-widgets\"></i>\n          <span>组件</span>\n        </nz-tag>\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('PROPERTIES')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('PROPERTIES')\">\n          <i nz-icon nzIconfont=\"icon-widget\"></i>\n          <span>属性</span>\n        </nz-tag>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-run\"></i></button>\n      </div>\n    </div>\n  </nz-card>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, ContentChild, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { breakNode, clearBordered, clearSelected, groupNodes } from '../../actions';\nimport { CeToolbarDirective } from '../../directives';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-toolbar',\n  exportAs: 'ceToolbar',\n  templateUrl: 'toolbar.component.html',\n  styleUrls: ['toolbar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ToolbarComponent {\n  @ContentChild(CeToolbarDirective)\n  ceToolbar: CeToolbarDirective;\n  public selected$: Observable<Set<string>>;\n  public scale: number;\n  public get copyStatus$(): Observable<boolean> {\n    return this.selected$.pipe(map((state) => state.size === 0));\n  }\n  public groupStatus$: Observable<boolean>;\n  public breakStatus$: Observable<boolean>;\n  private selected: Set<string>;\n  private nodes: INode[];\n\n  constructor(public store: EditorStore<IStore>, private utils: CeUtilsService) {\n    this.store\n      .selectDifferent((state) => ({ selected: state.selected, nodes: state.nodes }))\n      .subscribe(({ selected, nodes }) => {\n        this.selected = selected;\n        this.nodes = nodes;\n      });\n    this.selected$ = this.store.selectDifferent((state) => state.selected);\n    this.groupStatus$ = this.selected$.pipe(map((state) => state.size <= 1));\n    this.breakStatus$ = this.selected$.pipe(\n      map((state) => (state.size === 1 ? [...state][0] : false)),\n      map((id) => id && !!this.utils.getNodeById(id as string, this.nodes)?.children?.length)\n    );\n  }\n\n  groupNodes(): void {\n    const ids = [...this.selected];\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(groupNodes(ids));\n  }\n\n  breakNode(): void {\n    const node = this.utils.getNodeById([...this.selected][0], this.nodes);\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(breakNode(node.id));\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'ce-widget-list',\n  templateUrl: 'widget-list.component.html',\n  styleUrls: ['widget-list.component.less'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class WidgetListComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<p>widget-list works!</p>\n","<ng-content select=\"[toolbar]\"></ng-content>\n<div class=\"col p-0 d-flex\">\n  <div\n    #ceDrag=\"ceDraggable\"\n    #container\n    class=\"canvas-container\"\n    ceDraggable\n    ceUseSpace\n    [class.start-drag]=\"ceDrag.spaceKeyDown\"\n    [class.dragging]=\"startPoints\"\n    (ceOnStart)=\"dragStart($event)\"\n    (ceOnMove)=\"dragging($event)\"\n    (ceOnStop)=\"dragEnd()\"\n    ceSelector\n    [ceSelectorDisabled]=\"ceDrag.spaceKeyDown\"\n    (ceOnSelectorStart)=\"selectorStart()\"\n    (ceOnSelectorMoving)=\"selectorMoving($event)\"\n    (ceOnSelectorStop)=\"selectorEnd()\"\n  >\n    <div class=\"canvas-content\" [style.transform]=\"matrix\">\n      <div ceNoZoomArea>\n        <ce-canvas-background></ce-canvas-background>\n        <ce-canvas-grid></ce-canvas-grid>\n      </div>\n      <div ceZoomArea>\n        <ce-canvas></ce-canvas>\n      </div>\n      <div ceNoZoomArea>\n        <ce-bordered-area></ce-bordered-area>\n        <ce-resize-handle></ce-resize-handle>\n        <div\n          cx\n          [class.active]=\"(refLineState$ | async)?.cx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.cx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          cy\n          [class.active]=\"(refLineState$ | async)?.cy?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.cy?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n        <div\n          tx\n          [class.active]=\"(refLineState$ | async)?.tx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.tx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          bx\n          [class.active]=\"(refLineState$ | async)?.bx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.bx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          ly\n          [class.active]=\"(refLineState$ | async)?.ly?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.ly?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n        <div\n          ry\n          [class.active]=\"(refLineState$ | async)?.ry?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.ry?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n      </div>\n    </div>\n    <div\n      class=\"selector\"\n      *ngIf=\"selectorRect\"\n      [style.left.px]=\"selectorRect.x\"\n      [style.top.px]=\"selectorRect.y\"\n      [style.width.px]=\"selectorRect.width\"\n      [style.height.px]=\"selectorRect.height\"\n    ></div>\n  </div>\n</div>\n\n<ng-container *ngFor=\"let panel of store.panels$ | async; trackBy: panelsTrackByFn\">\n  <ce-panel *ngIf=\"panel.show\" [panel]=\"panel\"></ce-panel>\n</ng-container>\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { clearBordered, clearSelected, setBorderedNodes, setSelectedNodes, updateCanvasPosition } from './actions';\nimport { ISelectorRect } from './directives/selector.directive';\nimport { EditorStore } from './services/store.service';\nimport { ICanvasPosition, INode, IPanel, IRefLineDirection, IRefLineState, IStore } from './store';\n\n@Component({\n  selector: 'ce-editor',\n  templateUrl: 'angular-editor-lib.component.html',\n  styleUrls: ['angular-editor-lib.less'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [EditorStore],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'ceEditor',\n})\nexport class AngularEditorLibComponent<T = any> {\n  @Input()\n  set state(state: Partial<IStore<T>>) {\n    this.store?.setState((oldState) => ({ ...oldState, ...state }));\n  }\n  @ViewChild('container', { read: ElementRef, static: true })\n  private containerEleRef: ElementRef<HTMLDivElement>;\n  private subscription = new Subscription();\n  public canvasPosition: ICanvasPosition;\n  public startPoints: number[] = [];\n  public matrix: string;\n  public selectorRect: ISelectorRect = null;\n  public nodes: INode[];\n  public refLineState$: Observable<{ [P in IRefLineDirection]: IRefLineState }>;\n  private nodesRectSnapshot: Map<string, Partial<DOMRect>> = null;\n  private nodeIdList: string[] = null;\n  constructor(public store: EditorStore) {\n    this.store\n      .select((state) => state.canvasPosition)\n      .subscribe((canvasPosition) => {\n        this.canvasPosition = canvasPosition;\n        this.matrix = `translate3d(${this.canvasPosition.left}px,${this.canvasPosition.top}px,0)`;\n      });\n\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n    this.refLineState$ = this.store.selectDifferent((state) => state.refLineState);\n  }\n\n  ngAfterViewInit(): void {\n    this.listenScaleEvent();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  panelsTrackByFn(_i: number, panel: IPanel<any>) {\n    return `${panel.key}_${panel.show.toString()}`;\n  }\n\n  dragStart(ev: PointerEvent): void {\n    this.startPoints = [ev.clientX, ev.clientY, this.canvasPosition.left, this.canvasPosition.top];\n  }\n\n  dragging(ev: PointerEvent): void {\n    if (this.startPoints) {\n      const [sx, sy, left, top] = this.startPoints;\n      const [mx, my] = [ev.clientX - sx, ev.clientY - sy];\n      this.store.dispatch(updateCanvasPosition({ left: left + mx, top: top + my }));\n    }\n  }\n\n  dragEnd(): void {\n    this.startPoints = null;\n  }\n\n  listenScaleEvent(): void {\n    const scaleEle = this.containerEleRef.nativeElement;\n    this.subscription.add(\n      fromEvent<WheelEvent & { wheelDelta: number }>(scaleEle, 'wheel')\n        .pipe(filter((e) => e.ctrlKey))\n        .subscribe((e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const containerBox = scaleEle.getBoundingClientRect();\n          const wheelDelta = (e.wheelDelta / 120 || -e.deltaY / 3) * 0.05;\n          const [x, y] = [e.clientX - containerBox.left, e.clientY - containerBox.top];\n          if (this.canvasPosition.scale + wheelDelta >= 0.2) {\n            this.store.dispatch(\n              updateCanvasPosition({\n                scale: this.canvasPosition.scale + wheelDelta,\n                left: (this.canvasPosition.left - x) * (wheelDelta / this.canvasPosition.scale) + this.canvasPosition.left,\n                top: (this.canvasPosition.top - y) * (wheelDelta / this.canvasPosition.scale) + this.canvasPosition.top,\n              })\n            );\n          }\n        })\n    );\n  }\n\n  selectorStart(): void {\n    this.clearSelectAndBorder();\n    const boxRect = this.containerEleRef.nativeElement.getBoundingClientRect();\n    this.nodesRectSnapshot = new Map<string, Partial<DOMRect>>();\n    this.nodes\n      .filter((node) => !node.locked)\n      .forEach((node) => {\n        const rect = document.querySelector(`#box-item-${node.id}`)?.getBoundingClientRect();\n        if (rect) {\n          const { width, height, left, top } = rect;\n          this.nodesRectSnapshot.set(node.id, { width, height, left: left - boxRect.left, top: top - boxRect.top });\n        }\n      });\n  }\n\n  selectorMoving(rect: ISelectorRect): void {\n    this.selectorRect = rect;\n    this.nodeIdList = [];\n    this.nodesRectSnapshot.forEach((item, id) => {\n      if (isInBound(item, this.selectorRect)) {\n        this.nodeIdList.push(id);\n      }\n    });\n    this.store.dispatch(setBorderedNodes<T>(this.nodeIdList));\n    this.store.dispatch(setSelectedNodes(this.nodeIdList));\n  }\n\n  selectorEnd(): void {\n    this.nodeIdList = [];\n    this.selectorRect = null;\n    this.nodesRectSnapshot = null;\n  }\n\n  private clearSelectAndBorder(): void {\n    this.store.dispatch(clearBordered<T>());\n    this.store.dispatch(clearSelected<T>());\n  }\n}\n\nfunction isInBound(rect: Partial<DOMRect>, bound: ISelectorRect): boolean {\n  return (\n    rect.left >= bound.x && rect.top >= bound.y && rect.left + rect.width <= bound.x + bound.width && rect.top + rect.height <= bound.y + bound.height\n  );\n}\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { Injector, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { IconDefinition } from '@ant-design/icons-angular';\nimport * as AllIcons from '@ant-design/icons-angular/icons';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzIconModule, NzIconService } from 'ng-zorro-antd/icon';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { NzPipesModule } from 'ng-zorro-antd/pipes';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzTagModule } from 'ng-zorro-antd/tag';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { NzTreeModule } from 'ng-zorro-antd/tree';\nimport { AngularEditorLibComponent } from './angular-editor-lib.component';\nimport { BorderedAreaComponent } from './components/bordered-area/bordered-area.component';\nimport { BoxItemComponent } from './components/box-item/box-item.component';\nimport { CanvasBackgroundComponent } from './components/canvas-background/canvas-background.component';\nimport { CanvasGridComponent } from './components/canvas-grid/canvas-grid.component';\nimport { CanvasComponent } from './components/canvas/canvas.component';\nimport { LayerTreeComponent } from './components/layer-tree/layer-tree.component';\nimport { PanelComponent } from './components/panel/panel.component';\nimport { CanvasFormsComponent } from './components/property-form/forms/canvas-forms/canvas-forms.component';\nimport { WidgetFormComponent } from './components/property-form/forms/widget-form/widget-form.component';\nimport { PropertyFormComponent } from './components/property-form/property-form.component';\nimport { ResizeHandleComponent } from './components/resize-handle/resize-handle.component';\nimport { RotateHandleComponent } from './components/rotate-handle/rotate-handle.component';\nimport { ToolbarComponent } from './components/toolbar/toolbar.component';\nimport { WidgetListComponent } from './components/widget-list/widget-list.component';\nimport { CeToolbarDirective } from './directives';\nimport { DraggableDirective } from './directives/draggable.directive';\nimport { NoZoomAreaDirective } from './directives/no-zoom-area.directive';\nimport { SelectorDirective } from './directives/selector.directive';\nimport { ZoomAreaDirective } from './directives/zoom-area.directive';\n\nconst antDesignIcons = AllIcons as {\n  [key: string]: IconDefinition;\n};\nconst ICONS: IconDefinition[] = Object.keys(antDesignIcons).map((key) => antDesignIcons[key]);\n\nconst ANTD_MODULES = [\n  NzCardModule,\n  NzIconModule.forRoot(ICONS),\n  NzButtonModule,\n  NzInputNumberModule,\n  NzTabsModule,\n  NzTreeModule,\n  NzDropDownModule,\n  NzPipesModule,\n  NzToolTipModule,\n  NzFormModule,\n  NzInputModule,\n  NzTagModule,\n  NzDividerModule,\n  NzCollapseModule,\n  NzSwitchModule,\n  NzSelectModule,\n];\n\nconst CDK_MODULES = [DragDropModule];\n\nconst FORMS_COMPONENT = [CanvasFormsComponent, WidgetFormComponent];\n\nconst COMPONENTS = [\n  ToolbarComponent,\n  LayerTreeComponent,\n  WidgetListComponent,\n  CanvasComponent,\n  CanvasGridComponent,\n  CanvasBackgroundComponent,\n  BoxItemComponent,\n  ResizeHandleComponent,\n  RotateHandleComponent,\n  BorderedAreaComponent,\n  AngularEditorLibComponent,\n  PanelComponent,\n  PropertyFormComponent,\n];\n\nconst DIRECTIVES = [NoZoomAreaDirective, ZoomAreaDirective, DraggableDirective, SelectorDirective, CeToolbarDirective];\n\n@NgModule({\n  imports: [CommonModule, BrowserAnimationsModule, HttpClientModule, FormsModule, ReactiveFormsModule, ...ANTD_MODULES, ...CDK_MODULES],\n  declarations: [...COMPONENTS, ...DIRECTIVES, ...FORMS_COMPONENT],\n  exports: [...COMPONENTS, ...DIRECTIVES],\n})\nexport class AngularEditorLibModule {\n  constructor(private injector: Injector) {\n    this.injector.get(NzIconService).fetchFromIconfont({ scriptUrl: 'https://at.alicdn.com/t/font_1310204_lmnttxhl5lk.js' });\n  }\n}\n","/*\n * Public API Surface of angular-editor-lib\n */\n\nexport * from './lib/components';\nexport * from './lib/directives';\nexport * from './lib/services';\nexport * from './lib/angular-editor-lib.component';\nexport * from './lib/angular-editor-lib.module';\nexport * from './lib/store';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["_.chain","i0.ɵɵelement","i0.ɵɵstyleProp","i0.ɵɵtemplate","i0.ɵɵproperty","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵelementStart","i0.ɵɵelementEnd","i0.ɵɵnamespaceSVG","i0.ɵɵattribute","_.cloneDeep","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵclassProp","i0.ɵɵtextInterpolate","i0.ɵɵelementContainer","i0.ɵɵprojection"],"mappings":"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AG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACjH,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACjH,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACjH,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC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"}