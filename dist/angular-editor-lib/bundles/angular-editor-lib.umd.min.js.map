{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../projects/angular-editor-lib/src/lib/services/utils.service.ts","../../projects/angular-editor-lib/src/lib/store.ts","../projects/angular-editor-lib/src/lib/services/store.service.ts","../esm2015/projects/angular-editor-lib/src/lib/components/bordered-area/bordered-area.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/bordered-area/bordered-area.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/box-item/box-item.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/box-item/box-item.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-background/canvas-background.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-background/canvas-background.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-grid/canvas-grid.component.ts","../projects/angular-editor-lib/src/lib/actions/border-and-selected.actions.ts","../projects/angular-editor-lib/src/lib/actions/canvas.actions.ts","../projects/angular-editor-lib/src/lib/actions/nodes.actions.ts","../projects/angular-editor-lib/src/lib/actions/refline.actions.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas-grid/canvas-grid.component.html","../projects/angular-editor-lib/src/lib/directives/draggable.directive.ts","../esm2015/projects/angular-editor-lib/src/lib/components/canvas/canvas.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/canvas/canvas.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/layer-tree/layer-tree.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/layer-tree/layer-tree.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/panel/panel.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/panel/panel.component.ts","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/canvas-forms/canvas-forms.component.html","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/canvas-forms/canvas-forms.component.ts","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/widget-form/widget-form.component.html","../esm2015/lib/components/projects/angular-editor-lib/src/lib/components/property-form/forms/widget-form/widget-form.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/property-form/property-form.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/property-form/property-form.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/resize-handle/resize-handle.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/resize-handle/resize-handle.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/rotate-handle/rotate-handle.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/rotate-handle/rotate-handle.component.html","../projects/angular-editor-lib/src/lib/directives/no-zoom-area.directive.ts","../projects/angular-editor-lib/src/lib/directives/selector.directive.ts","../projects/angular-editor-lib/src/lib/directives/zoom-area.directive.ts","../projects/angular-editor-lib/src/lib/directives/ce-toolbar.directive.ts","../esm2015/projects/angular-editor-lib/src/lib/components/toolbar/toolbar.component.html","../esm2015/projects/angular-editor-lib/src/lib/components/toolbar/toolbar.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/widget-list/widget-list.component.ts","../esm2015/projects/angular-editor-lib/src/lib/components/widget-list/widget-list.component.html","../../projects/angular-editor-lib/src/lib/angular-editor-lib.component.html","../../projects/angular-editor-lib/src/lib/angular-editor-lib.component.ts","../../projects/angular-editor-lib/src/lib/angular-editor-lib.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","create","__read","o","n","m","Symbol","iterator","e","ar","next","done","push","value","error","__spread","concat","SPECIAL_ROTATE","Set","genNodeId","Date","now","Math","round","random","CeUtilsService","shared","this","isTemplateType","content","TemplateRef","isDeepEqual","v1","v2","_this","isArray","flag_1","forEach","v","flag_2","keys","v1k","getNodeById","id","nodes","node","flag","stack","item","pop","children","apply","map","assign","parentNode","getNodeAndParentListById","rootIdSet","path","shift","has","unshift","getSameLayerParentByChildren","childrenIds","parents","prevParent","parent","getPointInLine","direction","line","_b","_c","x1","y1","_d","x2","y2","getAbsolutePosition","cx","cy","width","height","rotate","getAbsolutePositionSpecial","sqrt","pow","patchRad1","atan","patchRad2","currentRad","PI","tl","cos","sin","tr","bl","br","getVerticalAndHorizontalPointByAbsolutePosition","position","t","max","min","l","getBoundingBox","left","top","getAxisListByPosition","bottom","right","axis","positions","reduce","arr","getOuterBoundingBox","sortNodeListByIndex","list","_.chain","sortBy","zIndex","getVerticalLineCrossPoint","PA","PB","PD","PAx","PAy","PBx","PBy","PDx","PDy","L1k","L2k","a","x","getRelativePosition","a1","b1","c1","a2","b2","c2","getItemPercentPositionInGroup","group","getRotate","sx","sy","ex","ey","acos","getPointByVectorSum","ab","ac","getDistanceBeforeToPoint","point1","point2","getChildPositionBaseOnParentCoordinateSystem","parentRect","parentRotate","childRect","parentCenter","originalCenter","newCenterX","newCenterY","getChildPositionBaseOnMultipleParentCoordinataSystem","child","rect","getChildrenBoundingBoxBaseOnParentCoordinateSystem","outerBox","domRect","getResizeBoundingBox","selected","slice","sum","_a","factory","ɵfac","providedIn","DEFAULT_STORE","fill","_v","name","locked","borderWidth","borderColor","borderStyle","bordered","canvasBackground","backgroundColor","canvasPosition","scale","canvasSize","refLineState","tx","state","bx","ly","ry","EditorStore","utils","_super","_defaultPanels","title","LayerTreeComponent","show","y","WidgetListComponent","PropertyFormComponent","window","innerWidth","panels","panels$","BehaviorSubject","__","constructor","__extends","initialize","setState","_get","get","dispatch","action","selectDifferent","cb","select","pipe","startWith","pairwise","filter","prev","present","toJSON","JSON","stringify","addPanels","getPanel","find","panel","updatePanelPosition","togglePanelVisible","togglePanelCollapsed","collapsed","ComponentStore","i0.ɵɵelement","i0.ɵɵstyleProp","node_r1","ctx_r0","i0","ɵɵinject","BorderedAreaComponent","store","borderedNodeMap","Map","ngOnInit","borderedNodeList$","size","refreshBorderedList","trackByFn","args","_i","i0.ɵɵproperty","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","ɵɵdirectiveInject","selectors","decls","vars","consts","template","rf","ctx","BoxItemComponent","renderer","eleRef","_node","val","generatorStyles","ngAfterViewInit","nativeElement","setAttribute","setStyle","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","Renderer2","ElementRef","inputs","styles","encapsulation","changeDetection","backgroundColor$","backgroundImage$","CanvasBackgroundComponent","i0.ɵɵelementStart","i0.ɵɵelementEnd","CanvasGridComponent","scale$","childDPath$","getPath","parentDPath$","childWidth$","parentWidth$","clearSelected","setSelectedNodes","ids","clearBordered","addBorderedNodes","removeBorderedNodes","includes","setBorderedNodes","updateCanvasPosition","updateNodes","updateNodesSize","nodesSizeMap","inSameLayer","newNode","recursiveUpdateNodeChildrenSize","groupNodes","nodeMap","set","groupRect","groupNode","breakNode","_.cloneDeep","newNodes","parent_1","nextParent","oldParentRect","newParentRect","nodeAbsolutePosition","newNodeRect","resetRefLineState","i0.ɵɵnamespaceSVG","i0.ɵɵattribute","ɵɵpipeBind1","DraggableDirective","cdr","ceDragDisabled","ceUseSpace","ceOnStart","EventEmitter","ceOnMove","ceOnStop","ceOnSpaceKeyDown","spaceKeyDown","subscription","Subscription","mouseMove$","fromEvent","mouseUp$","keyDown$","document","keyUp$","mouseDown$","button","mouseEnter$","mouseLeave$","listenSpaceKeyEvent","switchMap","startEv","emit","takeUntil","stopEv","subscribe","moveEv","ngOnDestroy","unsubscribe","add","detectChanges","preventDefault","stopPropagation","finalize","i0.ɵɵlistener","$event","ɵɵrestoreView","_r3_1","ɵɵnextContext","moving","moveEnd","$implicit","showBorder","removeBorder","ChangeDetectorRef","outputs","exportAs","InputBoolean","REF_LINE_DIRECTION_COMPARE_MAP","baseKey","referKey","baseValue","baseRect","referRect","CanvasComponent","pointerSnapshot","nodesSnapshot","gap","nodes$","nodeListTrackByFn","moveStart","ev","clear","clientX","clientY","outerBoxSnapshot","unselectedNodes","cxPercent","cyPercent","scale_1","mx","my","baseRect_1","refLinesState_1","nodeRect","result","abs","base","getRefLineStateByDirection","newNodes_1","properties","s","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","i0.ɵɵtext","_r25_1","node_r9","origin","showBordered","i0.ɵɵclassProp","i0.ɵɵtextInterpolate","contextMenuSrv","treeNodes$","transferNodesToNzNodes","selectedKeys$","groupStatus$","layerTree","getSelectedNodeList","layerTrackByFn","index","isLeaf","contextMenu","event","menu","getParentKey","multipleSelected","parentKey","selectedKeys","clickNode","test","navigator","platform","ctrlKey","metaKey","deleteNodes","undefined","prevParent_1","prevParentId_1","originalParentId","removeNodes","toggleNodesLockState","lockNodes","unlockNodes","i0.ɵɵelementContainer","i3$1","NzContextMenuService","viewQuery","NzTreeComponent","_r3","_r1","PanelComponent","_panel","updatePosition","distance","toggleCollapsed","close","_r4","CanvasFormsComponent","fb","canvasSizeFormGroup","Validators","required","canvasPositionFormGroup","canvasBackgroundFormGroup","patchValue","emitEvent","toFixed","valueChanges","console","log","i1","FormBuilder","WidgetFormComponent","cfr","boundingFormGroup","borderRadius","values","ComponentFactoryResolver","ɵɵpureFunction1","_c2","ɵɵpureFunction0","_c1","_c3","_c4","_c5","formComponent$","_r10_1","resizing","resizeEnd","_r14_1","_r18_1","_r22_1","ResizeHandleComponent","display","nodePositionSnapshotList","selectedSize$","refreshResizeHandle","resizeStart","canvasRect","querySelector","getBoundingClientRect","groupRectSnapshot","groupAbsolutePositionSnapshot","resizePointSnapshot","absolute","relative","resizeMode","percentPosition","resizingNodeList","resizingNode","newPoint","endPointer","getPointByEndPointer","absolutePosition","verticalAndHorizontalPosition","getGroupDiagonalByDirection","newGroupRect","absolutePoint","point","getGroupRectByDirectionPoint","getDOMRectByDirectionAndPosition","newTLPoint","newTRPoint","newBLPoint","newBRPoint","hostVars","hostBindings","RotateHandleComponent","rotateSnapshot","rotateStart","rotating","rotateStop","NoZoomAreaDirective","SelectorDirective","move$","up$","startPointSnapshot","ceSelectorDisabled","ceOnSelectorStart","ceOnSelectorMoving","ceOnSelectorStop","boxRect","transformOrigin","ZoomAreaDirective","i0.ɵɵprojection","CeToolbarDirective","ToolbarComponent","selected$","breakStatus$","contentQueries","dirIndex","ctx_r2","selectorRect","AngularEditorLibComponent","startPoints","nodesRectSnapshot","nodeIdList","matrix","refLineState$","oldState","listenScaleEvent","panelsTrackByFn","toString","dragStart","dragging","dragEnd","scaleEle","containerEleRef","containerBox","wheelDelta","deltaY","selectorStart","clearSelectAndBorder","selectorMoving","bound","isInBound","selectorEnd","ngContentSelectors","antDesignIcons","AllIcons","ICONS","ANTD_MODULES","NzCardModule","NzIconModule","forRoot","NzButtonModule","NzInputNumberModule","NzTabsModule","NzTreeModule","NzDropDownModule","NzPipesModule","NzToolTipModule","NzFormModule","NzInputModule","NzTagModule","NzDividerModule","NzCollapseModule","NzSwitchModule","NzSelectModule","CDK_MODULES","DragDropModule","injector","NzIconService","fetchFromIconfont","scriptUrl","AngularEditorLibModule","Injector","imports","CommonModule","BrowserAnimationsModule","HttpClientModule","FormsModule","ReactiveFormsModule","declarations","i6","exports","i2","NgIf","AsyncPipe"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable, TemplateRef } from '@angular/core';\nimport * as _ from 'lodash';\nimport { INode } from '../store';\n\nexport type IPosition = [number, number];\nexport interface IAbsolutePosition {\n  tl: IPosition;\n  tr: IPosition;\n  bl: IPosition;\n  br: IPosition;\n}\n\nexport interface IVerticalAndHorizontalPosition {\n  t: IPosition;\n  r: IPosition;\n  b: IPosition;\n  l: IPosition;\n}\n\nexport interface IDOMRect {\n  width: number;\n  height: number;\n  left: number;\n  top: number;\n  cx?: number;\n  cy?: number;\n  bottom?: number;\n  right?: number;\n}\n\nexport type IRectDirection = 'tl' | 't' | 'tr' | 'r' | 'br' | 'b' | 'bl' | 'l';\n\nconst SPECIAL_ROTATE = new Set([0, 90, 180, 270, 360]);\n\nexport function genNodeId(): string {\n  return `${Date.now()}${Math.round(Math.random() * 1000000000000)}`;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class CeUtilsService {\n  public static shared: CeUtilsService;\n\n  constructor() {\n    CeUtilsService.shared = this;\n  }\n\n  public isTemplateType(content: any) {\n    return content instanceof TemplateRef;\n  }\n\n  public isDeepEqual(v1: any, v2: any) {\n    if (typeof v1 !== typeof v2) {\n      return false;\n    } else {\n      switch (typeof v1) {\n        case 'number':\n        case 'string':\n        case 'bigint':\n        case 'boolean':\n        case 'symbol':\n        case 'undefined':\n        case 'function':\n          return v1 === v2;\n        case 'object':\n          if (v1 === null || v2 === null) {\n            return v1 === v2;\n          } else if (Array.isArray(v1)) {\n            if (v1.length !== v2.length) {\n              return false;\n            }\n            let flag = true;\n            v1.forEach((v, i) => {\n              if (flag) {\n                flag = this.isDeepEqual(v, v2[i]);\n              }\n            });\n            return flag;\n          } else if (v1 instanceof Set && v2 instanceof Set) {\n            return this.isDeepEqual([...v1], [...v2]);\n          } else {\n            let flag = true;\n            Object.keys(v1).forEach((v1k) => {\n              if (flag) {\n                if (v2.hasOwnProperty(v1k)) {\n                  flag = this.isDeepEqual(v1[v1k], v2[v1k]);\n                } else {\n                  flag = false;\n                }\n              }\n            });\n            return flag;\n          }\n      }\n    }\n  }\n\n  /**\n   * 通过节点ID在树中查找节点\n   * @param id 节点ID\n   * @param nodes 节点树\n   */\n  public getNodeById<T = any>(id: string, nodes: INode<T>[]): INode<T> {\n    let flag = false;\n    let node: INode<T>;\n    const stack = [...nodes];\n    while (!flag && stack.length) {\n      const item = stack.pop();\n      if (item.id === id) {\n        flag = true;\n        node = item;\n      } else {\n        if (item.children && item.children.length) {\n          stack.push(...item.children.map((i) => ({ ...i, parentNode: item })));\n        }\n      }\n    }\n    return node;\n  }\n\n  /**\n   * 通过节点ID查找节点及节点所有父级\n   * @param id 节点ID\n   * @param nodes 节点树\n   */\n  public getNodeAndParentListById<T = any>(id: string | undefined, nodes: INode<T>[]): INode[] {\n    if (!id) {\n      return [];\n    }\n    const rootIdSet = new Set(nodes.map((node) => node.id));\n    let flag = false;\n    let path: INode[] = [];\n    const stack = [...nodes];\n    while (!flag && stack.length) {\n      const node = stack.shift();\n      if (rootIdSet.has(node.id)) {\n        path = [];\n      }\n      if (node.id === id) {\n        flag = true;\n        path.unshift(node);\n      } else {\n        if (node.children && node.children.length) {\n          path.unshift(node);\n          stack.unshift(...node.children);\n        }\n      }\n    }\n    return path;\n  }\n\n  /**\n   * 通过子节点id集合和节点树，获取子节点的父节点，若子节点不在同一级则返回undefined\n   * @param childrenIds 子节点ID列表\n   * @param nodes 节点集合\n   */\n  public getSameLayerParentByChildren(childrenIds: string[], nodes: INode[]): INode | false {\n    let flag = true;\n    const parents = childrenIds.map((id) => this.getNodeAndParentListById(id, nodes)[1]);\n    let prevParent = parents.pop();\n    while (flag && parents.length) {\n      const parent = parents.pop();\n      if (prevParent?.id === parent?.id) {\n        prevParent = parent;\n      } else {\n        flag = false;\n      }\n    }\n    return flag && prevParent;\n  }\n\n  /**\n   * 通过直线的两点方程获取直线上人一点点的坐标\n   * y = (x-x1)*(y2-y1)/(x2-x1)+y1\n   * x = (y-y1)*(x2-x1)/(y2-y1)+x1\n   * @param direction 要获取点的坐标轴\n   * @param n 要获取点的已知轴的坐标\n   * @param line 确定一条直线的两点的坐标\n   */\n  public getPointInLine(direction: 'x' | 'y', n: number, line: [[number, number], [number, number]]): number {\n    const [[x1, y1], [x2, y2]] = line;\n    switch (direction) {\n      case 'x':\n        return ((n - y1) * (x2 - x1)) / (y2 - y1) + x1;\n      case 'y':\n        return ((n - x1) * (y2 - y1)) / (x2 - x1) + y1;\n    }\n  }\n\n  /**\n   * 通过元素在所在坐标系的中心点、宽、高以及旋转角度获取元素在所在坐标系的四个顶点的坐标\n   * @param cx 中心点x轴坐标\n   * @param cy 中心点y轴坐标\n   * @param width 宽\n   * @param height 高\n   * @param rotate 旋转角度\n   */\n  public getAbsolutePosition(cx: number, cy: number, width: number, height: number, rotate = 0): IAbsolutePosition {\n    if (SPECIAL_ROTATE.has(rotate)) {\n      return this.getAbsolutePositionSpecial(cx, cy, width, height, rotate);\n    } else {\n      const r = Math.sqrt((width / 2) ** 2 + (height / 2) ** 2);\n      const patchRad1 = Math.atan(height / 2 / (width / 2));\n      const patchRad2 = Math.atan(width / 2 / (height / 2));\n      const currentRad = (rotate * Math.PI) / 180;\n\n      return {\n        tl: [cx - Math.cos(currentRad + patchRad1) * r, cy - Math.sin(currentRad + patchRad1) * r],\n        tr: [cx - Math.cos(currentRad + patchRad1 + patchRad2 * 2) * r, cy - Math.sin(currentRad + patchRad1 + patchRad2 * 2) * r],\n        bl: [cx - Math.cos(currentRad - patchRad1) * r, cy - Math.sin(currentRad - patchRad1) * r],\n        br: [cx - Math.cos(currentRad - patchRad1 - patchRad2 * 2) * r, cy - Math.sin(currentRad - patchRad1 - patchRad2 * 2) * r],\n      };\n    }\n  }\n\n  /**\n   * 获取特殊旋转角度下元素的四个顶点在所在坐标系的坐标\n   * @param cx 元素的中心点x轴坐标\n   * @param cy 元素的中心点y轴坐标\n   * @param width 宽\n   * @param height 高\n   * @param rotate 旋转角度\n   */\n  public getAbsolutePositionSpecial(cx: number, cy: number, width: number, height: number, rotate: number): IAbsolutePosition | undefined {\n    if (SPECIAL_ROTATE.has(rotate)) {\n      switch (rotate) {\n        case 0:\n        case 360:\n          return {\n            tl: [cx - width / 2, cy - height / 2],\n            tr: [cx + width / 2, cy - height / 2],\n            bl: [cx - width / 2, cy + height / 2],\n            br: [cx + width / 2, cy + height / 2],\n          };\n        case 90:\n          return {\n            tl: [cx + height / 2, cy - width / 2],\n            tr: [cx + height / 2, cy + width / 2],\n            bl: [cx - height / 2, cy - width / 2],\n            br: [cx - height / 2, cy + width / 2],\n          };\n        case 180:\n          return {\n            tl: [cx + width / 2, cy + height / 2],\n            tr: [cx - width / 2, cy + height / 2],\n            bl: [cx + width / 2, cy - height / 2],\n            br: [cx - width / 2, cy - height / 2],\n          };\n        case 270:\n          return {\n            tl: [cx - height / 2, cy + width / 2],\n            tr: [cx - height / 2, cy - width / 2],\n            bl: [cx + height / 2, cy + width / 2],\n            br: [cx + height / 2, cy - width / 2],\n          };\n      }\n    }\n  }\n\n  /**\n   * 通过元素顶点坐标获取上、右、下和左方向的坐标\n   * @param position\n   */\n  public getVerticalAndHorizontalPointByAbsolutePosition(position: IAbsolutePosition): IVerticalAndHorizontalPosition {\n    const { tl, bl, br, tr } = position;\n    return {\n      t: [(Math.max(tl[0], tr[0]) - Math.min(tl[0], tr[0])) / 2, (Math.max(tl[1], tr[1]) - Math.min(tl[1], tr[1])) / 2],\n      r: [(Math.max(br[0], tr[0]) - Math.min(br[0], tr[0])) / 2, (Math.max(br[1], tr[1]) - Math.min(br[1], tr[1])) / 2],\n      b: [(Math.max(bl[0], br[0]) - Math.min(bl[0], br[0])) / 2, (Math.max(bl[1], br[1]) - Math.min(bl[1], br[1])) / 2],\n      l: [(Math.max(tl[0], bl[0]) - Math.min(tl[0], bl[0])) / 2, (Math.max(tl[1], bl[1]) - Math.min(tl[1], bl[1])) / 2],\n    };\n  }\n\n  /**\n   * 通过HTML元素的宽、高、旋转角度以及所在坐标系的x、y点获取元素在所在坐标系的包围盒\n   * @param width 宽\n   * @param height 高\n   * @param left 在所在坐标系中x轴的坐标\n   * @param top 在所在坐标系中y轴的坐标\n   * @param rotate 旋转角度\n   */\n  public getBoundingBox(width: number, height: number, left: number, top: number, rotate = 0): IDOMRect {\n    const position = this.getAbsolutePosition(left + width / 2, top + height / 2, width, height, rotate);\n    const l = Math.min(...this.getAxisListByPosition('x', [position]));\n    const r = Math.max(...this.getAxisListByPosition('x', [position]));\n    const t = Math.min(...this.getAxisListByPosition('y', [position]));\n    const b = Math.max(...this.getAxisListByPosition('y', [position]));\n    return { left: l, top: t, width: r - l, height: b - t, bottom: b, right: r, cx: l + (r - l) / 2, cy: t + (b - t) / 2 };\n  }\n\n  /**\n   * 通过盒子的绝对坐标列表获取对应坐标的值的集合\n   * @param axis 要获取的坐标轴\n   * @param positions 绝对坐标列表\n   */\n  public getAxisListByPosition(axis: 'x' | 'y', positions: IAbsolutePosition[]): number[] {\n    switch (axis) {\n      case 'x':\n        return positions.reduce((arr, position) => [...arr, position.bl[0], position.br[0], position.tl[0], position.tr[0]], []);\n      case 'y':\n        return positions.reduce((arr, position) => [...arr, position.bl[1], position.br[1], position.tl[1], position.tr[1]], []);\n    }\n  }\n\n  /**\n   * 获取多个盒子的最小外包围盒的尺寸\n   * @param positions 盒子绝对坐标列表\n   */\n  public getOuterBoundingBox(positions: IAbsolutePosition[]): IDOMRect {\n    const l = Math.min(...this.getAxisListByPosition('x', positions));\n    const r = Math.max(...this.getAxisListByPosition('x', positions));\n    const t = Math.min(...this.getAxisListByPosition('y', positions));\n    const b = Math.max(...this.getAxisListByPosition('y', positions));\n    return { left: l, top: t, width: r - l, height: b - t, bottom: b, right: r, cx: l + (r - l) / 2, cy: t + (b - t) / 2 };\n  }\n\n  /**\n   * 依据zIndex对节点递归排序\n   * @param list 节点列表\n   */\n  public sortNodeListByIndex(list?: INode[]): INode[] {\n    return (\n      list &&\n      _.chain(list)\n        .sortBy((item) => item.zIndex)\n        .map((item) => ({ ...item, children: this.sortNodeListByIndex(item.children) }))\n        .value()\n    );\n  }\n\n  /**\n   * 通过直线的斜率方程和直线上两点A，B以及直线外一点D，求出D点上直线AB的垂线DC和直线AB的交点C的坐标\n   * @param PA 点A\n   * @param PB 点B\n   * @param PD 点D\n   */\n  public getVerticalLineCrossPoint(PA: [number, number], PB: [number, number], PD: [number, number]): [number, number] {\n    const [PAx, PAy] = PA;\n    const [PBx, PBy] = PB;\n    const [PDx, PDy] = PD;\n    if (PAx === PBx) {\n      return [PAx, PDy];\n    } else if (PAy === PBy) {\n      return [PDx, PAy];\n    } else {\n      const L1k = (PAy - PBy) / (PAx - PBx);\n      const L2k = -1 / L1k;\n      const a = PAy - L1k * PAx;\n      const b = PDy - L2k * PDx;\n      const x = (b - a) / (L1k - L2k);\n      const y = L1k * x + a;\n      return [x, y];\n    }\n  }\n\n  /**\n   * 通过元素在所在坐标系内四个顶点的坐标，使用直线的两点方程求出两两对点所在直线的交点（矩形的中心点），\n   * 使用勾股定理求出元素宽高，转换后得到元素在所在坐标系的宽、高、x轴坐标和y轴坐标\n   * width = sqrt((trx - tlx)^2 + (try - tly)^2)\n   * height = sqrt((blx - tlx)^2 + (bly - tly)^2)\n   * a1*x + b1*y + c1 = 0\n   * a2*x + b2*y + c2 = 0\n   * a1*x + b1*y + c1 = a2*x + b2*y + c2\n   * 由直线的两点式方程可得a=y0-y1, b=x1-x0, c=x0*y1 - x1*y0\n   * 解方程组可得两条直线的交点x,y\n   * @param position 元素在所在坐标系内四个顶点的坐标\n   */\n  public getRelativePosition(position: IAbsolutePosition): IDOMRect {\n    const { tl, bl, br, tr } = position;\n    const width: number = Math.sqrt((tr[0] - tl[0]) ** 2 + (tr[1] - tl[1]) ** 2);\n\n    const height: number = Math.sqrt((bl[0] - tl[0]) ** 2 + (bl[1] - tl[1]) ** 2);\n\n    const a1 = br[1] - tl[1];\n    const b1 = tl[0] - br[0];\n    const c1 = br[0] * tl[1] - tl[0] * br[1];\n    const a2 = bl[1] - tr[1];\n    const b2 = tr[0] - bl[0];\n    const c2 = bl[0] * tr[1] - tr[0] * bl[1];\n    const cx = (b1 * c2 - b2 * c1) / (a1 * b2 - a2 * b1);\n    const cy = (a2 * c1 - a1 * c2) / (a1 * b2 - a2 * b1);\n\n    return {\n      cx,\n      cy,\n      width,\n      height,\n      left: cx - width / 2,\n      top: cy - height / 2,\n      bottom: cx + width / 2,\n      right: cy + height / 2,\n    };\n  }\n\n  /**\n   * 获取元素的四个顶点在外包围盒的矩形内的坐标的百分比\n   * @param group 元素外包围盒\n   * @param item 元素的四个顶点坐标\n   */\n  public getItemPercentPositionInGroup(group: IDOMRect, item: IAbsolutePosition): IAbsolutePosition {\n    return {\n      tl: [(item.tl[0] - group.left) / group.width, (item.tl[1] - group.top) / group.height],\n      tr: [(item.tr[0] - group.left) / group.width, (item.tr[1] - group.top) / group.height],\n      bl: [(item.bl[0] - group.left) / group.width, (item.bl[1] - group.top) / group.height],\n      br: [(item.br[0] - group.left) / group.width, (item.br[1] - group.top) / group.height],\n    };\n  }\n\n  /**\n   * 通过矩形中心点坐标C(cx,cy)中心点和Y轴平行线在中心点上方的一点S(sx,sy),旋转落点E(ex,ey),利用三角形余弦定理，\n   * 求出∠SCE的角度，再通过ex和sx的大小判断旋转的角度为内角还是外角\n   * @param cx 中心点x坐标\n   * @param cy 中心点y坐标\n   * @param sx 与中心点相同的x坐标\n   * @param sy 与中心点同x坐标的上方一点的y坐标\n   * @param ex 旋转终点x坐标\n   * @param ey x旋转终点y坐标\n   */\n  public getRotate(cx: number, cy: number, sx: number, sy: number, ex: number, ey: number): number {\n    const rotate =\n      (Math.acos(\n        ((cy - sy) ** 2 + (cx - sx) ** 2 + (cx - ex) ** 2 + (cy - ey) ** 2 - ((ex - sx) ** 2 + (ey - sy) ** 2)) /\n          (2 * Math.sqrt((cy - sy) ** 2 + (cx - sx) ** 2) * Math.sqrt((cx - ex) ** 2 + (cy - ey) ** 2))\n      ) *\n        180) /\n      Math.PI;\n    if (ex === sx) {\n      return 180;\n    }\n    if (ex > sx) {\n      return rotate;\n    }\n    if (ex < sx) {\n      return 360 - rotate;\n    }\n  }\n\n  /**\n   * 通过向量四边形法则求出向量ab、向量ac的对角线ad的d点坐标, ab + ac = ad\n   * @param ab 向量ab\n   * @param ac 向量ac\n   * @param a a点坐标\n   */\n  public getPointByVectorSum(ab: [number, number], ac: [number, number], a: [number, number]): [number, number] {\n    return [ab[0] + ac[0] + a[0], ab[1] + ac[1] + a[1]];\n  }\n\n  /**\n   * 获取两点之间的线段长度\n   * @param point1 点1\n   * @param point2 点2\n   */\n  public getDistanceBeforeToPoint(point1: [number, number], point2: [number, number]): number {\n    return Math.sqrt((point1[0] - point2[0]) ** 2 + (point1[1] - point2[1]) ** 2);\n  }\n\n  /**\n   * 通过获取父节点中心点坐标和原始子节点中心点坐标，将向量（父节点中心点-子节点原始中心点）\n   * 旋转父节点旋转的角度(rotate)后得到向量（父节点中心点-子节点中心点）然后利用向量旋转的\n   * 公式直接求出子节点中心点坐标\n   * x1 = x0*cos(rotate) - y0*sin(rotate)\n   * y1 = x0*sin(rotate) - y0*cos(rotate)\n   * @param parentRect 父元素尺寸\n   * @param parentRotate 父元素旋转角度\n   * @param childRect 子元素尺寸\n   */\n  public getChildPositionBaseOnParentCoordinateSystem(parentRect: IDOMRect, parentRotate: number, childRect: IDOMRect): IDOMRect {\n    const parentCenter = [parentRect.left + parentRect.width / 2, parentRect.top + parentRect.height / 2];\n    const originalCenter = [childRect.left + childRect.width / 2 + parentRect.left, childRect.top + childRect.height / 2 + parentRect.top];\n    const [newCenterX, newCenterY] = [\n      (originalCenter[0] - parentCenter[0]) * Math.cos((parentRotate * Math.PI) / 180) -\n        (originalCenter[1] - parentCenter[1]) * Math.sin((parentRotate * Math.PI) / 180) +\n        parentCenter[0],\n      (originalCenter[1] - parentCenter[1]) * Math.cos((parentRotate * Math.PI) / 180) +\n        (originalCenter[0] - parentCenter[0]) * Math.sin((parentRotate * Math.PI) / 180) +\n        parentCenter[1],\n    ];\n    return {\n      left: newCenterX - childRect.width / 2,\n      top: newCenterY - childRect.height / 2,\n      bottom: newCenterX + childRect.width / 2,\n      right: newCenterY + childRect.height / 2,\n      width: childRect.width,\n      height: childRect.height,\n      cx: newCenterX,\n      cy: newCenterY,\n    };\n  }\n\n  /**\n   * 获取单个子节点相对于多层父节点的坐标\n   * @param child 子节点size\n   * @param parents 父节点集合（排序为从左往右依次外扩）\n   */\n  public getChildPositionBaseOnMultipleParentCoordinataSystem(child: IDOMRect, parents: INode[]): IDOMRect {\n    let rect: IDOMRect = { ...child };\n    while (parents.length) {\n      const parent = parents.shift();\n      rect = this.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, child);\n    }\n    return rect;\n  }\n\n  /**\n   * 获取多个子节点相对与多层父节点的坐标\n   * @param children 子节点列表\n   * @param parents 父节点列表\n   */\n  public getChildrenBoundingBoxBaseOnParentCoordinateSystem(children: INode[], parents: INode[]): IDOMRect {\n    const outerBox = this.getOuterBoundingBox(\n      children.map((child) =>\n        this.getAbsolutePosition(child.left + child.width / 2, child.top + child.height / 2, child.width, child.height, child.rotate)\n      )\n    );\n    let domRect = { ...outerBox };\n    while (parents.length) {\n      const parent = parents.shift();\n      domRect = this.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, domRect);\n    }\n    return domRect;\n  }\n\n  /**\n   * 获取已选中节点的缩放框的尺寸\n   * @param selected 已选中节点\n   * @param nodes 节点树\n   */\n  public getResizeBoundingBox(selected: string[], nodes: INode[]): IDOMRect & { rotate: number } {\n    let rect: IDOMRect;\n    let rotate: number;\n    if (selected.length === 1) {\n      const [node, ...parents] = this.getNodeAndParentListById(selected[0], nodes);\n      rect = { ...this.getChildPositionBaseOnMultipleParentCoordinataSystem(node, [...parents]) };\n      rotate = parents.reduce((sum, p) => sum + (p.rotate ?? 0), node.rotate ?? 0);\n    } else {\n      const parent = this.getSameLayerParentByChildren(selected, nodes);\n      if (parent !== false) {\n        const parents = this.getNodeAndParentListById(parent?.id, nodes);\n        rect = this.getChildrenBoundingBoxBaseOnParentCoordinateSystem(\n          selected.map((id) => this.getNodeById(id, nodes)),\n          [...parents]\n        );\n        rotate = parents.reduce((sum, p) => sum + (p.rotate ?? 0), 0);\n      }\n    }\n    return { ...rect, rotate };\n  }\n}\n","import { TemplateRef, Type } from '@angular/core';\n\nexport interface INode<T = any> {\n  id: string;\n  name: string;\n  locked?: boolean;\n  data?: T;\n  children?: INode[];\n  width: number;\n  height: number;\n  left: number;\n  top: number;\n  rotate: number;\n  zIndex: number;\n  borderStyle?: string;\n  borderWidth?: number;\n  borderColor?: string;\n  borderRadius?: number;\n  backgroundColor?: string;\n  backgroundImage?: string;\n  backgroundRepeat?: string;\n  backgroundPosition?: string;\n  backgroundSize?: string;\n  [key: string]: any;\n}\n\nexport interface ICanvasBackground {\n  backgroundColor?: string;\n  backgroundImage?: string;\n}\n\nexport interface ICanvasSize {\n  width: number;\n  height: number;\n}\nexport interface ICanvasPosition {\n  scale: number;\n  left: number;\n  top: number;\n}\n\nexport type IRefLineDirection = 'tx' | 'bx' | 'ly' | 'ry' | 'cx' | 'cy';\nexport interface IRefLineState {\n  state: boolean;\n  position?: number;\n}\n\nexport interface IStore<T = any> {\n  nodes: INode<T>[];\n  selected: Set<string>;\n  bordered: Set<string>;\n  canvasBackground: ICanvasBackground;\n  canvasSize: ICanvasSize;\n  canvasPosition: ICanvasPosition;\n  refLineState: {\n    [P in IRefLineDirection]: IRefLineState;\n  };\n}\n\nexport type IActionType<T = any> = (state: IStore<T>) => IStore<T>;\n\nexport const DEFAULT_STORE: IStore<any> = {\n  nodes: new Array(500).fill(1).map<INode<any>>((_v, i) => ({\n    id: `${Math.round(Math.random() * Math.pow(10, 8))}`,\n    height: 100,\n    width: 200,\n    left: Math.round(Math.random() * 900),\n    top: Math.round(Math.random() * 500),\n    name: 'test',\n    rotate: 0,\n    locked: false,\n    zIndex: i + 1,\n    borderWidth: 1,\n    borderColor: '#333',\n    borderStyle: 'dashed',\n  })),\n  selected: new Set(),\n  bordered: new Set(),\n  canvasBackground: { backgroundColor: '#ffffff' },\n  canvasPosition: {\n    left: 100,\n    top: 100,\n    scale: 1,\n  },\n  canvasSize: {\n    width: 1366,\n    height: 768,\n  },\n  refLineState: {\n    tx: { state: false },\n    bx: { state: false },\n    ly: { state: false },\n    ry: { state: false },\n    cx: { state: false },\n    cy: { state: false },\n  },\n};\n\nexport interface IWidget<T = any> {\n  type: string;\n  name: string;\n  thumbnail: string;\n  propsComponent: T;\n}\n\nexport interface ITabConfig<T = any> {\n  key: string;\n  title: string;\n  icon: string;\n  content: T;\n}\n\nexport interface IPanel<T = any> {\n  title: string;\n  key: string;\n  content: Type<T> | TemplateRef<T>;\n  show: boolean;\n  x: number;\n  y: number;\n  collapsed?: boolean;\n}\n","import { Injectable } from '@angular/core';\nimport { ComponentStore } from '@ngrx/component-store';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter, map, pairwise, startWith } from 'rxjs/operators';\nimport { LayerTreeComponent, PropertyFormComponent, WidgetListComponent } from '../components';\nimport { DEFAULT_STORE, IPanel, IStore } from '../store';\nimport { CeUtilsService } from './utils.service';\n\n@Injectable()\nexport class EditorStore<T = any> extends ComponentStore<IStore<T>> {\n  private _defaultPanels: IPanel<any>[] = [\n    { key: 'LAYERS', title: '图层', content: LayerTreeComponent, show: true, x: 10, y: 60 },\n    { key: 'WIDGET_LIST', title: '组件', content: WidgetListComponent, show: false, x: 50, y: 60 },\n    { key: 'PROPERTIES', title: '属性', content: PropertyFormComponent, show: true, x: window.innerWidth - 350, y: 60 },\n  ];\n  private panels: IPanel[] = [];\n  panels$ = new BehaviorSubject<IPanel[]>([...this._defaultPanels, ...this.panels]);\n\n  constructor(private utils: CeUtilsService) {\n    super(DEFAULT_STORE);\n  }\n\n  initialize(state: IStore<T>) {\n    this.setState(state);\n  }\n\n  _get() {\n    return this.get();\n  }\n\n  dispatch(action: (state: IStore<T>) => IStore<T>) {\n    this.setState(action);\n  }\n\n  selectDifferent<R>(cb: (state: IStore<T>) => R) {\n    return this.select(cb).pipe(\n      startWith(null, cb(this.get())),\n      pairwise<R>(),\n      filter(([prev, present]) => !this.utils.isDeepEqual(prev, present)),\n      map(([, present]) => present)\n    );\n  }\n\n  toJSON() {\n    const state = this.get();\n    return JSON.stringify({\n      canvasPosition: state.canvasPosition,\n      canvasSize: state.canvasSize,\n      canvasBackground: state.canvasBackground,\n      nodes: state.nodes,\n      selected: state.selected,\n      bordered: state.bordered,\n    });\n  }\n\n  addPanels(panels: IPanel[]) {\n    this.panels = [...this.panels, ...panels];\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  getPanel(key: string) {\n    return [...this._defaultPanels, ...this.panels].find((panel) => panel.key === key);\n  }\n\n  updatePanelPosition(key: string, [x, y]: [number, number]) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.x = x;\n        panel.y = y;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  togglePanelVisible(key: string) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.show = !panel.show;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n\n  togglePanelCollapsed(key: string) {\n    [...this._defaultPanels, ...this.panels].forEach((panel) => {\n      if (panel.key === key) {\n        panel.collapsed = !panel.collapsed;\n      }\n    });\n    this.panels$.next([...this._defaultPanels, ...this.panels]);\n  }\n}\n","<div\n  class=\"box-border\"\n  *ngFor=\"let node of borderedNodeList$ | async; trackBy: trackByFn\"\n  [style.left.%]=\"node.left\"\n  [style.top.%]=\"node.top\"\n  [style.width.%]=\"node.width\"\n  [style.height.%]=\"node.height\"\n  [style.transform]=\"getRotate(node.rotate)\"\n></div>\n","import { ChangeDetectionStrategy, Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { ICanvasSize, INode } from '../../store';\n\n@Component({\n  selector: 'ce-bordered-area,[ceBorderedArea]',\n  templateUrl: './bordered-area.component.html',\n  styleUrls: ['./bordered-area.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BorderedAreaComponent implements OnInit {\n  public borderedNodeMap = new Map<string, Partial<DOMRect & { rotate: number }>>();\n  public borderedNodeList$: Observable<({ id: string } & Partial<DOMRect & { rotate: number }>)[]>;\n\n  constructor(private store: EditorStore, private utils: CeUtilsService) {}\n\n  ngOnInit(): void {\n    this.borderedNodeList$ = this.store\n      .selectDifferent((state) => ({ bordered: state.bordered, nodes: state.nodes, canvasSize: state.canvasSize }))\n      .pipe(\n        map(({ bordered, nodes, canvasSize }) => {\n          if (!bordered.size) {\n            return [];\n          } else {\n            return this.refreshBorderedList(nodes, bordered, canvasSize);\n          }\n        })\n      );\n  }\n\n  getRotate(rotate: number): string {\n    return `rotate(${rotate}deg)`;\n  }\n\n  trackByFn(...args: [number, { id: string } & Partial<DOMRect & { rotate: number }>]): string {\n    return `${args[1].id}-${args[1].width}-${args[1].height}-${args[1].left}-${args[1].top}-${args[1].rotate}`;\n  }\n\n  refreshBorderedList(nodes: INode[], bordered: Set<string>, canvasSize: ICanvasSize) {\n    return [...bordered]\n      .map((id) => this.utils.getNodeById(id, nodes))\n      .filter((node) => !!node)\n      .map((node) => {\n        {\n          const [, ...parents] = this.utils.getNodeAndParentListById(node.id, nodes);\n          let child = { ...node };\n          while (parents.length) {\n            const parent = parents.shift();\n            child = {\n              ...child,\n              ...this.utils.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate ?? 0, child),\n              rotate: child.rotate + parent.rotate,\n            };\n          }\n          return {\n            id: node.id,\n            width: (child.width / canvasSize.width) * 100,\n            height: (child.height / canvasSize.height) * 100,\n            left: (child.left / canvasSize.width) * 100,\n            top: (child.top / canvasSize.height) * 100,\n            rotate: child.rotate,\n          };\n        }\n      });\n  }\n}\n","<ng-container *ngIf=\"node?.children && node?.children.length\">\n  <ce-box-item *ngFor=\"let item of node.children\" [node]=\"item\"></ce-box-item>\n</ng-container>\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Input, Renderer2, ViewEncapsulation } from '@angular/core';\nimport { INode } from '../../store';\n\n@Component({\n  selector: 'ce-box-item',\n  templateUrl: 'box-item.component.html',\n  styleUrls: ['box-item.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BoxItemComponent<T = any> implements AfterViewInit {\n  private _node: INode<T>;\n  @Input()\n  get node(): INode<T> {\n    return this._node;\n  }\n  set node(val: INode<T>) {\n    this._node = val;\n    this.generatorStyles();\n  }\n\n  constructor(private renderer: Renderer2, private eleRef: ElementRef<HTMLElement>) {}\n\n  ngAfterViewInit() {\n    this.generatorStyles();\n  }\n\n  private generatorStyles() {\n    if (this.eleRef.nativeElement) {\n      this.renderer.setAttribute(this.eleRef.nativeElement, 'id', `box-item-${this.node.id}`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'width', `${this.node.width}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'height', `${this.node.height}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'left', `${this.node.left}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'top', `${this.node.top}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'transform', `translate3d(0,0,0) rotate(${this.node.rotate ?? 0}deg)`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-style', this.node.borderStyle);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-color', this.node.borderColor);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'border-width', `${this.node.borderWidth}px`);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'z-index', this.node.zIndex);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-image', this.node.backgroundImage);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-position', this.node.backgroundPosition);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-repeat', this.node.backgroundRepeat);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-size', this.node.backgroundSize);\n      this.renderer.setStyle(this.eleRef.nativeElement, 'background-color', this.node.backgroundColor);\n    }\n  }\n}\n","<div [style.background-color]=\"backgroundColor$ | async\">\n  <ng-template [ngIf]=\"backgroundImage$ | async\">\n    <img [src]=\"backgroundImage$ | async | nzSanitizer: 'url'\" alt=\"\" />\n  </ng-template>\n</div>\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { EditorStore } from '../../services';\nimport { IStore } from '../../store';\n\n@Component({\n  selector: 'ce-canvas-background,[ceCanvasBackground]',\n  templateUrl: 'canvas-background.component.html',\n  styleUrls: ['canvas-background.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasBackgroundComponent {\n  public backgroundColor$: Observable<string>;\n  public backgroundImage$: Observable<string>;\n  constructor(private store: EditorStore<IStore>) {\n    this.backgroundColor$ = this.store.selectDifferent((state) => state.canvasBackground.backgroundColor);\n    this.backgroundImage$ = this.store.selectDifferent((state) => state.canvasBackground.backgroundImage);\n  }\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { IStore } from '../../store';\n\n@Component({\n  selector: 'ce-canvas-grid',\n  templateUrl: 'canvas-grid.component.html',\n  styleUrls: ['canvas-grid.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasGridComponent {\n  public childDPath$: Observable<string>;\n  public parentDPath$: Observable<string>;\n  public childWidth$: Observable<number>;\n  public parentWidth$: Observable<number>;\n  constructor(private store: EditorStore<IStore>) {\n    const scale$ = this.store.selectDifferent((state) => state.canvasPosition.scale);\n    this.childDPath$ = scale$.pipe(map((scale) => this.getPath(10, scale)));\n    this.parentDPath$ = scale$.pipe(map((scale) => this.getPath(50, scale)));\n    this.childWidth$ = scale$.pipe(map((scale) => 10 * scale));\n    this.parentWidth$ = scale$.pipe(map((scale) => 50 * scale));\n  }\n  getPath(size: number, scale: number): string {\n    return `M ${size * scale || 0} 0 L 0 0 0 ${size * scale || 0}`;\n  }\n}\n","import { IActionType } from '../store';\n\nexport function clearSelected<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([]) });\n}\n\nexport function addSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...state.selected, ...ids]) });\n}\n\nexport function removeSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...state.selected].filter((id) => !ids.includes(id))) });\n}\n\nexport function setSelectedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, selected: new Set([...ids]) });\n}\n\nexport function clearBordered<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([]) });\n}\n\nexport function addBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...state.bordered, ...ids]) });\n}\n\nexport function removeBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...state.bordered].filter((id) => !ids.includes(id))) });\n}\n\nexport function setBorderedNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, bordered: new Set([...ids]) });\n}\n","import { IActionType, ICanvasBackground, ICanvasPosition, ICanvasSize } from '../store';\n\nexport function updateCanvasSize<T = any>(canvasSize: Partial<ICanvasSize>): IActionType<T> {\n  return (state) => ({ ...state, canvasSize: { ...state.canvasSize, ...canvasSize } });\n}\n\nexport function updateCanvasPosition<T = any>(canvasPosition: Partial<ICanvasPosition>): IActionType<T> {\n  return (state) => ({ ...state, canvasPosition: { ...state.canvasPosition, ...canvasPosition } });\n}\n\nexport function updateCanvasBackground<T = any>(canvasBackground: Partial<ICanvasBackground>): IActionType<T> {\n  return (state) => ({ ...state, canvasBackground: { ...state.canvasBackground, ...canvasBackground } });\n}\n","import * as _ from 'lodash';\nimport { CeUtilsService, genNodeId, IDOMRect } from '../services';\nimport { IActionType, INode } from '../store';\n\nexport function lockNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((node) => (ids.includes(node.id) ? { ...node, locked: true } : node)) });\n}\n\nexport function unlockNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((node) => (ids.includes(node.id) ? { ...node, locked: false } : node)) });\n}\n\nexport function addNodes<T = any>(nodes: INode<T>[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: [...state.nodes, ...nodes] });\n}\n\nexport function removeNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => {\n    let parent = CeUtilsService.shared.getSameLayerParentByChildren(ids, state.nodes);\n    if (parent === false) {\n      return { ...state };\n    } else if (parent === undefined) {\n      return { ...state, nodes: state.nodes.filter((node) => !ids.includes(node.id)) };\n    } else {\n      const originalParentId = parent.id;\n      let prevParent: INode;\n      let prevParentId: string;\n      const parents = CeUtilsService.shared.getNodeAndParentListById(parent.id, _.cloneDeep(state.nodes));\n      while (parents.length) {\n        parent = parents.shift();\n        let children: INode<T>[];\n        if (parent.id === originalParentId) {\n          children = parent.children.filter((child: INode<T>) => !ids.includes(child.id));\n        } else {\n          children = parent.children\n            .filter((child: INode<T>) => (child.id === prevParentId ? prevParent : child))\n            .filter((child: INode<T>) => !!child);\n        }\n        prevParentId = parent.id;\n        if (children.length > 1) {\n          const rect = CeUtilsService.shared.getOuterBoundingBox(\n            children\n              .map((child) => ({\n                rotate: child.rotate,\n                ...CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(parent as INode, (parent as INode).rotate, child),\n              }))\n              .map((item) => CeUtilsService.shared.getAbsolutePosition(item.cx, item.cy, item.width, item.height, item.rotate))\n          );\n          parent.width = rect.width;\n          parent.height = rect.height;\n          parent.left = rect.left;\n          parent.top = rect.top;\n          parent.children = children;\n        } else if (children.length === 1) {\n          const rect = CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(parent, parent.rotate, children[0]);\n          parent = { ...children[0], ...rect };\n        } else if (children.length === 0) {\n          parent = null;\n        }\n        prevParent = parent as INode;\n      }\n      return { ...state, nodes: state.nodes.map((node) => (node.id === prevParentId ? parent : node)).filter((node) => !!node) as INode<T>[] };\n    }\n  };\n}\n\nexport function updateNodes<T = any>(nodes: INode<T>[]): IActionType<T> {\n  return (state) => ({ ...state, nodes: state.nodes.map((item) => ({ ...item, ...nodes.find((i) => i.id === item.id) })) });\n}\n\nexport function updateNodesSize<T = any>(nodesSizeMap: Map<string, IDOMRect>): IActionType<T> {\n  return (state) => {\n    let inSameLayer = true;\n    const ids = [...nodesSizeMap.keys()];\n    let parent: INode;\n    while (inSameLayer && ids.length) {\n      const id = ids.pop();\n      const node = CeUtilsService.shared.getNodeById(id, state.nodes);\n      inSameLayer = parent?.id === node.parentNode?.id;\n      parent = node.parentNode;\n    }\n\n    if (!inSameLayer) {\n      return state;\n    } else {\n      if (!parent) {\n        return {\n          ...state,\n          nodes: state.nodes.map((node) => {\n            const newNode = { ...node, ...nodesSizeMap.get(node.id) };\n            if (node.children && node.children.length) {\n              return { ...newNode, children: recursiveUpdateNodeChildrenSize(newNode.children, { ...node }, { ...newNode }) };\n            } else {\n              return newNode;\n            }\n          }),\n        };\n      } else {\n        return state;\n      }\n    }\n  };\n}\n\nexport function groupNodes<T = any>(ids: string[]): IActionType<T> {\n  return (state) => {\n    const parent = CeUtilsService.shared.getSameLayerParentByChildren(ids, state.nodes);\n    if (parent === false) {\n      return state;\n    }\n    const nodeMap = new Map<string, INode>();\n    ids.forEach((id) => {\n      const node = state.nodes.find((i) => i.id === id);\n      if (node) {\n        nodeMap.set(id, node);\n      }\n    });\n    const groupRect = CeUtilsService.shared.getOuterBoundingBox(\n      ids\n        .filter((id) => nodeMap.has(id))\n        .map((id) => {\n          const node = nodeMap.get(id);\n          return CeUtilsService.shared.getAbsolutePosition(\n            node.left + node.width / 2,\n            node.top + node.height / 2,\n            node.width,\n            node.height,\n            node.rotate\n          );\n        })\n    );\n    const groupNode: INode = {\n      id: genNodeId(),\n      name: 'Group',\n      ...groupRect,\n      rotate: 0,\n      zIndex: Math.max(...state.nodes.filter((node) => !nodeMap.has(node.id)).map((node) => node.zIndex)) + 1,\n      children: ids\n        .filter((id) => nodeMap.has(id))\n        .map((id) => {\n          const node = nodeMap.get(id);\n          const { bl, br, tl, tr } = CeUtilsService.shared.getAbsolutePosition(\n            node.left + node.width / 2,\n            node.top + node.height / 2,\n            node.width,\n            node.height,\n            node.rotate\n          );\n          return {\n            ...node,\n            ...CeUtilsService.shared.getRelativePosition({\n              bl: [bl[0] - groupRect.left, bl[1] - groupRect.top],\n              br: [br[0] - groupRect.left, br[1] - groupRect.top],\n              tl: [tl[0] - groupRect.left, tl[1] - groupRect.top],\n              tr: [tr[0] - groupRect.left, tr[1] - groupRect.top],\n            }),\n          };\n        }),\n    };\n    return { ...state, nodes: [...state.nodes.filter((node) => !nodeMap.has(node.id)), groupNode] };\n  };\n}\n\nexport function breakNode<T = any>(id: string): IActionType<T> {\n  return (state) => {\n    const [node, ...parents] = CeUtilsService.shared.getNodeAndParentListById(id, _.cloneDeep(state.nodes));\n    const newNodes = node.children.map((child: INode<T>) => {\n      return {\n        ...child,\n        ...CeUtilsService.shared.getChildPositionBaseOnParentCoordinateSystem(node, node.rotate, child),\n        rotate: (child.rotate ?? 0) + (node.rotate ?? 0),\n      };\n    });\n    if (!parents.length) {\n      return { ...state, nodes: [...state.nodes.filter((i) => i.id !== node.id), ...newNodes] };\n    } else {\n      let parent = parents.shift();\n      parent.children = [...parent.children.filter((child: INode<T>) => child.id !== node.id), ...newNodes];\n      while (parents.length) {\n        const nextParent = parents.shift();\n        nextParent.children = nextParent.children.map((child: INode<T>) => (child.id === parent.id ? parent : child));\n        parent = nextParent;\n      }\n      return { ...state, nodes: [...state.nodes.filter((i) => i.id !== parent.id), parent] };\n    }\n  };\n}\n\n// /**\n//  * 递归更新节点的位置和大小\n//  * @param nodes 节点列表\n//  * @param oldParentRect 父节点的旧尺寸和位置\n//  * @param newParentRect 父节点的新尺寸和位置\n//  */\n// function recursiveUpdateNodeChildrenSize(nodes: INode[], oldParentRect: IDOMRect, newParentRect: IDOMRect): INode[] {\n//   const { width, height } = newParentRect;\n//   return nodes.map((node) => {\n//     const cxPercent = (node.left + node.width / 2) / oldParentRect.width;\n//     const cyPercent = (node.top + node.height / 2) / oldParentRect.height;\n//     const widthPercent = node.width / oldParentRect.width;\n//     const heightPercent = node.height / oldParentRect.height;\n//     const newNodeRect: IDOMRect = {\n//       width: widthPercent * width,\n//       height: heightPercent * height,\n//       left: cxPercent * width - (widthPercent * width) / 2,\n//       top: cyPercent * height - (heightPercent * height) / 2,\n//     };\n//     if (node.children && node.children.length) {\n//       return { ...node, ...newNodeRect, children: recursiveUpdateNodeChildrenSize(node.children, { ...node }, { ...newNodeRect }) };\n//     } else {\n//       return { ...node, ...newNodeRect };\n//     }\n//   });\n// }\n\n/**\n * 递归更新节点的位置和大小\n * @param nodes 节点列表\n * @param oldParentRect 父节点的旧尺寸和位置\n * @param newParentRect 父节点的新尺寸和位置\n */\nfunction recursiveUpdateNodeChildrenSize(nodes: INode[], oldParentRect: IDOMRect, newParentRect: IDOMRect): INode[] {\n  const { width, height } = newParentRect;\n  return nodes.map((node) => {\n    const nodeAbsolutePosition = CeUtilsService.shared.getAbsolutePosition(\n      node.left + node.width / 2,\n      node.top + node.height / 2,\n      node.width,\n      node.height,\n      node.rotate\n    );\n    const { tl, tr, bl, br } = CeUtilsService.shared.getItemPercentPositionInGroup(\n      {\n        ...oldParentRect,\n        left: 0,\n        top: 0,\n      },\n      nodeAbsolutePosition\n    );\n    const newNodeRect = CeUtilsService.shared.getRelativePosition({\n      tl: [tl[0] * width, tl[1] * height],\n      tr: [tr[0] * width, tr[1] * height],\n      bl: [bl[0] * width, bl[1] * height],\n      br: [br[0] * width, br[1] * height],\n    });\n    if (node.children && node.children.length) {\n      return { ...node, ...newNodeRect, children: recursiveUpdateNodeChildrenSize(node.children, { ...node }, { ...newNodeRect }) };\n    } else {\n      return { ...node, ...newNodeRect };\n    }\n  });\n}\n","import { DEFAULT_STORE, IActionType, IRefLineDirection, IRefLineState } from '../store';\n\nexport function updateRefLineState<T = any>(direction: IRefLineDirection, state: IRefLineState): IActionType<T> {\n  return (state) => ({ ...state, refLineState: { ...state.refLineState, [direction]: state } });\n}\n\nexport function resetRefLineState<T = any>(): IActionType<T> {\n  return (state) => ({ ...state, refLineState: DEFAULT_STORE.refLineState });\n}\n\nexport function updateRefLinesState<T = any>(refLineState: { [K in IRefLineDirection]: IRefLineState }): IActionType<T> {\n  return (state) => ({ ...state, refLineState: { ...state.refLineState, ...refLineState } });\n}\n","<svg data-html2canvas-ignore class=\"grid\" width=\"100%\" height=\"100%\">\n  <defs>\n    <pattern id=\"smallGrid\" [attr.width]=\"childWidth$ | async\" [attr.height]=\"childWidth$ | async\" patternUnits=\"userSpaceOnUse\">\n      <path [attr.d]=\"childDPath$ | async\" fill=\"none\" stroke=\"rgba(207, 207, 207, 0.8)\" stroke-width=\"1\"></path>\n    </pattern>\n    <pattern id=\"grid\" [attr.width]=\"parentWidth$ | async\" [attr.height]=\"parentWidth$ | async\" patternUnits=\"userSpaceOnUse\">\n      <rect [attr.width]=\"parentWidth$ | async\" [attr.height]=\"parentWidth$ | async\" fill=\"url(#smallGrid)\"></rect>\n      <path [attr.d]=\"parentDPath$ | async\" fill=\"none\" stroke=\"rgba(186, 186, 186, 1)\" stroke-width=\"1\"></path>\n    </pattern>\n  </defs>\n  <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"></rect>\n</svg>\n","import { ChangeDetectorRef, Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter, finalize, map, switchMap, takeUntil } from 'rxjs/operators';\n\n@Directive({\n  selector: '[ceDraggable]',\n  exportAs: 'ceDraggable',\n})\nexport class DraggableDirective implements OnInit, OnDestroy {\n  @Input()\n  @InputBoolean()\n  public ceDragDisabled = false;\n  @Input()\n  @InputBoolean()\n  public ceUseSpace = false;\n  @Output()\n  public ceOnStart = new EventEmitter<PointerEvent>();\n  @Output()\n  public ceOnMove = new EventEmitter<MouseEvent>();\n  @Output()\n  public ceOnStop = new EventEmitter<PointerEvent>();\n  @Output()\n  public ceOnSpaceKeyDown = new EventEmitter<void>();\n  public spaceKeyDown = false;\n  private subscription = new Subscription();\n  private mouseMove$ = fromEvent<PointerEvent>(window, 'pointermove');\n  private mouseUp$ = fromEvent<PointerEvent>(window, 'pointerup');\n  private mouseDown$: Observable<PointerEvent>;\n  private mouseEnter$: Observable<PointerEvent>;\n  private mouseLeave$: Observable<PointerEvent>;\n  private keyDown$ = fromEvent<KeyboardEvent>(document, 'keydown');\n  private keyUp$ = fromEvent<KeyboardEvent>(document, 'keyup');\n  constructor(private eleRef: ElementRef<HTMLElement>, private cdr: ChangeDetectorRef) {\n    this.mouseDown$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerdown').pipe(filter((e) => e.button === 0));\n    this.mouseEnter$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerenter');\n    this.mouseLeave$ = fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerleave');\n  }\n\n  ngOnInit(): void {\n    this.listenSpaceKeyEvent();\n    this.mouseDown$\n      .pipe(\n        filter(() => !this.ceDragDisabled),\n        filter(() => (this.ceUseSpace ? this.spaceKeyDown : true)),\n        switchMap((startEv) => {\n          this.ceOnStart.emit(startEv);\n          return this.mouseMove$.pipe(takeUntil(this.mouseUp$.pipe(map((stopEv) => this.ceOnStop.emit(stopEv)))));\n        })\n      )\n      .subscribe((moveEv) => this.ceOnMove.emit(moveEv));\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  listenSpaceKeyEvent(): void {\n    this.subscription.add(\n      this.mouseEnter$\n        .pipe(\n          filter(() => !this.ceDragDisabled),\n          filter(() => this.ceUseSpace),\n          switchMap(() =>\n            this.keyDown$.pipe(\n              switchMap((e) => {\n                this.spaceKeyDown = e.key === ' ';\n                this.cdr.detectChanges();\n                if (this.spaceKeyDown) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n                return this.keyUp$;\n              }),\n              map(() => {\n                this.spaceKeyDown = false;\n                this.ceOnStop.emit();\n              }),\n              takeUntil(this.mouseLeave$),\n              finalize(() => {\n                this.spaceKeyDown = false;\n                this.ceOnStop.emit();\n              })\n            )\n          )\n        )\n        .subscribe()\n    );\n  }\n}\n","<ce-box-item\n  *ngFor=\"let node of nodes$ | async; trackBy: nodeListTrackByFn\"\n  ceDraggable\n  [ceDragDisabled]=\"node?.locked\"\n  (ceOnStart)=\"moveStart($event, node)\"\n  (ceOnMove)=\"moving($event)\"\n  (ceOnStop)=\"moveEnd()\"\n  [node]=\"node\"\n  (pointerenter)=\"showBorder(node.id)\"\n  (pointerleave)=\"removeBorder(node.id)\"\n></ce-box-item>\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {\n  addBorderedNodes,\n  addSelectedNodes,\n  clearBordered,\n  clearSelected,\n  removeBorderedNodes,\n  resetRefLineState,\n  updateNodes,\n  updateRefLinesState,\n} from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService, IDOMRect } from '../../services/utils.service';\nimport { ICanvasPosition, INode, IRefLineDirection, IRefLineState, IStore } from '../../store';\n\nconst REF_LINE_DIRECTION_COMPARE_MAP: {\n  [P in IRefLineDirection]: {\n    baseKey: keyof IDOMRect;\n    referKey: keyof IDOMRect;\n    baseValue: (baseRect: IDOMRect, referRect: IDOMRect) => { key: keyof IDOMRect; value: number };\n  }[];\n} = {\n  tx: [\n    {\n      baseKey: 'top',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top }),\n    },\n    {\n      baseKey: 'top',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy }),\n    },\n    {\n      baseKey: 'top',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom }),\n    },\n  ],\n  bx: [\n    {\n      baseKey: 'bottom',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top - baseRect.height }),\n    },\n    {\n      baseKey: 'bottom',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy - baseRect.height }),\n    },\n    {\n      baseKey: 'bottom',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom - baseRect.height }),\n    },\n  ],\n  ly: [\n    {\n      baseKey: 'left',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left }),\n    },\n    {\n      baseKey: 'left',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx }),\n    },\n    {\n      baseKey: 'left',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right }),\n    },\n  ],\n  ry: [\n    {\n      baseKey: 'right',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left - baseRect.width }),\n    },\n    {\n      baseKey: 'right',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx - baseRect.width }),\n    },\n    {\n      baseKey: 'right',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right - baseRect.width }),\n    },\n  ],\n  cx: [\n    {\n      baseKey: 'cy',\n      referKey: 'top',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.top - baseRect.height / 2 }),\n    },\n    {\n      baseKey: 'cy',\n      referKey: 'cy',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.cy - baseRect.height / 2 }),\n    },\n    {\n      baseKey: 'cy',\n      referKey: 'bottom',\n      baseValue: (baseRect, referRect) => ({ key: 'top', value: referRect.bottom - baseRect.height / 2 }),\n    },\n  ],\n  cy: [\n    {\n      baseKey: 'cx',\n      referKey: 'left',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.left - baseRect.width / 2 }),\n    },\n    {\n      baseKey: 'cx',\n      referKey: 'cx',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.cx - baseRect.width / 2 }),\n    },\n    {\n      baseKey: 'cx',\n      referKey: 'right',\n      baseValue: (baseRect, referRect) => ({ key: 'left', value: referRect.right - baseRect.width / 2 }),\n    },\n  ],\n};\n@Component({\n  selector: 'ce-canvas',\n  templateUrl: 'canvas.component.html',\n  styleUrls: ['canvas.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasComponent {\n  public nodes$: Observable<INode[]>;\n  public nodes: INode[];\n  private selected: Set<string>;\n  private canvasPosition: ICanvasPosition;\n  private pointerSnapshot: [number, number] = null;\n  private nodesSnapshot: Map<string, INode> = new Map();\n  private outerBoxSnapshot: IDOMRect;\n  private unselectedNodes: INode[];\n  private gap = 5;\n\n  constructor(private store: EditorStore<IStore>, private utils: CeUtilsService) {\n    this.nodes$ = this.store.selectDifferent((state) => state.nodes);\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n    this.store.select((state) => state.selected).subscribe((state) => (this.selected = state));\n    this.store.select((state) => state.canvasPosition).subscribe((state) => (this.canvasPosition = state));\n  }\n\n  nodeListTrackByFn(i: number, node: INode): string {\n    return node.id;\n  }\n\n  moveStart(ev: PointerEvent, node: INode): void {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.nodesSnapshot.clear();\n    this.pointerSnapshot = [ev.clientX, ev.clientY];\n    let selected: string[] = [...this.selected];\n    if (!this.selected.has(node.id)) {\n      this.store.dispatch(clearBordered());\n      this.store.dispatch(clearSelected());\n      this.store.dispatch(addSelectedNodes([node.id]));\n      selected = [node.id];\n    }\n\n    this.outerBoxSnapshot = this.utils.getOuterBoundingBox(\n      selected\n        .map((id) => this.utils.getNodeById(id, this.nodes))\n        .map((item) => this.utils.getAbsolutePosition(item.left + item.width / 2, item.top + item.height / 2, item.width, item.height, item.rotate))\n    );\n    this.unselectedNodes = this.nodes.filter((item) => !selected.includes(item.id));\n\n    selected.forEach((id) => {\n      const item = this.nodes.find((n) => n.id === id);\n      this.nodesSnapshot.set(item.id, {\n        ...item,\n        cxPercent: (item.left + item.width / 2 - this.outerBoxSnapshot.left) / this.outerBoxSnapshot.width,\n        cyPercent: (item.top + item.height / 2 - this.outerBoxSnapshot.top) / this.outerBoxSnapshot.height,\n      });\n    });\n  }\n\n  moving(ev: PointerEvent): void {\n    if (this.pointerSnapshot) {\n      this.store.dispatch(resetRefLineState());\n      const { scale } = this.canvasPosition;\n      const [x, y] = this.pointerSnapshot;\n      const [mx, my] = [(ev.clientX - x) / scale, (ev.clientY - y) / scale];\n      const baseRect: IDOMRect = {\n        ...this.outerBoxSnapshot,\n        left: this.outerBoxSnapshot.left + mx,\n        top: this.outerBoxSnapshot.top + my,\n        right: this.outerBoxSnapshot.right + mx,\n        bottom: this.outerBoxSnapshot.bottom + my,\n        cx: this.outerBoxSnapshot.cx + mx,\n        cy: this.outerBoxSnapshot.cy + my,\n      };\n      const refLinesState: { [P in IRefLineDirection]: IRefLineState } = {\n        bx: null,\n        tx: null,\n        ly: null,\n        ry: null,\n        cx: null,\n        cy: null,\n      };\n      this.unselectedNodes.forEach((node) => {\n        const nodeRect = this.utils.getBoundingBox(node.width, node.height, node.left, node.top, node.rotate);\n        ['tx', 'bx', 'ly', 'ry', 'cx', 'cy'].forEach((direction: IRefLineDirection) => {\n          const result = getRefLineStateByDirection(direction, baseRect, nodeRect, this.gap / scale);\n          if (result) {\n            const { state, position, base } = result;\n            if (state) {\n              refLinesState[direction] = { state, position };\n              baseRect[base.key] = base.value;\n            }\n          }\n        });\n      });\n      const newNodes: INode[] = [];\n      this.nodesSnapshot.forEach((node) => {\n        const { cxPercent, cyPercent, width, height, nodeRect, ...properties } = node;\n        newNodes.push({\n          ...properties,\n          width,\n          height,\n          left: cxPercent * baseRect.width + baseRect.left - width / 2,\n          top: cyPercent * baseRect.height + baseRect.top - height / 2,\n        });\n      });\n\n      this.store.dispatch(updateRefLinesState(refLinesState));\n      this.store.dispatch(updateNodes(newNodes));\n    }\n  }\n\n  moveEnd(): void {\n    this.pointerSnapshot = null;\n    this.store.dispatch(resetRefLineState());\n    this.nodesSnapshot.clear();\n  }\n\n  showBorder(id: string): void {\n    this.store.dispatch(addBorderedNodes([id]));\n  }\n\n  removeBorder(id: string): void {\n    if (!this.selected.has(id)) {\n      this.store.dispatch(removeBorderedNodes([id]));\n    }\n  }\n}\n\nfunction getRefLineStateByDirection(\n  direction: IRefLineDirection,\n  baseRect: IDOMRect,\n  referRect: IDOMRect,\n  gap: number\n): IRefLineState & { base: { key: keyof IDOMRect; value: number } } {\n  return REF_LINE_DIRECTION_COMPARE_MAP[direction]\n    .map(({ baseKey, referKey, baseValue }) => ({\n      state: Math.abs(baseRect[baseKey] - referRect[referKey]) < gap,\n      position: referRect[referKey],\n      base: baseValue(baseRect, referRect),\n    }))\n    .find((item) => item.state);\n}\n","<nz-tree\n  #layerTree\n  nzBlockNode\n  nzMultiple\n  [nzData]=\"treeNodes$ | async\"\n  [nzSelectedKeys]=\"selectedKeys$ | async\"\n  [nzTreeTemplate]=\"nzTreeTemplate\"\n  [nzExpandedIcon]=\"multiExpandedIconTpl\"\n  (nzClick)=\"clickNode($event)\"\n>\n  <ng-template #multiExpandedIconTpl let-node let-origin=\"origin\">\n    <i *ngIf=\"!node.isLeaf\" nz-icon [nzType]=\"node.isExpanded ? 'folder-open' : 'folder'\" class=\"ant-tree-switcher-line-icon\"></i>\n  </ng-template>\n  <ng-template #nzTreeTemplate let-node=\"origin\">\n    <div\n      class=\"layer\"\n      [class.locked]=\"node.locked\"\n      (contextmenu)=\"contextMenu($event, menu, node)\"\n      (pointerenter)=\"showBordered(node.id)\"\n      (pointerleave)=\"clearBordered(node.id)\"\n    >\n      <span>{{ node.title }}</span>\n    </div>\n    <nz-dropdown-menu #menu=\"nzDropdownMenu\">\n      <ul nz-menu>\n        <li *ngIf=\"!node.locked\" nz-menu-item class=\"action-item\" (click)=\"toggleNodesLockState(layerTree.nzSelectedKeys, true)\">\n          <i nz-icon nzType=\"lock\"></i>\n          <span>锁定</span>\n        </li>\n        <li *ngIf=\"node.locked\" nz-menu-item class=\"action-item\" (click)=\"toggleNodesLockState(layerTree.nzSelectedKeys, false)\">\n          <i nz-icon nzType=\"unlock\"></i>\n          <span>解锁</span>\n        </li>\n        <li nz-menu-item class=\"action-item\" (click)=\"deleteNodes(layerTree.nzSelectedKeys)\">\n          <i nz-icon nzType=\"delete\"></i>\n          <span>删除</span>\n        </li>\n        <li *ngIf=\"groupStatus$ | async\" nz-menu-item class=\"action-item\" (click)=\"group(layerTree.nzSelectedKeys)\">\n          <i nz-icon nzIconfont=\"icon-group\"></i>\n          <span>组合</span>\n          <span class=\"shortcuts\"> ctrl+shift+G </span>\n        </li>\n        <li *ngIf=\"selected.size === 1 && node.children && node.children.length\" nz-menu-item (click)=\"breakNode(node.id)\" class=\"action-item\">\n          <i nz-icon nzIconfont=\"icon-break\"></i>\n          <span>打散</span>\n          <span class=\"shortcuts\"> ctrl+shift+B </span>\n        </li>\n      </ul>\n    </nz-dropdown-menu>\n  </ng-template>\n</nz-tree>\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { NzContextMenuService, NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\nimport { NzFormatEmitEvent, NzTreeComponent, NzTreeNode, NzTreeNodeOptions } from 'ng-zorro-antd/tree';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport {\n  addBorderedNodes,\n  breakNode,\n  clearBordered,\n  clearSelected,\n  groupNodes,\n  lockNodes,\n  removeBorderedNodes,\n  removeNodes,\n  setBorderedNodes,\n  setSelectedNodes,\n  unlockNodes,\n} from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-layer-tree',\n  exportAs: 'ceLayerTree',\n  templateUrl: 'layer-tree.component.html',\n  styleUrls: ['layer-tree.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LayerTreeComponent {\n  public treeNodes$: Observable<NzTreeNodeOptions[]>;\n  public selected: Set<string>;\n  public selectedKeys$: Observable<string[]>;\n  @ViewChild('layerTree', { read: NzTreeComponent })\n  public layerTree: NzTreeComponent;\n  private parentKey: string;\n  public groupStatus$: Observable<boolean>;\n\n  constructor(\n    public eleRef: ElementRef<HTMLElement>,\n    private store: EditorStore<IStore>,\n    private utils: CeUtilsService,\n    private contextMenuSrv: NzContextMenuService\n  ) {\n    this.treeNodes$ = this.store\n      .selectDifferent((state) => state.nodes)\n      .pipe(map((nodes) => this.transferNodesToNzNodes(this.utils.sortNodeListByIndex(nodes))));\n    this.selectedKeys$ = this.store.selectDifferent((state) => state.selected).pipe(map((selected) => [...selected]));\n    this.groupStatus$ = this.store\n      .selectDifferent((state) => state.selected)\n      .pipe(\n        filter(() => !!this.layerTree),\n        map((selected) =>\n          selected.size > 1\n            ? !![...selected].find((id) => {\n                const node = this.layerTree?.getSelectedNodeList().find((item) => item.key === id);\n                return node && node.parentNode;\n              })\n            : false\n        )\n      );\n    this.store\n      .selectDifferent((state) => state.selected)\n      .subscribe((selected) => {\n        this.selected = selected;\n      });\n  }\n\n  clearBordered(id: string): void {\n    if (!this.selected.has(id)) {\n      this.store.dispatch(removeBorderedNodes([id]));\n    }\n  }\n\n  showBordered(id: string): void {\n    this.store.dispatch(addBorderedNodes([id]));\n  }\n\n  layerTrackByFn(index: number, node: INode): string {\n    return `box-item-${node.id}-${node.zIndex}`;\n  }\n\n  transferNodesToNzNodes(nodes: INode[]): NzTreeNodeOptions[] {\n    return nodes.map((node) => {\n      return {\n        ...node,\n        children: node.children && this.transferNodesToNzNodes(node.children),\n        title: node.name,\n        key: node.id,\n        isLeaf: !node.children?.length,\n      };\n    });\n  }\n\n  contextMenu(event: MouseEvent, menu: NzDropdownMenuComponent, node: NzTreeNode): void {\n    if (!this.selected.has(node.key)) {\n      this.store.dispatch(setSelectedNodes([node.key]));\n    }\n    this.contextMenuSrv.create(event, menu);\n  }\n\n  getParentKey(parentNode?: NzTreeNode): string {\n    return parentNode?.key ?? 'root';\n  }\n\n  multipleSelected(event: NzFormatEmitEvent): void {\n    if (!this.parentKey) {\n      this.parentKey = this.getParentKey(event.node.parentNode);\n    }\n    const ids = event.selectedKeys.filter((node) => this.getParentKey(node.parentNode) === this.parentKey).map((node) => node.key);\n    this.store.dispatch(setSelectedNodes(ids));\n    this.store.dispatch(setBorderedNodes(ids));\n  }\n\n  clickNode(event: NzFormatEmitEvent): void {\n    if (event.node) {\n      if (/Win|Linux/.test(navigator.platform)) {\n        if (event.event.ctrlKey) {\n          this.multipleSelected(event);\n        } else {\n          this.parentKey = this.getParentKey(event.node.parentNode);\n          this.store.dispatch(setSelectedNodes([event.node.key]));\n          this.store.dispatch(setBorderedNodes([event.node.key]));\n        }\n      }\n      if (/Mac/.test(navigator.platform)) {\n        if (event.event.metaKey) {\n          this.multipleSelected(event);\n        } else {\n          this.parentKey = this.getParentKey(event.node.parentNode);\n          this.store.dispatch(setSelectedNodes([event.node.key]));\n          this.store.dispatch(setBorderedNodes([event.node.key]));\n        }\n      }\n    }\n  }\n\n  group(ids: string[]): void {\n    this.store.dispatch(groupNodes(ids));\n  }\n\n  breakNode(id: string): void {\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(breakNode(id));\n  }\n\n  deleteNodes(ids: string[]): void {\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(removeNodes(ids));\n  }\n\n  toggleNodesLockState(ids: string[], state: boolean) {\n    if (state) {\n      this.store.dispatch(lockNodes(ids));\n    } else {\n      this.store.dispatch(unlockNodes(ids));\n    }\n  }\n}\n","<nz-card\n  nzSize=\"small\"\n  [nzTitle]=\"cardTitle\"\n  [nzExtra]=\"cardExtra\"\n  cdkDrag\n  [cdkDragFreeDragPosition]=\"panel\"\n  (cdkDragEnded)=\"updatePosition($event)\"\n  [class.collapsed]=\"panel?.collapsed\"\n>\n  <ng-template #cardTitle>\n    <div cdkDragHandle class=\"d-flex align-items-center\">{{ panel?.title }}</div>\n  </ng-template>\n  <ng-container *ngIf=\"utils.isTemplateType(panel.content)\">\n    <ng-container *ngTemplateOutlet=\"panel.content\"></ng-container>\n  </ng-container>\n  <ng-container *ngIf=\"!utils.isTemplateType(panel.content)\">\n    <ng-container *ngComponentOutlet=\"panel.content\"></ng-container>\n  </ng-container>\n</nz-card>\n\n<ng-template #cardExtra>\n  <button nz-button nzSize=\"small\" nzType=\"link\" (click)=\"toggleCollapsed()\" class=\"collapse-icon\">\n    <i nz-icon nzType=\"caret-down\"></i>\n  </button>\n  <button nz-button nzSize=\"small\" nzType=\"link\" (click)=\"close()\">\n    <i nz-icon nzType=\"close\"></i>\n  </button>\n</ng-template>\n","import { CdkDragEnd } from '@angular/cdk/drag-drop';\nimport { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { CeUtilsService, EditorStore } from '../../services';\nimport { IPanel } from '../../store';\n\n@Component({\n  selector: 'ce-panel,[cePanel]',\n  templateUrl: './panel.component.html',\n  styleUrls: ['./panel.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PanelComponent<T> {\n  private _panel: IPanel<T>;\n\n  @Input()\n  set panel(val: IPanel<T>) {\n    this._panel = val;\n  }\n  get panel(): IPanel<T> {\n    return this._panel;\n  }\n  constructor(public utils: CeUtilsService, public store: EditorStore) {}\n\n  updatePosition(event: CdkDragEnd) {\n    this.store.updatePanelPosition(this.panel.key, [this.panel.x + event.distance.x, this.panel.y + event.distance.y]);\n  }\n\n  toggleCollapsed() {\n    this.store.togglePanelCollapsed(this.panel.key);\n  }\n\n  close() {\n    this.store.togglePanelVisible(this.panel.key);\n  }\n}\n","<div>\n  <h4>画布尺寸</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasSizeFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-kuandu\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"width\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-gaodu\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"height\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<div class=\"mt-2\">\n  <h4>画布位置</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasPositionFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-left\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"left\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-top\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"top\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-scale\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <nz-input-number nzSize=\"small\" formControlName=\"scale\"></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<div class=\"mt-2\">\n  <h4>画布背景</h4>\n  <form nz-form nzLayout=\"inline\" [formGroup]=\"canvasBackgroundFormGroup\">\n    <nz-row nzGutter=\"8\">\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-color\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <input type=\"color\" nz-input nzSize=\"small\" formControlName=\"backgroundColor\" />\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n      <nz-col nzSpan=\"12\">\n        <nz-form-item>\n          <nz-form-label>\n            <i nz-icon nzIconfont=\"icon-image\"></i>\n          </nz-form-label>\n          <nz-form-control>\n            <input type=\"text\" nz-input nzSize=\"small\" formControlName=\"backgroundImage\" />\n          </nz-form-control>\n        </nz-form-item>\n      </nz-col>\n    </nz-row>\n  </form>\n</div>\n<h5 class=\"mt-1\">背景预览</h5>\n<div>\n  <img\n    [style.max-width.%]=\"100\"\n    *ngIf=\"canvasBackgroundFormGroup.controls['backgroundImage'].value\"\n    [src]=\"canvasBackgroundFormGroup.controls['backgroundImage'].value | nzSanitizer: 'url'\"\n  />\n</div>\n","import { ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { updateCanvasBackground, updateCanvasPosition, updateCanvasSize } from '../../../../actions';\nimport { EditorStore } from '../../../../services/store.service';\n\n@Component({\n  selector: 'ce-canvas-forms,[ceCanvasForms]',\n  templateUrl: './canvas-forms.component.html',\n  styleUrls: ['./canvas-forms.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasFormsComponent implements OnInit, OnDestroy {\n  public canvasSizeFormGroup: FormGroup;\n  public canvasPositionFormGroup: FormGroup;\n  public canvasBackgroundFormGroup: FormGroup;\n  private subscription = new Subscription();\n  constructor(public fb: FormBuilder, public store: EditorStore) {\n    this.canvasSizeFormGroup = this.fb.group({\n      width: [0, [Validators.required, Validators.min(0)]],\n      height: [0, [Validators.required, Validators.min(0)]],\n    });\n    this.canvasPositionFormGroup = this.fb.group({\n      left: [0, [Validators.required]],\n      top: [0, [Validators.required]],\n      scale: [1, [Validators.min(0.01), Validators.required]],\n    });\n    this.canvasBackgroundFormGroup = this.fb.group({\n      backgroundColor: ['#ffffff'],\n      backgroundImage: [null],\n    });\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasSize)\n        .subscribe((state) => {\n          this.canvasSizeFormGroup.patchValue(state, { emitEvent: false });\n        })\n    );\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasPosition)\n        .subscribe((state) => {\n          this.canvasPositionFormGroup.patchValue(\n            { left: Math.round(state.left), top: Math.round(state.top), scale: state.scale?.toFixed(2) },\n            { emitEvent: false }\n          );\n        })\n    );\n    this.subscription.add(\n      this.store\n        .selectDifferent((state) => state.canvasBackground)\n        .subscribe((state) => {\n          this.canvasBackgroundFormGroup.patchValue(state, { emitEvent: false });\n        })\n    );\n  }\n\n  ngOnInit(): void {\n    this.canvasSizeFormGroup.valueChanges.subscribe((value) => {\n      this.store.dispatch(updateCanvasSize(value));\n    });\n    this.canvasPositionFormGroup.valueChanges.subscribe((value) => {\n      this.store.dispatch(updateCanvasPosition(value));\n    });\n    this.canvasBackgroundFormGroup.valueChanges.subscribe((value) => {\n      console.log(value);\n      this.store.dispatch(updateCanvasBackground(value));\n    });\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","<nz-collapse [nzBordered]=\"false\" nzGhost nzAccordion nzSize=\"small\">\n  <nz-collapse-panel nzHeader=\"外包围盒属性\" nzActive>\n    <div>\n      <h5>尺寸</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-kuandu\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"width\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-gaodu\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"height\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n      <h5>位置</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-left\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"left\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzIconfont=\"icon-top\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"top\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"rotate-right\"> </i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-input-number nzSize=\"small\" formControlName=\"rotate\"></nz-input-number>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n          <nz-col nzSpan=\"12\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"lock\"> </i>\n              </nz-form-label>\n              <nz-form-control>\n                <nz-switch formControlName=\"locked\"></nz-switch>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n      <h5>边框</h5>\n      <form nz-form nzLayout=\"inline\" [formGroup]=\"boundingFormGroup\">\n        <nz-row nzGutter=\"8\">\n          <nz-col nzSpan=\"24\">\n            <nz-form-item>\n              <nz-form-label>\n                <i nz-icon nzType=\"border-outer\"></i>\n              </nz-form-label>\n              <nz-form-control>\n                <ng-template #borderStyleTpl let-selected>\n                  <div class=\"d-flex align-items-center h-100\" [style.width.px]=\"40\">\n                    <ng-container [ngSwitch]=\"selected.nzValue\">\n                      <ng-container *ngSwitchCase=\"'none'\">\n                        <span>none</span>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'dashed'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path\n                            d=\"M0 1h5V0H0v1zm9 0h5V0H9v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1zm9 0h5V0h-5v1zm10 0h5V0h-5v1zm9 0h5V0h-5v1z\"\n                          ></path>\n                        </svg>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'solid'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path d=\"M0 0h80v1H0z\"></path>\n                        </svg>\n                      </ng-container>\n                      <ng-container *ngSwitchCase=\"'dotted'\">\n                        <svg class=\"svg-icon\" viewBox=\"0 0 40 1\">\n                          <path\n                            d=\"M0 1h1V0H0v1zm4 0h1V0H4v1zm4 0h1V0H8v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1zm4 0h1V0h-1v1z\"\n                          ></path>\n                        </svg>\n                      </ng-container>\n                    </ng-container>\n                  </div>\n                </ng-template>\n                <nz-select nzSize=\"small\" formControlName=\"borderStyle\" [nzCustomTemplate]=\"borderStyleTpl\">\n                  <nz-option nzValue=\"none\" nzLabel=\"none\">\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'none' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"dashed\" nzLabel=\"dashed\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'dashed' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"solid\" nzLabel=\"solid\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'solid' } }\"></ng-container>\n                  </nz-option>\n                  <nz-option nzValue=\"dotted\" nzLabel=\"dotted\" nzCustomContent>\n                    <ng-container *ngTemplateOutlet=\"borderStyleTpl; context: { $implicit: { nzValue: 'dotted' } }\"></ng-container>\n                  </nz-option>\n                </nz-select>\n              </nz-form-control>\n            </nz-form-item>\n          </nz-col>\n        </nz-row>\n      </form>\n    </div>\n  </nz-collapse-panel>\n  <nz-collapse-panel nzHeader=\"组件属性\">\n    <ng-template #container></ng-template>\n  </nz-collapse-panel>\n</nz-collapse>\n","import { Component, ComponentFactoryResolver, OnInit, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { updateNodes } from '../../../../actions/nodes.actions';\nimport { filter, map, switchMap } from 'rxjs/operators';\nimport { EditorStore } from '../../../../services/store.service';\n\n@Component({\n  selector: 'ce-widget-form,[ceWidgetForm]',\n  templateUrl: './widget-form.component.html',\n  styleUrls: ['./widget-form.component.less'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class WidgetFormComponent implements OnInit {\n  @ViewChild('container')\n  propsFormContainer: TemplateRef<any>;\n  boundingFormGroup: FormGroup;\n  constructor(private fb: FormBuilder, private cfr: ComponentFactoryResolver, private store: EditorStore) {\n    this.boundingFormGroup = this.fb.group({\n      id: [, [Validators.required]],\n      name: [],\n      width: [, [Validators.required]],\n      height: [, [Validators.required]],\n      left: [, [Validators.required]],\n      top: [, [Validators.required]],\n      locked: [],\n      rotate: [, [Validators.required]],\n      zIndex: [, [Validators.required]],\n      borderStyle: [],\n      borderWidth: [],\n      borderColor: [],\n      borderRadius: [],\n      backgroundColor: [],\n      backgroundImage: [],\n      backgroundRepeat: [],\n      backgroundPosition: [],\n      backgroundSize: [],\n    });\n  }\n\n  ngOnInit(): void {\n    this.store\n      .select((state) => state.selected)\n      .pipe(\n        filter((selected) => selected.size === 1),\n        map((selected) => [...selected][0]),\n        switchMap((id) => this.store.select((state) => state.nodes.find((item) => item.id === id))),\n        filter((node) => !!node)\n      )\n      .subscribe((node) => {\n        this.boundingFormGroup.patchValue(\n          {\n            ...node,\n            width: Math.round(node.width),\n            height: Math.round(node.height),\n            left: Math.round(node.left),\n            top: Math.round(node.top),\n          },\n          { emitEvent: false }\n        );\n      });\n    this.boundingFormGroup.valueChanges.subscribe((values) => {\n      this.store.dispatch(updateNodes([values]));\n    });\n  }\n}\n","<ng-container *ngComponentOutlet=\"formComponent$ | async\"></ng-container>\n","import { ChangeDetectionStrategy, Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EditorStore } from '../../services';\nimport { CanvasFormsComponent } from './forms/canvas-forms/canvas-forms.component';\nimport { WidgetFormComponent } from './forms/widget-form/widget-form.component';\n\n@Component({\n  selector: 'ce-property-form,[cePropertyForm]',\n  templateUrl: './property-form.component.html',\n  styleUrls: ['./property-form.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PropertyFormComponent implements OnInit {\n  formComponent$: Observable<any>;\n  @ViewChild('instance')\n  instance: any;\n  constructor(public store: EditorStore) {}\n\n  ngOnInit(): void {\n    this.formComponent$ = this.store\n      .select((state) => state.selected.size)\n      .pipe(map((size) => (size === 1 ? WidgetFormComponent : CanvasFormsComponent)));\n  }\n}\n","<ce-rotate-handle *ngIf=\"(selectedSize$ | async) === 1\"></ce-rotate-handle>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle t\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 't')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle r\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'r')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle b\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'b')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div\n  *ngIf=\"selectedSize$ | async\"\n  class=\"resizable-handle l\"\n  ceDraggable\n  (ceOnStart)=\"resizeStart($event)\"\n  (ceOnMove)=\"resizing($event, 'l')\"\n  (ceOnStop)=\"resizeEnd()\"\n></div>\n<div class=\"resizable-handle tr\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'tr')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle br\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'br')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle tl\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'tl')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div class=\"resizable-handle bl\" ceDraggable (ceOnStart)=\"resizeStart($event)\" (ceOnMove)=\"resizing($event, 'bl')\" (ceOnStop)=\"resizeEnd()\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"t circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"r circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"b circle\"></div>\n<div *ngIf=\"(selectedSize$ | async) === 1\" class=\"l circle\"></div>\n<div class=\"tr circle\"></div>\n<div class=\"br circle\"></div>\n<div class=\"tl circle\"></div>\n<div class=\"bl circle\"></div>\n","import { ChangeDetectionStrategy, Component, ElementRef, HostBinding, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { updateNodesSize } from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService, IAbsolutePosition, IDOMRect, IRectDirection } from '../../services/utils.service';\nimport { ICanvasPosition, INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-resize-handle,[ceResizeHandle]',\n  templateUrl: 'resize-handle.component.html',\n  styleUrls: ['resize-handle.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ResizeHandleComponent {\n  @HostBinding('style.display')\n  public display = 'none';\n  @HostBinding('style.width.px')\n  public width: number;\n  @HostBinding('style.height.px')\n  public height: number;\n  @HostBinding('style.left.px')\n  public left: number;\n  @HostBinding('style.top.px')\n  public top: number;\n  @HostBinding('style.transform')\n  public get transform(): string {\n    return `rotate(${this.rotate ?? 0}deg)`;\n  }\n  public selected: Set<string>;\n  public selectedSize$: Observable<number>;\n  private canvasPosition: ICanvasPosition;\n  private rotate: number;\n  private nodes: INode[];\n  private resizeMode: 'GROUP' | 'SINGLE';\n  private groupRectSnapshot: IDOMRect;\n  private groupAbsolutePositionSnapshot: IAbsolutePosition;\n  private resizePointSnapshot: { absolute: [number, number]; relative: [number, number] };\n  private nodePositionSnapshotList = new Map<string, IAbsolutePosition>();\n\n  constructor(private store: EditorStore<IStore>, private utils: CeUtilsService, public eleRef: ElementRef<HTMLElement>) {\n    this.selectedSize$ = this.store.selectDifferent((state) => state.selected.size);\n    this.store\n      .selectDifferent((state) => ({ selected: state.selected, canvasPosition: state.canvasPosition, nodes: state.nodes }))\n      .subscribe(({ selected, canvasPosition, nodes }) => {\n        this.display = selected.size ? 'block' : 'none';\n        this.selected = selected;\n        this.canvasPosition = canvasPosition;\n        this.nodes = nodes;\n        if (this.selected.size) {\n          this.refreshResizeHandle();\n        }\n      });\n  }\n\n  refreshResizeHandle(): any {\n    if (!this.selected || !this.nodes) {\n      return;\n    }\n\n    const { left, top, width, height, rotate } = this.utils.getResizeBoundingBox([...this.selected], this.nodes);\n    this.left = left * this.canvasPosition.scale;\n    this.top = top * this.canvasPosition.scale;\n    this.width = width * this.canvasPosition.scale;\n    this.height = height * this.canvasPosition.scale;\n    this.rotate = rotate;\n  }\n\n  resizeStart(event: PointerEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    const { scale } = this.canvasPosition;\n    const canvasRect = document.querySelector('ce-canvas').getBoundingClientRect();\n    this.groupRectSnapshot = { width: this.width / scale, height: this.height / scale, left: this.left / scale, top: this.top / scale };\n    this.groupAbsolutePositionSnapshot = this.utils.getAbsolutePosition(\n      (this.left + this.width / 2) / scale,\n      (this.top + this.height / 2) / scale,\n      this.width / scale,\n      this.height / scale\n    );\n    this.resizePointSnapshot = {\n      absolute: [event.clientX, event.clientY],\n      relative: [(event.clientX - canvasRect.left) / scale, (event.clientY - canvasRect.top) / scale],\n    };\n    this.selected.forEach((id) => {\n      const node = this.utils.getNodeById(id, this.nodes);\n      const nodeAbsolutePosition = this.utils.getAbsolutePosition(\n        node.left + node.width / 2,\n        node.top + node.height / 2,\n        node.width,\n        node.height,\n        node.rotate\n      );\n      if (this.selected.size > 1) {\n        this.resizeMode = 'GROUP';\n        const percentPosition = this.utils.getItemPercentPositionInGroup({ ...this.groupRectSnapshot }, nodeAbsolutePosition);\n        this.nodePositionSnapshotList.set(id, percentPosition);\n      } else {\n        this.resizeMode = 'SINGLE';\n        this.nodePositionSnapshotList.set(id, nodeAbsolutePosition);\n      }\n    });\n  }\n\n  resizing(event: PointerEvent, direction: IRectDirection): void {\n    if (this.resizePointSnapshot && this.groupRectSnapshot && this.resizeMode) {\n      const [mx, my] = [event.clientX - this.resizePointSnapshot.absolute[0], event.clientY - this.resizePointSnapshot.absolute[1]];\n      switch (this.resizeMode) {\n        case 'GROUP':\n          this.resizingNodeList(direction, mx, my);\n          break;\n        case 'SINGLE':\n          this.resizingNode(direction, mx, my);\n          break;\n      }\n    }\n  }\n\n  resizeEnd(): void {\n    this.groupRectSnapshot = null;\n    this.resizePointSnapshot = null;\n    this.nodePositionSnapshotList.clear();\n  }\n\n  resizingNodeList(direction: IRectDirection, mx: number, my: number): void {\n    const { scale } = this.canvasPosition;\n    const { relative } = this.resizePointSnapshot;\n    const endPointer: [number, number] = [relative[0] + mx / scale, relative[1] + my / scale];\n    const line = getGroupDiagonalByDirection(direction, this.groupAbsolutePositionSnapshot);\n    const newPoint = getPointByEndPointer(direction, endPointer, line);\n    const newGroupRect: IDOMRect = getGroupRectByDirectionPoint(direction, this.groupAbsolutePositionSnapshot, newPoint);\n    const nodesSizeMap = new Map<string, IDOMRect>();\n    this.nodePositionSnapshotList.forEach(({ tl, bl, br, tr }, id) => {\n      nodesSizeMap.set(\n        id,\n        this.utils.getRelativePosition({\n          bl: [bl[0] * newGroupRect.width + newGroupRect.left, bl[1] * newGroupRect.height + newGroupRect.top],\n          br: [br[0] * newGroupRect.width + newGroupRect.left, br[1] * newGroupRect.height + newGroupRect.top],\n          tl: [tl[0] * newGroupRect.width + newGroupRect.left, tl[1] * newGroupRect.height + newGroupRect.top],\n          tr: [tr[0] * newGroupRect.width + newGroupRect.left, tr[1] * newGroupRect.height + newGroupRect.top],\n        })\n      );\n    });\n    this.store.dispatch(updateNodesSize(nodesSizeMap));\n  }\n\n  resizingNode(direction: IRectDirection, mx: number, my: number): void {\n    const { scale } = this.canvasPosition;\n    const { relative } = this.resizePointSnapshot;\n    const endPointer: [number, number] = [relative[0] + mx / scale, relative[1] + my / scale];\n    this.nodePositionSnapshotList.forEach((position, id) => {\n      this.store.dispatch(\n        updateNodesSize(\n          new Map<string, IDOMRect>([[id, getDOMRectByDirectionAndPosition(direction, position, endPointer)]])\n        )\n      );\n    });\n  }\n}\n\nfunction getGroupDiagonalByDirection(direction: IRectDirection, absolutePosition: IAbsolutePosition): [[number, number], [number, number]] {\n  const verticalAndHorizontalPosition = CeUtilsService.shared.getVerticalAndHorizontalPointByAbsolutePosition(absolutePosition);\n  switch (direction) {\n    case 'tl':\n    case 'br':\n      return [absolutePosition.tl, absolutePosition.br];\n    case 'tr':\n    case 'bl':\n      return [absolutePosition.tr, absolutePosition.bl];\n    case 't':\n    case 'b':\n      return [verticalAndHorizontalPosition.t, verticalAndHorizontalPosition.b];\n    case 'l':\n    case 'r':\n      return [verticalAndHorizontalPosition.l, verticalAndHorizontalPosition.r];\n  }\n}\n\nfunction getPointByEndPointer(direction: IRectDirection, endPointer: [number, number], line: [[number, number], [number, number]]): [number, number] {\n  switch (direction) {\n    case 'tl':\n    case 'tr':\n      if (endPointer[1] >= CeUtilsService.shared.getPointInLine('y', endPointer[0], line)) {\n        return [endPointer[0], CeUtilsService.shared.getPointInLine('y', endPointer[0], line)];\n      } else {\n        return [CeUtilsService.shared.getPointInLine('x', endPointer[1], line), endPointer[1]];\n      }\n    case 'bl':\n    case 'br':\n      if (endPointer[1] >= CeUtilsService.shared.getPointInLine('y', endPointer[0], line)) {\n        return [CeUtilsService.shared.getPointInLine('x', endPointer[1], line), endPointer[1]];\n      } else {\n        return [endPointer[0], CeUtilsService.shared.getPointInLine('y', endPointer[0], line)];\n      }\n  }\n}\n\nfunction getGroupRectByDirectionPoint(direction: IRectDirection, absolutePoint: IAbsolutePosition, point: [number, number]): IDOMRect {\n  switch (direction) {\n    case 'tl':\n      return { left: point[0], top: point[1], width: absolutePoint.tr[0] - point[0], height: absolutePoint.bl[1] - point[1] };\n    case 'tr':\n      return { left: absolutePoint.tl[0], top: point[1], width: point[0] - absolutePoint.tl[0], height: absolutePoint.br[1] - point[1] };\n    case 'br':\n      return { left: absolutePoint.tl[0], top: absolutePoint.tl[1], width: point[0] - absolutePoint.bl[0], height: point[1] - absolutePoint.tr[1] };\n    case 'bl':\n      return { left: point[0], top: absolutePoint.tl[1], width: absolutePoint.br[0] - point[0], height: point[1] - absolutePoint.tl[1] };\n  }\n}\n\nfunction getDOMRectByDirectionAndPosition(direction: IRectDirection, position: IAbsolutePosition, endPointer: [number, number]): IDOMRect {\n  const { bl, br, tl, tr } = position;\n  let newTLPoint: [number, number];\n  let newTRPoint: [number, number];\n  let newBLPoint: [number, number];\n  let newBRPoint: [number, number];\n  switch (direction) {\n    case 'tl':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, tr, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: endPointer, tr: newTRPoint, bl: newBLPoint, br });\n    case 'tr':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, tl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr: endPointer, bl, br: newBRPoint });\n    case 'bl':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, tl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr, bl: endPointer, br: newBRPoint });\n    case 'br':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, tr, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr: newTRPoint, bl: newBLPoint, br: endPointer });\n    case 't':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, tl, endPointer);\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, tr, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr: newTRPoint, bl, br });\n    case 'r':\n      newTRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, tr, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(bl, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr: newTRPoint, bl, br: newBRPoint });\n    case 'b':\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tl, bl, endPointer);\n      newBRPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, br, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl, tr, bl: newBLPoint, br: newBRPoint });\n    case 'l':\n      newTLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(tr, tl, endPointer);\n      newBLPoint = CeUtilsService.shared.getVerticalLineCrossPoint(br, bl, endPointer);\n      return CeUtilsService.shared.getRelativePosition({ tl: newTLPoint, tr, bl: newBLPoint, br });\n  }\n}\n","import { ChangeDetectionStrategy, Component, OnInit, Optional, SkipSelf, ViewEncapsulation } from '@angular/core';\nimport { updateNodes } from '../../actions';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\nimport { ResizeHandleComponent } from '../resize-handle/resize-handle.component';\n\n@Component({\n  selector: 'ce-rotate-handle',\n  templateUrl: 'rotate-handle.component.html',\n  styleUrls: ['rotate-handle.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RotateHandleComponent implements OnInit {\n  private selected: Set<string>;\n  private nodes: INode[];\n  public rotateSnapshot: [number, number, number, number, INode] = null;\n\n  constructor(@Optional() @SkipSelf() private parent: ResizeHandleComponent, private store: EditorStore<IStore>, private utils: CeUtilsService) {}\n\n  ngOnInit(): void {\n    this.store.select((state) => state.selected).subscribe((selected) => (this.selected = selected));\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n  }\n\n  rotateStart(event: PointerEvent): void {\n    event.stopPropagation();\n    event.preventDefault();\n    const rect = this.parent.eleRef.nativeElement.getBoundingClientRect().toJSON();\n    this.rotateSnapshot = [\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2 - 100,\n      this.utils.getNodeById([...this.selected][0], this.nodes),\n    ];\n  }\n\n  rotating(event: PointerEvent): void {\n    if (this.rotateSnapshot) {\n      const [cx, cy, sx, sy, node] = this.rotateSnapshot;\n      const ex = event.clientX;\n      const ey = event.clientY;\n      const rotate = Math.round(this.utils.getRotate(cx, cy, sx, sy, ex, ey));\n      this.store.dispatch(updateNodes([{ ...node, rotate: rotate === 360 ? 0 : rotate }]));\n    }\n  }\n\n  rotateStop(): void {\n    this.rotateSnapshot = null;\n  }\n}\n","<div\n  class=\"rotate\"\n  ceDraggable\n  (ceOnStart)=\"rotateStart($event)\"\n  (ceOnMove)=\"rotating($event)\"\n  (ceOnStop)=\"rotateStop()\"\n  [style.cursor]=\"rotateSnapshot && 'grabbing'\"\n>\n  <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M10.536 3.464A5 5 0 1 0 11 10l1.424 1.425a7 7 0 1 1-.475-9.374L13.659.34A.2.2 0 0 1 14 .483V5.5a.5.5 0 0 1-.5.5H8.483a.2.2 0 0 1-.142-.341l2.195-2.195z\"\n      fill-rule=\"nonzero\"\n    ></path>\n  </svg>\n</div>\n","import { Directive, HostBinding } from '@angular/core';\nimport { EditorStore } from '../services';\nimport { IStore } from '../store';\n\n@Directive({\n  selector: '[ceNoZoomArea]',\n  exportAs: 'ceNoZoomArea',\n})\nexport class NoZoomAreaDirective {\n  @HostBinding('style.width.px')\n  public width: number;\n  @HostBinding('style.height.px')\n  public height: number;\n  constructor(private store: EditorStore<IStore>) {\n    this.store\n      .select((state) => ({ ...state.canvasSize, scale: state.canvasPosition.scale }))\n      .subscribe((state) => {\n        this.width = state.width * state.scale;\n        this.height = state.height * state.scale;\n      });\n  }\n}\n","import { Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, finalize, switchMap, takeUntil } from 'rxjs/operators';\n\nexport interface ISelectorRect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n@Directive({\n  selector: '[ceSelector]',\n  exportAs: 'ceSelector',\n})\nexport class SelectorDirective implements OnInit, OnDestroy {\n  private subscription = new Subscription();\n  private move$ = fromEvent<PointerEvent>(window, 'pointermove');\n  private up$ = fromEvent<PointerEvent>(window, 'pointerup');\n  private startPointSnapshot: number[] = null;\n  private boxRect: DOMRect;\n\n  @Input()\n  @InputBoolean()\n  public ceSelectorDisabled = false;\n  @Output()\n  public ceOnSelectorStart = new EventEmitter();\n  @Output()\n  public ceOnSelectorMoving = new EventEmitter<ISelectorRect>();\n  @Output()\n  public ceOnSelectorStop = new EventEmitter();\n  constructor(private eleRef: ElementRef<HTMLDivElement>) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      fromEvent<PointerEvent>(this.eleRef.nativeElement, 'pointerdown')\n        .pipe(\n          filter((e) => e.button === 0),\n          filter(() => !this.ceSelectorDisabled),\n          switchMap((ev) => {\n            this.boxRect = this.eleRef.nativeElement.getBoundingClientRect();\n            this.startPointSnapshot = [ev.clientX, ev.clientY];\n            this.ceOnSelectorStart.emit();\n            return this.move$.pipe(\n              finalize(() => {\n                this.startPointSnapshot = null;\n                this.ceOnSelectorStop.emit();\n              }),\n              takeUntil(this.up$)\n            );\n          })\n        )\n        .subscribe((e) => {\n          if (this.startPointSnapshot) {\n            let x: number;\n            let y: number;\n            const [mx, my] = [e.clientX - this.startPointSnapshot[0], e.clientY - this.startPointSnapshot[1]];\n            if (mx >= 0) {\n              x = this.startPointSnapshot[0] - this.boxRect.left;\n            } else {\n              x = e.clientX - this.boxRect.left;\n            }\n            if (my >= 0) {\n              y = this.startPointSnapshot[1] - this.boxRect.top;\n            } else {\n              y = e.clientY - this.boxRect.top;\n            }\n            this.ceOnSelectorMoving.emit({ x, y, width: Math.abs(mx), height: Math.abs(my) });\n          }\n        })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","import { Directive, HostBinding } from '@angular/core';\nimport { EditorStore } from '../services';\nimport { IStore } from '../store';\n\n@Directive({\n  selector: '[ceZoomArea]',\n  exportAs: 'ceZoomArea',\n})\nexport class ZoomAreaDirective {\n  @HostBinding('style.transform-origin')\n  transformOrigin = '0 0';\n  @HostBinding('style.transform')\n  public scale: string;\n  @HostBinding('style.width.px')\n  width: number;\n  @HostBinding('style.height.px')\n  height: number;\n  constructor(private store: EditorStore<IStore>) {\n    this.store\n      .select((state) => ({ ...state.canvasSize, scale: state.canvasPosition.scale }))\n      .subscribe((state) => {\n        this.scale = `perspective(1px) scale(${state.scale})`;\n        this.width = state.width;\n        this.height = state.height;\n      });\n  }\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ceToolbar]',\n  exportAs: 'ceToolbar',\n})\nexport class CeToolbarDirective {\n  constructor() {}\n}\n","<ng-container *ngIf=\"ceToolbar; else elseBlock\">\n  <ng-content select=\"[ceToolbar]\"></ng-content>\n</ng-container>\n\n<ng-template #elseBlock>\n  <nz-card nzSize=\"small\" class=\"tool-bar\">\n    <div class=\"d-flex align-items-center col p-0\">\n      <span class=\"ml-2\">Canvas Title</span>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"copyStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-copy\"></i></button>\n        <button nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-paste\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"groupStatus$ | async\" (click)=\"groupNodes()\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-group\"></i></button>\n        <button [disabled]=\"!(breakStatus$ | async)\" (click)=\"breakNode()\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-break\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-horizontal-between\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-horizontal-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-vertical-between\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-vertical-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-left-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-right-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-top-align\"></i></button>\n        <button [disabled]=\"groupStatus$ | async\" nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-bottom-align\"></i></button>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('LAYERS')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('LAYERS')\">\n          <i nz-icon nzIconfont=\"icon-tuceng\"></i>\n          <span>图层</span>\n        </nz-tag>\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('WIDGET_LIST')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('WIDGET_LIST')\">\n          <i nz-icon nzIconfont=\"icon-widgets\"></i>\n          <span>组件</span>\n        </nz-tag>\n        <nz-tag nzMode=\"checkable\" [nzChecked]=\"store.getPanel('PROPERTIES')?.show\" (nzCheckedChange)=\"store.togglePanelVisible('PROPERTIES')\">\n          <i nz-icon nzIconfont=\"icon-widget\"></i>\n          <span>属性</span>\n        </nz-tag>\n      </div>\n      <div class=\"d-flex ml-auto align-items-center\">\n        <button nz-button nzType=\"link\"><i nz-icon nzIconfont=\"icon-run\"></i></button>\n      </div>\n    </div>\n  </nz-card>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, ContentChild, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { breakNode, clearBordered, clearSelected, groupNodes } from '../../actions';\nimport { CeToolbarDirective } from '../../directives';\nimport { EditorStore } from '../../services';\nimport { CeUtilsService } from '../../services/utils.service';\nimport { INode, IStore } from '../../store';\n\n@Component({\n  selector: 'ce-toolbar',\n  exportAs: 'ceToolbar',\n  templateUrl: 'toolbar.component.html',\n  styleUrls: ['toolbar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ToolbarComponent {\n  @ContentChild(CeToolbarDirective)\n  ceToolbar: CeToolbarDirective;\n  public selected$: Observable<Set<string>>;\n  public scale: number;\n  public get copyStatus$(): Observable<boolean> {\n    return this.selected$.pipe(map((state) => state.size === 0));\n  }\n  public groupStatus$: Observable<boolean>;\n  public breakStatus$: Observable<boolean>;\n  private selected: Set<string>;\n  private nodes: INode[];\n\n  constructor(public store: EditorStore<IStore>, private utils: CeUtilsService) {\n    this.store\n      .selectDifferent((state) => ({ selected: state.selected, nodes: state.nodes }))\n      .subscribe(({ selected, nodes }) => {\n        this.selected = selected;\n        this.nodes = nodes;\n      });\n    this.selected$ = this.store.selectDifferent((state) => state.selected);\n    this.groupStatus$ = this.selected$.pipe(map((state) => state.size <= 1));\n    this.breakStatus$ = this.selected$.pipe(\n      map((state) => (state.size === 1 ? [...state][0] : false)),\n      map((id) => id && !!this.utils.getNodeById(id as string, this.nodes)?.children?.length)\n    );\n  }\n\n  groupNodes(): void {\n    const ids = [...this.selected];\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(groupNodes(ids));\n  }\n\n  breakNode(): void {\n    const node = this.utils.getNodeById([...this.selected][0], this.nodes);\n    this.store.dispatch(clearSelected());\n    this.store.dispatch(clearBordered());\n    this.store.dispatch(breakNode(node.id));\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'ce-widget-list',\n  templateUrl: 'widget-list.component.html',\n  styleUrls: ['widget-list.component.less'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class WidgetListComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","<p>widget-list works!</p>\n","<ng-content select=\"[toolbar]\"></ng-content>\n<div class=\"col p-0 d-flex\">\n  <div\n    #ceDrag=\"ceDraggable\"\n    #container\n    class=\"canvas-container\"\n    ceDraggable\n    ceUseSpace\n    [class.start-drag]=\"ceDrag.spaceKeyDown\"\n    [class.dragging]=\"startPoints\"\n    (ceOnStart)=\"dragStart($event)\"\n    (ceOnMove)=\"dragging($event)\"\n    (ceOnStop)=\"dragEnd()\"\n    ceSelector\n    [ceSelectorDisabled]=\"ceDrag.spaceKeyDown\"\n    (ceOnSelectorStart)=\"selectorStart()\"\n    (ceOnSelectorMoving)=\"selectorMoving($event)\"\n    (ceOnSelectorStop)=\"selectorEnd()\"\n  >\n    <div class=\"canvas-content\" [style.transform]=\"matrix\">\n      <div ceNoZoomArea>\n        <ce-canvas-background></ce-canvas-background>\n        <ce-canvas-grid></ce-canvas-grid>\n      </div>\n      <div ceZoomArea>\n        <ce-canvas></ce-canvas>\n      </div>\n      <div ceNoZoomArea>\n        <ce-bordered-area></ce-bordered-area>\n        <ce-resize-handle></ce-resize-handle>\n        <div\n          cx\n          [class.active]=\"(refLineState$ | async)?.cx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.cx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          cy\n          [class.active]=\"(refLineState$ | async)?.cy?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.cy?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n        <div\n          tx\n          [class.active]=\"(refLineState$ | async)?.tx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.tx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          bx\n          [class.active]=\"(refLineState$ | async)?.bx?.state\"\n          [style.top.px]=\"(refLineState$ | async)?.bx?.position * canvasPosition.scale\"\n          class=\"ref-line y\"\n        ></div>\n        <div\n          ly\n          [class.active]=\"(refLineState$ | async)?.ly?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.ly?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n        <div\n          ry\n          [class.active]=\"(refLineState$ | async)?.ry?.state\"\n          [style.left.px]=\"(refLineState$ | async)?.ry?.position * canvasPosition.scale\"\n          class=\"ref-line x\"\n        ></div>\n      </div>\n    </div>\n    <div\n      class=\"selector\"\n      *ngIf=\"selectorRect\"\n      [style.left.px]=\"selectorRect.x\"\n      [style.top.px]=\"selectorRect.y\"\n      [style.width.px]=\"selectorRect.width\"\n      [style.height.px]=\"selectorRect.height\"\n    ></div>\n  </div>\n</div>\n\n<ng-container *ngFor=\"let panel of store.panels$ | async; trackBy: panelsTrackByFn\">\n  <ce-panel *ngIf=\"panel.show\" [panel]=\"panel\"></ce-panel>\n</ng-container>\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { clearBordered, clearSelected, setBorderedNodes, setSelectedNodes, updateCanvasPosition } from './actions';\nimport { ISelectorRect } from './directives/selector.directive';\nimport { EditorStore } from './services/store.service';\nimport { ICanvasPosition, INode, IPanel, IRefLineDirection, IRefLineState, IStore } from './store';\n\n@Component({\n  selector: 'ce-editor',\n  templateUrl: 'angular-editor-lib.component.html',\n  styleUrls: ['angular-editor-lib.less'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [EditorStore],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'ceEditor',\n})\nexport class AngularEditorLibComponent<T = any> {\n  @Input()\n  set state(state: Partial<IStore<T>>) {\n    this.store?.setState((oldState) => ({ ...oldState, ...state }));\n  }\n  @ViewChild('container', { read: ElementRef, static: true })\n  private containerEleRef: ElementRef<HTMLDivElement>;\n  private subscription = new Subscription();\n  public canvasPosition: ICanvasPosition;\n  public startPoints: number[] = [];\n  public matrix: string;\n  public selectorRect: ISelectorRect = null;\n  public nodes: INode[];\n  public refLineState$: Observable<{ [P in IRefLineDirection]: IRefLineState }>;\n  private nodesRectSnapshot: Map<string, Partial<DOMRect>> = null;\n  private nodeIdList: string[] = null;\n  constructor(public store: EditorStore) {\n    this.store\n      .select((state) => state.canvasPosition)\n      .subscribe((canvasPosition) => {\n        this.canvasPosition = canvasPosition;\n        this.matrix = `translate3d(${this.canvasPosition.left}px,${this.canvasPosition.top}px,0)`;\n      });\n\n    this.store.select((state) => state.nodes).subscribe((nodes) => (this.nodes = nodes));\n    this.refLineState$ = this.store.selectDifferent((state) => state.refLineState);\n  }\n\n  ngAfterViewInit(): void {\n    this.listenScaleEvent();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  panelsTrackByFn(_i: number, panel: IPanel<any>) {\n    return `${panel.key}_${panel.show.toString()}`;\n  }\n\n  dragStart(ev: PointerEvent): void {\n    this.startPoints = [ev.clientX, ev.clientY, this.canvasPosition.left, this.canvasPosition.top];\n  }\n\n  dragging(ev: PointerEvent): void {\n    if (this.startPoints) {\n      const [sx, sy, left, top] = this.startPoints;\n      const [mx, my] = [ev.clientX - sx, ev.clientY - sy];\n      this.store.dispatch(updateCanvasPosition({ left: left + mx, top: top + my }));\n    }\n  }\n\n  dragEnd(): void {\n    this.startPoints = null;\n  }\n\n  listenScaleEvent(): void {\n    const scaleEle = this.containerEleRef.nativeElement;\n    this.subscription.add(\n      fromEvent<WheelEvent & { wheelDelta: number }>(scaleEle, 'wheel')\n        .pipe(filter((e) => e.ctrlKey))\n        .subscribe((e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const containerBox = scaleEle.getBoundingClientRect();\n          const wheelDelta = (e.wheelDelta / 120 || -e.deltaY / 3) * 0.05;\n          const [x, y] = [e.clientX - containerBox.left, e.clientY - containerBox.top];\n          if (this.canvasPosition.scale + wheelDelta >= 0.2) {\n            this.store.dispatch(\n              updateCanvasPosition({\n                scale: this.canvasPosition.scale + wheelDelta,\n                left: (this.canvasPosition.left - x) * (wheelDelta / this.canvasPosition.scale) + this.canvasPosition.left,\n                top: (this.canvasPosition.top - y) * (wheelDelta / this.canvasPosition.scale) + this.canvasPosition.top,\n              })\n            );\n          }\n        })\n    );\n  }\n\n  selectorStart(): void {\n    this.clearSelectAndBorder();\n    const boxRect = this.containerEleRef.nativeElement.getBoundingClientRect();\n    this.nodesRectSnapshot = new Map<string, Partial<DOMRect>>();\n    this.nodes\n      .filter((node) => !node.locked)\n      .forEach((node) => {\n        const rect = document.querySelector(`#box-item-${node.id}`)?.getBoundingClientRect();\n        if (rect) {\n          const { width, height, left, top } = rect;\n          this.nodesRectSnapshot.set(node.id, { width, height, left: left - boxRect.left, top: top - boxRect.top });\n        }\n      });\n  }\n\n  selectorMoving(rect: ISelectorRect): void {\n    this.selectorRect = rect;\n    this.nodeIdList = [];\n    this.nodesRectSnapshot.forEach((item, id) => {\n      if (isInBound(item, this.selectorRect)) {\n        this.nodeIdList.push(id);\n      }\n    });\n    this.store.dispatch(setBorderedNodes<T>(this.nodeIdList));\n    this.store.dispatch(setSelectedNodes(this.nodeIdList));\n  }\n\n  selectorEnd(): void {\n    this.nodeIdList = [];\n    this.selectorRect = null;\n    this.nodesRectSnapshot = null;\n  }\n\n  private clearSelectAndBorder(): void {\n    this.store.dispatch(clearBordered<T>());\n    this.store.dispatch(clearSelected<T>());\n  }\n}\n\nfunction isInBound(rect: Partial<DOMRect>, bound: ISelectorRect): boolean {\n  return (\n    rect.left >= bound.x && rect.top >= bound.y && rect.left + rect.width <= bound.x + bound.width && rect.top + rect.height <= bound.y + bound.height\n  );\n}\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { Injector, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { IconDefinition } from '@ant-design/icons-angular';\nimport * as AllIcons from '@ant-design/icons-angular/icons';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzIconModule, NzIconService } from 'ng-zorro-antd/icon';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { NzPipesModule } from 'ng-zorro-antd/pipes';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzTagModule } from 'ng-zorro-antd/tag';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { NzTreeModule } from 'ng-zorro-antd/tree';\nimport { AngularEditorLibComponent } from './angular-editor-lib.component';\nimport { BorderedAreaComponent } from './components/bordered-area/bordered-area.component';\nimport { BoxItemComponent } from './components/box-item/box-item.component';\nimport { CanvasBackgroundComponent } from './components/canvas-background/canvas-background.component';\nimport { CanvasGridComponent } from './components/canvas-grid/canvas-grid.component';\nimport { CanvasComponent } from './components/canvas/canvas.component';\nimport { LayerTreeComponent } from './components/layer-tree/layer-tree.component';\nimport { PanelComponent } from './components/panel/panel.component';\nimport { CanvasFormsComponent } from './components/property-form/forms/canvas-forms/canvas-forms.component';\nimport { WidgetFormComponent } from './components/property-form/forms/widget-form/widget-form.component';\nimport { PropertyFormComponent } from './components/property-form/property-form.component';\nimport { ResizeHandleComponent } from './components/resize-handle/resize-handle.component';\nimport { RotateHandleComponent } from './components/rotate-handle/rotate-handle.component';\nimport { ToolbarComponent } from './components/toolbar/toolbar.component';\nimport { WidgetListComponent } from './components/widget-list/widget-list.component';\nimport { CeToolbarDirective } from './directives';\nimport { DraggableDirective } from './directives/draggable.directive';\nimport { NoZoomAreaDirective } from './directives/no-zoom-area.directive';\nimport { SelectorDirective } from './directives/selector.directive';\nimport { ZoomAreaDirective } from './directives/zoom-area.directive';\n\nconst antDesignIcons = AllIcons as {\n  [key: string]: IconDefinition;\n};\nconst ICONS: IconDefinition[] = Object.keys(antDesignIcons).map((key) => antDesignIcons[key]);\n\nconst ANTD_MODULES = [\n  NzCardModule,\n  NzIconModule.forRoot(ICONS),\n  NzButtonModule,\n  NzInputNumberModule,\n  NzTabsModule,\n  NzTreeModule,\n  NzDropDownModule,\n  NzPipesModule,\n  NzToolTipModule,\n  NzFormModule,\n  NzInputModule,\n  NzTagModule,\n  NzDividerModule,\n  NzCollapseModule,\n  NzSwitchModule,\n  NzSelectModule,\n];\n\nconst CDK_MODULES = [DragDropModule];\n\nconst FORMS_COMPONENT = [CanvasFormsComponent, WidgetFormComponent];\n\nconst COMPONENTS = [\n  ToolbarComponent,\n  LayerTreeComponent,\n  WidgetListComponent,\n  CanvasComponent,\n  CanvasGridComponent,\n  CanvasBackgroundComponent,\n  BoxItemComponent,\n  ResizeHandleComponent,\n  RotateHandleComponent,\n  BorderedAreaComponent,\n  AngularEditorLibComponent,\n  PanelComponent,\n  PropertyFormComponent,\n];\n\nconst DIRECTIVES = [NoZoomAreaDirective, ZoomAreaDirective, DraggableDirective, SelectorDirective, CeToolbarDirective];\n\n@NgModule({\n  imports: [CommonModule, BrowserAnimationsModule, HttpClientModule, FormsModule, ReactiveFormsModule, ...ANTD_MODULES, ...CDK_MODULES],\n  declarations: [...COMPONENTS, ...DIRECTIVES, ...FORMS_COMPONENT],\n  exports: [...COMPONENTS, ...DIRECTIVES],\n})\nexport class AngularEditorLibModule {\n  constructor(private injector: Injector) {\n    this.injector.get(NzIconService).fetchFromIconfont({ scriptUrl: 'https://at.alicdn.com/t/font_1310204_lmnttxhl5lk.js' });\n  }\n}\n"]}